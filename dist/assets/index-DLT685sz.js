(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function dw(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Im={exports:{}},Hl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y_;function fw(){if(Y_)return Hl;Y_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:i,type:s,key:d,ref:o!==void 0?o:null,props:c}}return Hl.Fragment=e,Hl.jsx=n,Hl.jsxs=n,Hl}var X_;function mw(){return X_||(X_=1,Im.exports=fw()),Im.exports}var f=mw(),Dm={exports:{}},xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function pw(){if(W_)return xe;W_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function w(O){return O===null||typeof O!="object"?null:(O=b&&O[b]||O["@@iterator"],typeof O=="function"?O:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,Q={};function V(O,ie,le){this.props=O,this.context=ie,this.refs=Q,this.updater=le||D}V.prototype.isReactComponent={},V.prototype.setState=function(O,ie){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ie,"setState")},V.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function F(){}F.prototype=V.prototype;function j(O,ie,le){this.props=O,this.context=ie,this.refs=Q,this.updater=le||D}var L=j.prototype=new F;L.constructor=j,q(L,V.prototype),L.isPureReactComponent=!0;var ae=Array.isArray,ce={H:null,A:null,T:null,S:null,V:null},Ae=Object.prototype.hasOwnProperty;function P(O,ie,le,re,ge,Ce){return le=Ce.ref,{$$typeof:i,type:O,key:ie,ref:le!==void 0?le:null,props:Ce}}function x(O,ie){return P(O.type,ie,void 0,void 0,void 0,O.props)}function R(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function I(O){var ie={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(le){return ie[le]})}var M=/\/+/g;function z(O,ie){return typeof O=="object"&&O!==null&&O.key!=null?I(""+O.key):ie.toString(36)}function C(){}function wt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(C,C):(O.status="pending",O.then(function(ie){O.status==="pending"&&(O.status="fulfilled",O.value=ie)},function(ie){O.status==="pending"&&(O.status="rejected",O.reason=ie)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function it(O,ie,le,re,ge){var Ce=typeof O;(Ce==="undefined"||Ce==="boolean")&&(O=null);var be=!1;if(O===null)be=!0;else switch(Ce){case"bigint":case"string":case"number":be=!0;break;case"object":switch(O.$$typeof){case i:case e:be=!0;break;case E:return be=O._init,it(be(O._payload),ie,le,re,ge)}}if(be)return ge=ge(O),be=re===""?"."+z(O,0):re,ae(ge)?(le="",be!=null&&(le=be.replace(M,"$&/")+"/"),it(ge,ie,le,"",function(ti){return ti})):ge!=null&&(R(ge)&&(ge=x(ge,le+(ge.key==null||O&&O.key===ge.key?"":(""+ge.key).replace(M,"$&/")+"/")+be)),ie.push(ge)),1;be=0;var Dt=re===""?".":re+":";if(ae(O))for(var et=0;et<O.length;et++)re=O[et],Ce=Dt+z(re,et),be+=it(re,ie,le,Ce,ge);else if(et=w(O),typeof et=="function")for(O=et.call(O),et=0;!(re=O.next()).done;)re=re.value,Ce=Dt+z(re,et++),be+=it(re,ie,le,Ce,ge);else if(Ce==="object"){if(typeof O.then=="function")return it(wt(O),ie,le,re,ge);throw ie=String(O),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return be}function W(O,ie,le){if(O==null)return O;var re=[],ge=0;return it(O,re,"","",function(Ce){return ie.call(le,Ce,ge++)}),re}function oe(O){if(O._status===-1){var ie=O._result;ie=ie(),ie.then(function(le){(O._status===0||O._status===-1)&&(O._status=1,O._result=le)},function(le){(O._status===0||O._status===-1)&&(O._status=2,O._result=le)}),O._status===-1&&(O._status=0,O._result=ie)}if(O._status===1)return O._result.default;throw O._result}var me=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function qe(){}return xe.Children={map:W,forEach:function(O,ie,le){W(O,function(){ie.apply(this,arguments)},le)},count:function(O){var ie=0;return W(O,function(){ie++}),ie},toArray:function(O){return W(O,function(ie){return ie})||[]},only:function(O){if(!R(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},xe.Component=V,xe.Fragment=n,xe.Profiler=o,xe.PureComponent=j,xe.StrictMode=s,xe.Suspense=g,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,xe.__COMPILER_RUNTIME={__proto__:null,c:function(O){return ce.H.useMemoCache(O)}},xe.cache=function(O){return function(){return O.apply(null,arguments)}},xe.cloneElement=function(O,ie,le){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var re=q({},O.props),ge=O.key,Ce=void 0;if(ie!=null)for(be in ie.ref!==void 0&&(Ce=void 0),ie.key!==void 0&&(ge=""+ie.key),ie)!Ae.call(ie,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&ie.ref===void 0||(re[be]=ie[be]);var be=arguments.length-2;if(be===1)re.children=le;else if(1<be){for(var Dt=Array(be),et=0;et<be;et++)Dt[et]=arguments[et+2];re.children=Dt}return P(O.type,ge,void 0,void 0,Ce,re)},xe.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},xe.createElement=function(O,ie,le){var re,ge={},Ce=null;if(ie!=null)for(re in ie.key!==void 0&&(Ce=""+ie.key),ie)Ae.call(ie,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(ge[re]=ie[re]);var be=arguments.length-2;if(be===1)ge.children=le;else if(1<be){for(var Dt=Array(be),et=0;et<be;et++)Dt[et]=arguments[et+2];ge.children=Dt}if(O&&O.defaultProps)for(re in be=O.defaultProps,be)ge[re]===void 0&&(ge[re]=be[re]);return P(O,Ce,void 0,void 0,null,ge)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(O){return{$$typeof:p,render:O}},xe.isValidElement=R,xe.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:oe}},xe.memo=function(O,ie){return{$$typeof:y,type:O,compare:ie===void 0?null:ie}},xe.startTransition=function(O){var ie=ce.T,le={};ce.T=le;try{var re=O(),ge=ce.S;ge!==null&&ge(le,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(qe,me)}catch(Ce){me(Ce)}finally{ce.T=ie}},xe.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},xe.use=function(O){return ce.H.use(O)},xe.useActionState=function(O,ie,le){return ce.H.useActionState(O,ie,le)},xe.useCallback=function(O,ie){return ce.H.useCallback(O,ie)},xe.useContext=function(O){return ce.H.useContext(O)},xe.useDebugValue=function(){},xe.useDeferredValue=function(O,ie){return ce.H.useDeferredValue(O,ie)},xe.useEffect=function(O,ie,le){var re=ce.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(O,ie)},xe.useId=function(){return ce.H.useId()},xe.useImperativeHandle=function(O,ie,le){return ce.H.useImperativeHandle(O,ie,le)},xe.useInsertionEffect=function(O,ie){return ce.H.useInsertionEffect(O,ie)},xe.useLayoutEffect=function(O,ie){return ce.H.useLayoutEffect(O,ie)},xe.useMemo=function(O,ie){return ce.H.useMemo(O,ie)},xe.useOptimistic=function(O,ie){return ce.H.useOptimistic(O,ie)},xe.useReducer=function(O,ie,le){return ce.H.useReducer(O,ie,le)},xe.useRef=function(O){return ce.H.useRef(O)},xe.useState=function(O){return ce.H.useState(O)},xe.useSyncExternalStore=function(O,ie,le){return ce.H.useSyncExternalStore(O,ie,le)},xe.useTransition=function(){return ce.H.useTransition()},xe.version="19.1.1",xe}var Z_;function Ip(){return Z_||(Z_=1,Dm.exports=pw()),Dm.exports}var U=Ip();const rr=dw(U);var jm={exports:{}},Gl={},Om={exports:{}},Mm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_;function gw(){return J_||(J_=1,(function(i){function e(W,oe){var me=W.length;W.push(oe);e:for(;0<me;){var qe=me-1>>>1,O=W[qe];if(0<o(O,oe))W[qe]=oe,W[me]=O,me=qe;else break e}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var oe=W[0],me=W.pop();if(me!==oe){W[0]=me;e:for(var qe=0,O=W.length,ie=O>>>1;qe<ie;){var le=2*(qe+1)-1,re=W[le],ge=le+1,Ce=W[ge];if(0>o(re,me))ge<O&&0>o(Ce,re)?(W[qe]=Ce,W[ge]=me,qe=ge):(W[qe]=re,W[le]=me,qe=le);else if(ge<O&&0>o(Ce,me))W[qe]=Ce,W[ge]=me,qe=ge;else break e}}return oe}function o(W,oe){var me=W.sortIndex-oe.sortIndex;return me!==0?me:W.id-oe.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();i.unstable_now=function(){return d.now()-p}}var g=[],y=[],E=1,b=null,w=3,D=!1,q=!1,Q=!1,V=!1,F=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function ae(W){for(var oe=n(y);oe!==null;){if(oe.callback===null)s(y);else if(oe.startTime<=W)s(y),oe.sortIndex=oe.expirationTime,e(g,oe);else break;oe=n(y)}}function ce(W){if(Q=!1,ae(W),!q)if(n(g)!==null)q=!0,Ae||(Ae=!0,z());else{var oe=n(y);oe!==null&&it(ce,oe.startTime-W)}}var Ae=!1,P=-1,x=5,R=-1;function I(){return V?!0:!(i.unstable_now()-R<x)}function M(){if(V=!1,Ae){var W=i.unstable_now();R=W;var oe=!0;try{e:{q=!1,Q&&(Q=!1,j(P),P=-1),D=!0;var me=w;try{t:{for(ae(W),b=n(g);b!==null&&!(b.expirationTime>W&&I());){var qe=b.callback;if(typeof qe=="function"){b.callback=null,w=b.priorityLevel;var O=qe(b.expirationTime<=W);if(W=i.unstable_now(),typeof O=="function"){b.callback=O,ae(W),oe=!0;break t}b===n(g)&&s(g),ae(W)}else s(g);b=n(g)}if(b!==null)oe=!0;else{var ie=n(y);ie!==null&&it(ce,ie.startTime-W),oe=!1}}break e}finally{b=null,w=me,D=!1}oe=void 0}}finally{oe?z():Ae=!1}}}var z;if(typeof L=="function")z=function(){L(M)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,wt=C.port2;C.port1.onmessage=M,z=function(){wt.postMessage(null)}}else z=function(){F(M,0)};function it(W,oe){P=F(function(){W(i.unstable_now())},oe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(W){W.callback=null},i.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<W?Math.floor(1e3/W):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(W){switch(w){case 1:case 2:case 3:var oe=3;break;default:oe=w}var me=w;w=oe;try{return W()}finally{w=me}},i.unstable_requestPaint=function(){V=!0},i.unstable_runWithPriority=function(W,oe){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var me=w;w=W;try{return oe()}finally{w=me}},i.unstable_scheduleCallback=function(W,oe,me){var qe=i.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?qe+me:qe):me=qe,W){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=me+O,W={id:E++,callback:oe,priorityLevel:W,startTime:me,expirationTime:O,sortIndex:-1},me>qe?(W.sortIndex=me,e(y,W),n(g)===null&&W===n(y)&&(Q?(j(P),P=-1):Q=!0,it(ce,me-qe))):(W.sortIndex=O,e(g,W),q||D||(q=!0,Ae||(Ae=!0,z()))),W},i.unstable_shouldYield=I,i.unstable_wrapCallback=function(W){var oe=w;return function(){var me=w;w=oe;try{return W.apply(this,arguments)}finally{w=me}}}})(Mm)),Mm}var e0;function yw(){return e0||(e0=1,Om.exports=gw()),Om.exports}var km={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t0;function vw(){if(t0)return Yt;t0=1;var i=Ip();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:y,implementation:E}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Yt.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,E)},Yt.flushSync=function(g){var y=d.T,E=s.p;try{if(d.T=null,s.p=2,g)return g()}finally{d.T=y,s.p=E,s.d.f()}},Yt.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Yt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Yt.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,b=p(E,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,D=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:D}):E==="script"&&s.d.X(g,{crossOrigin:b,integrity:w,fetchPriority:D,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Yt.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=p(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Yt.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,b=p(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Yt.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=p(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Yt.requestFormReset=function(g){s.d.r(g)},Yt.unstable_batchedUpdates=function(g,y){return g(y)},Yt.useFormState=function(g,y,E){return d.H.useFormState(g,y,E)},Yt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Yt.version="19.1.1",Yt}var n0;function _w(){if(n0)return km.exports;n0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),km.exports=vw(),km.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i0;function Ew(){if(i0)return Gl;i0=1;var i=yw(),e=Ip(),n=_w();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function d(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(c(t)!==t)throw Error(s(188))}function g(t){var r=t.alternate;if(!r){if(r=c(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return p(h),t;if(m===l)return p(h),r;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=m;else{for(var T=!1,S=h.child;S;){if(S===a){T=!0,a=h,l=m;break}if(S===l){T=!0,l=h,a=m;break}S=S.sibling}if(!T){for(S=m.child;S;){if(S===a){T=!0,a=m,l=h;break}if(S===l){T=!0,l=m,a=h;break}S=S.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function y(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=y(t),r!==null)return r;t=t.sibling}return null}var E=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),j=Symbol.for("react.consumer"),L=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),Ae=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function z(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function wt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case q:return"Fragment";case V:return"Profiler";case Q:return"StrictMode";case ce:return"Suspense";case Ae:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case D:return"Portal";case L:return(t.displayName||"Context")+".Provider";case j:return(t._context.displayName||"Context")+".Consumer";case ae:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case P:return r=t.displayName||null,r!==null?r:wt(t.type)||"Memo";case x:r=t._payload,t=t._init;try{return wt(t(r))}catch{}}return null}var it=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},qe=[],O=-1;function ie(t){return{current:t}}function le(t){0>O||(t.current=qe[O],qe[O]=null,O--)}function re(t,r){O++,qe[O]=t.current,t.current=r}var ge=ie(null),Ce=ie(null),be=ie(null),Dt=ie(null);function et(t,r){switch(re(be,r),re(Ce,t),re(ge,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?S_(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=S_(r),t=w_(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}le(ge),re(ge,t)}function ti(){le(ge),le(Ce),le(be)}function gr(t){t.memoizedState!==null&&re(Dt,t);var r=ge.current,a=w_(r,t.type);r!==a&&(re(Ce,t),re(ge,a))}function Ii(t){Ce.current===t&&(le(ge),le(Ce)),Dt.current===t&&(le(Dt),Ul._currentValue=me)}var fs=Object.prototype.hasOwnProperty,ms=i.unstable_scheduleCallback,ps=i.unstable_cancelCallback,Vo=i.unstable_shouldYield,Lc=i.unstable_requestPaint,Sn=i.unstable_now,Cd=i.unstable_getCurrentPriorityLevel,Po=i.unstable_ImmediatePriority,da=i.unstable_UserBlockingPriority,gs=i.unstable_NormalPriority,Id=i.unstable_LowPriority,fa=i.unstable_IdlePriority,Lo=i.log,Uc=i.unstable_setDisableYieldValue,ct=null,Qe=null;function dn(t){if(typeof Lo=="function"&&Uc(t),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(ct,t)}catch{}}var $t=Math.clz32?Math.clz32:ys,zc=Math.log,Dd=Math.LN2;function ys(t){return t>>>=0,t===0?32:31-(zc(t)/Dd|0)|0}var vs=256,_s=4194304;function zn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ma(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,m=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~m,l!==0?h=zn(l):(T&=S,T!==0?h=zn(T):a||(a=S&~t,a!==0&&(h=zn(a))))):(S=l&~m,S!==0?h=zn(S):T!==0?h=zn(T):a||(a=l&~t,a!==0&&(h=zn(a)))),h===0?0:r!==0&&r!==h&&(r&m)===0&&(m=h&-h,a=r&-r,m>=a||m===32&&(a&4194048)!==0)?r:h}function Es(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Uo(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zo(){var t=vs;return vs<<=1,(vs&4194048)===0&&(vs=256),t}function Bo(){var t=_s;return _s<<=1,(_s&62914560)===0&&(_s=4194304),t}function Di(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function ji(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function qo(t,r,a,l,h,m){var T=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,N=t.expirationTimes,$=t.hiddenUpdates;for(a=T&~a;0<a;){var Z=31-$t(a),te=1<<Z;S[Z]=0,N[Z]=-1;var K=$[Z];if(K!==null)for($[Z]=null,Z=0;Z<K.length;Z++){var Y=K[Z];Y!==null&&(Y.lane&=-536870913)}a&=~te}l!==0&&ni(t,l,0),m!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=m&~(T&~r))}function ni(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-$t(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Fo(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-$t(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function yr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function pa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function vr(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:F_(t.type))}function Bc(t,r){var a=oe.p;try{return oe.p=t,r()}finally{oe.p=a}}var rt=Math.random().toString(36).slice(2),At="__reactFiber$"+rt,yt="__reactProps$"+rt,wn="__reactContainer$"+rt,Ho="__reactEvents$"+rt,jd="__reactListeners$"+rt,_r="__reactHandles$"+rt,qc="__reactResources$"+rt,Ts="__reactMarker$"+rt;function Er(t){delete t[At],delete t[yt],delete t[Ho],delete t[jd],delete t[_r]}function Oi(t){var r=t[At];if(r)return r;for(var a=t.parentNode;a;){if(r=a[wn]||a[At]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=N_(t);t!==null;){if(a=t[At])return a;t=N_(t)}return r}t=a,a=t.parentNode}return null}function ii(t){if(t=t[At]||t[wn]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function ri(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function tn(t){var r=t[qc];return r||(r=t[qc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function dt(t){t[Ts]=!0}var Go=new Set,ga={};function Bn(t,r){Mi(t,r),Mi(t+"Capture",r)}function Mi(t,r){for(ga[t]=r,t=0;t<r.length;t++)Go.add(r[t])}var Fc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hc={},bs={};function Gc(t){return fs.call(bs,t)?!0:fs.call(Hc,t)?!1:Fc.test(t)?bs[t]=!0:(Hc[t]=!0,!1)}function Tr(t,r,a){if(Gc(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function si(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Ut(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var Ss,Qc;function ki(t){if(Ss===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Ss=r&&r[1]||"",Qc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ss+t+Qc}var ya=!1;function va(t,r){if(!t||ya)return"";ya=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Y){var K=Y}Reflect.construct(t,[],te)}else{try{te.call()}catch(Y){K=Y}t.call(te.prototype)}}else{try{throw Error()}catch(Y){K=Y}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Y){if(Y&&K&&typeof Y.stack=="string")return[Y.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),T=m[0],S=m[1];if(T&&S){var N=T.split(`
`),$=S.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<$.length&&!$[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===$.length)for(l=N.length-1,h=$.length-1;1<=l&&0<=h&&N[l]!==$[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==$[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==$[h]){var Z=`
`+N[l].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=l&&0<=h);break}}}finally{ya=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ki(a):""}function Qo(t){switch(t.tag){case 26:case 27:case 5:return ki(t.type);case 16:return ki("Lazy");case 13:return ki("Suspense");case 19:return ki("SuspenseList");case 0:case 15:return va(t.type,!1);case 11:return va(t.type.render,!1);case 1:return va(t.type,!0);case 31:return ki("Activity");default:return""}}function _a(t){try{var r="";do r+=Qo(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function nn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $o(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Od(t){var r=$o(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,m=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(T){l=""+T,m.call(this,T)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ea(t){t._valueTracker||(t._valueTracker=Od(t))}function Ko(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=$o(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function ws(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Md=/[\n"\\]/g;function vt(t){return t.replace(Md,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function fn(t,r,a,l,h,m,T,S){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),r!=null?T==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+nn(r)):t.value!==""+nn(r)&&(t.value=""+nn(r)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),r!=null?br(t,T,nn(r)):a!=null?br(t,T,nn(a)):l!=null&&t.removeAttribute("value"),h==null&&m!=null&&(t.defaultChecked=!!m),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+nn(S):t.removeAttribute("name")}function As(t,r,a,l,h,m,T,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null))return;a=a!=null?""+nn(a):"",r=r!=null?""+nn(r):a,S||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T)}function br(t,r,a){r==="number"&&ws(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Vi(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+nn(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Ye(t,r,a){if(r!=null&&(r=""+nn(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+nn(a):""}function xs(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(it(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=nn(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function An(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Rs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $c(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Rs.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Yo(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&$c(t,h,l)}else for(var m in r)r.hasOwnProperty(m)&&$c(t,m,r[m])}function Xo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ta(t){return Vd.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Pi=null;function xn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Li=null,Ui=null;function Wo(t){var r=ii(t);if(r&&(t=r.stateNode)){var a=t[yt]||null;e:switch(t=r.stateNode,r.type){case"input":if(fn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+vt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[yt]||null;if(!h)throw Error(s(90));fn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Ko(l)}break e;case"textarea":Ye(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Vi(t,!!a.multiple,r,!1)}}}var ai=!1;function Kc(t,r,a){if(ai)return t(r,a);ai=!0;try{var l=t(r);return l}finally{if(ai=!1,(Li!==null||Ui!==null)&&(Bu(),Li&&(r=Li,t=Ui,Ui=Li=null,Wo(r),t)))for(r=0;r<t.length;r++)Wo(t[r])}}function Ns(t,r){var a=t.stateNode;if(a===null)return null;var l=a[yt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rn=!1;if(qn)try{var Cs={};Object.defineProperty(Cs,"passive",{get:function(){Rn=!0}}),window.addEventListener("test",Cs,Cs),window.removeEventListener("test",Cs,Cs)}catch{Rn=!1}var oi=null,Sr=null,zi=null;function Zo(){if(zi)return zi;var t,r=Sr,a=r.length,l,h="value"in oi?oi.value:oi.textContent,m=h.length;for(t=0;t<a&&r[t]===h[t];t++);var T=a-t;for(l=1;l<=T&&r[a-l]===h[m-l];l++);return zi=h.slice(t,1<l?1-l:void 0)}function li(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function ci(){return!0}function Jo(){return!1}function jt(t){function r(a,l,h,m,T){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ci:Jo,this.isPropagationStopped=Jo,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ci)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ci)},persist:function(){},isPersistent:ci}),r}var He={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ba=jt(He),Is=E({},He,{view:0,detail:0}),Yc=jt(Is),Sa,wa,ui,Ds=E({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ms,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ui&&(ui&&t.type==="mousemove"?(Sa=t.screenX-ui.screenX,wa=t.screenY-ui.screenY):wa=Sa=0,ui=t),Sa)},movementY:function(t){return"movementY"in t?t.movementY:wa}}),Nn=jt(Ds),Xc=E({},Ds,{dataTransfer:0}),Pd=jt(Xc),js=E({},Is,{relatedTarget:0}),Aa=jt(js),el=E({},He,{animationName:0,elapsedTime:0,pseudoElement:0}),xa=jt(el),Wc=E({},He,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ra=jt(Wc),Ld=E({},He,{data:0}),tl=jt(Ld),Os={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nl(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Jc[t])?!!r[t]:!1}function Ms(){return nl}var eu=E({},Is,{key:function(t){if(t.key){var r=Os[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=li(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Zc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ms,charCode:function(t){return t.type==="keypress"?li(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?li(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Na=jt(eu),tu=E({},Ds,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),il=jt(tu),Bi=E({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ms}),nu=jt(Bi),iu=E({},He,{propertyName:0,elapsedTime:0,pseudoElement:0}),ru=jt(iu),su=E({},Ds,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ca=jt(su),rn=E({},He,{newState:0,oldState:0}),au=jt(rn),ou=[9,13,27,32],hi=qn&&"CompositionEvent"in window,u=null;qn&&"documentMode"in document&&(u=document.documentMode);var v=qn&&"TextEvent"in window&&!u,_=qn&&(!hi||u&&8<u&&11>=u),A=" ",H=!1;function X(t,r){switch(t){case"keyup":return ou.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ve=!1;function xt(t,r){switch(t){case"compositionend":return se(r);case"keypress":return r.which!==32?null:(H=!0,A);case"textInput":return t=r.data,t===A&&H?null:t;default:return null}}function Pe(t,r){if(Ve)return t==="compositionend"||!hi&&X(t,r)?(t=Zo(),zi=Sr=oi=null,Ve=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Ot={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rt(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Ot[t.type]:r==="textarea"}function qi(t,r,a,l){Li?Ui?Ui.push(l):Ui=[l]:Li=l,r=$u(r,"onChange"),0<r.length&&(a=new ba("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var zt=null,di=null;function rl(t){v_(t,0)}function lu(t){var r=ri(t);if(Ko(r))return t}function Ug(t,r){if(t==="change")return r}var zg=!1;if(qn){var Ud;if(qn){var zd="oninput"in document;if(!zd){var Bg=document.createElement("div");Bg.setAttribute("oninput","return;"),zd=typeof Bg.oninput=="function"}Ud=zd}else Ud=!1;zg=Ud&&(!document.documentMode||9<document.documentMode)}function qg(){zt&&(zt.detachEvent("onpropertychange",Fg),di=zt=null)}function Fg(t){if(t.propertyName==="value"&&lu(di)){var r=[];qi(r,di,t,xn(t)),Kc(rl,r)}}function qb(t,r,a){t==="focusin"?(qg(),zt=r,di=a,zt.attachEvent("onpropertychange",Fg)):t==="focusout"&&qg()}function Fb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return lu(di)}function Hb(t,r){if(t==="click")return lu(r)}function Gb(t,r){if(t==="input"||t==="change")return lu(r)}function Qb(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var mn=typeof Object.is=="function"?Object.is:Qb;function sl(t,r){if(mn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!fs.call(r,h)||!mn(t[h],r[h]))return!1}return!0}function Hg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Gg(t,r){var a=Hg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Hg(a)}}function Qg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Qg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function $g(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=ws(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=ws(t.document)}return r}function Bd(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var $b=qn&&"documentMode"in document&&11>=document.documentMode,Ia=null,qd=null,al=null,Fd=!1;function Kg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Fd||Ia==null||Ia!==ws(l)||(l=Ia,"selectionStart"in l&&Bd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),al&&sl(al,l)||(al=l,l=$u(qd,"onSelect"),0<l.length&&(r=new ba("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Ia)))}function ks(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Da={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionrun:ks("Transition","TransitionRun"),transitionstart:ks("Transition","TransitionStart"),transitioncancel:ks("Transition","TransitionCancel"),transitionend:ks("Transition","TransitionEnd")},Hd={},Yg={};qn&&(Yg=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function Vs(t){if(Hd[t])return Hd[t];if(!Da[t])return t;var r=Da[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Yg)return Hd[t]=r[a];return t}var Xg=Vs("animationend"),Wg=Vs("animationiteration"),Zg=Vs("animationstart"),Kb=Vs("transitionrun"),Yb=Vs("transitionstart"),Xb=Vs("transitioncancel"),Jg=Vs("transitionend"),ey=new Map,Gd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gd.push("scrollEnd");function Fn(t,r){ey.set(t,r),Bn(r,[t])}var ty=new WeakMap;function Cn(t,r){if(typeof t=="object"&&t!==null){var a=ty.get(t);return a!==void 0?a:(r={value:t,source:r,stack:_a(r)},ty.set(t,r),r)}return{value:t,source:r,stack:_a(r)}}var In=[],ja=0,Qd=0;function cu(){for(var t=ja,r=Qd=ja=0;r<t;){var a=In[r];In[r++]=null;var l=In[r];In[r++]=null;var h=In[r];In[r++]=null;var m=In[r];if(In[r++]=null,l!==null&&h!==null){var T=l.pending;T===null?h.next=h:(h.next=T.next,T.next=h),l.pending=h}m!==0&&ny(a,h,m)}}function uu(t,r,a,l){In[ja++]=t,In[ja++]=r,In[ja++]=a,In[ja++]=l,Qd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function $d(t,r,a,l){return uu(t,r,a,l),hu(t)}function Oa(t,r){return uu(t,null,null,r),hu(t)}function ny(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,m=t.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(h=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,h&&r!==null&&(h=31-$t(a),t=m.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),m):null}function hu(t){if(50<Dl)throw Dl=0,em=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Ma={};function Wb(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,r,a,l){return new Wb(t,r,a,l)}function Kd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fi(t,r){var a=t.alternate;return a===null?(a=pn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function iy(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function du(t,r,a,l,h,m){var T=0;if(l=t,typeof t=="function")Kd(t)&&(T=1);else if(typeof t=="string")T=JS(t,a,ge.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=pn(31,a,r,h),t.elementType=R,t.lanes=m,t;case q:return Ps(a.children,h,m,r);case Q:T=8,h|=24;break;case V:return t=pn(12,a,r,h|2),t.elementType=V,t.lanes=m,t;case ce:return t=pn(13,a,r,h),t.elementType=ce,t.lanes=m,t;case Ae:return t=pn(19,a,r,h),t.elementType=Ae,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case F:case L:T=10;break e;case j:T=9;break e;case ae:T=11;break e;case P:T=14;break e;case x:T=16,l=null;break e}T=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=pn(T,a,r,h),r.elementType=t,r.type=l,r.lanes=m,r}function Ps(t,r,a,l){return t=pn(7,t,l,r),t.lanes=a,t}function Yd(t,r,a){return t=pn(6,t,null,r),t.lanes=a,t}function Xd(t,r,a){return r=pn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var ka=[],Va=0,fu=null,mu=0,Dn=[],jn=0,Ls=null,Hi=1,Gi="";function Us(t,r){ka[Va++]=mu,ka[Va++]=fu,fu=t,mu=r}function ry(t,r,a){Dn[jn++]=Hi,Dn[jn++]=Gi,Dn[jn++]=Ls,Ls=t;var l=Hi;t=Gi;var h=32-$t(l)-1;l&=~(1<<h),a+=1;var m=32-$t(r)+h;if(30<m){var T=h-h%5;m=(l&(1<<T)-1).toString(32),l>>=T,h-=T,Hi=1<<32-$t(r)+h|a<<h|l,Gi=m+t}else Hi=1<<m|a<<h|l,Gi=t}function Wd(t){t.return!==null&&(Us(t,1),ry(t,1,0))}function Zd(t){for(;t===fu;)fu=ka[--Va],ka[Va]=null,mu=ka[--Va],ka[Va]=null;for(;t===Ls;)Ls=Dn[--jn],Dn[jn]=null,Gi=Dn[--jn],Dn[jn]=null,Hi=Dn[--jn],Dn[jn]=null}var sn=null,ut=null,Fe=!1,zs=null,fi=!1,Jd=Error(s(519));function Bs(t){var r=Error(s(418,""));throw cl(Cn(r,t)),Jd}function sy(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[At]=t,r[yt]=l,a){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(a=0;a<Ol.length;a++)je(Ol[a],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":je("invalid",r),As(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ea(r);break;case"select":je("invalid",r);break;case"textarea":je("invalid",r),xs(r,l.value,l.defaultValue,l.children),Ea(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||b_(r.textContent,a)?(l.popover!=null&&(je("beforetoggle",r),je("toggle",r)),l.onScroll!=null&&je("scroll",r),l.onScrollEnd!=null&&je("scrollend",r),l.onClick!=null&&(r.onclick=Ku),r=!0):r=!1,r||Bs(t)}function ay(t){for(sn=t.return;sn;)switch(sn.tag){case 5:case 13:fi=!1;return;case 27:case 3:fi=!0;return;default:sn=sn.return}}function ol(t){if(t!==sn)return!1;if(!Fe)return ay(t),Fe=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||gm(t.type,t.memoizedProps)),a=!a),a&&ut&&Bs(t),ay(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){ut=Gn(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}ut=null}}else r===27?(r=ut,Ur(t.type)?(t=Em,Em=null,ut=t):ut=r):ut=sn?Gn(t.stateNode.nextSibling):null;return!0}function ll(){ut=sn=null,Fe=!1}function oy(){var t=zs;return t!==null&&(ln===null?ln=t:ln.push.apply(ln,t),zs=null),t}function cl(t){zs===null?zs=[t]:zs.push(t)}var ef=ie(null),qs=null,Qi=null;function wr(t,r,a){re(ef,r._currentValue),r._currentValue=a}function $i(t){t._currentValue=ef.current,le(ef)}function tf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function nf(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var m=h.dependencies;if(m!==null){var T=h.child;m=m.firstContext;e:for(;m!==null;){var S=m;m=h;for(var N=0;N<r.length;N++)if(S.context===r[N]){m.lanes|=a,S=m.alternate,S!==null&&(S.lanes|=a),tf(m.return,a,t),l||(T=null);break e}m=S.next}}else if(h.tag===18){if(T=h.return,T===null)throw Error(s(341));T.lanes|=a,m=T.alternate,m!==null&&(m.lanes|=a),tf(T,a,t),T=null}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===t){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}}function ul(t,r,a,l){t=null;for(var h=r,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var T=h.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var S=h.type;mn(h.pendingProps.value,T.value)||(t!==null?t.push(S):t=[S])}}else if(h===Dt.current){if(T=h.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ul):t=[Ul])}h=h.return}t!==null&&nf(r,t,a,l),r.flags|=262144}function pu(t){for(t=t.firstContext;t!==null;){if(!mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Fs(t){qs=t,Qi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return ly(qs,t)}function gu(t,r){return qs===null&&Fs(t),ly(t,r)}function ly(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Qi===null){if(t===null)throw Error(s(308));Qi=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Qi=Qi.next=r;return a}var Zb=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},Jb=i.unstable_scheduleCallback,eS=i.unstable_NormalPriority,Nt={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rf(){return{controller:new Zb,data:new Map,refCount:0}}function hl(t){t.refCount--,t.refCount===0&&Jb(eS,function(){t.controller.abort()})}var dl=null,sf=0,Pa=0,La=null;function tS(t,r){if(dl===null){var a=dl=[];sf=0,Pa=om(),La={status:"pending",value:void 0,then:function(l){a.push(l)}}}return sf++,r.then(cy,cy),r}function cy(){if(--sf===0&&dl!==null){La!==null&&(La.status="fulfilled");var t=dl;dl=null,Pa=0,La=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function nS(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var uy=W.S;W.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&tS(t,r),uy!==null&&uy(t,r)};var Hs=ie(null);function af(){var t=Hs.current;return t!==null?t:tt.pooledCache}function yu(t,r){r===null?re(Hs,Hs.current):re(Hs,r.pool)}function hy(){var t=af();return t===null?null:{parent:Nt._currentValue,pool:t}}var fl=Error(s(460)),dy=Error(s(474)),vu=Error(s(542)),of={then:function(){}};function fy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function _u(){}function my(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(_u,_u),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,gy(t),t;default:if(typeof r.status=="string")r.then(_u,_u);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,gy(t),t}throw ml=r,fl}}var ml=null;function py(){if(ml===null)throw Error(s(459));var t=ml;return ml=null,t}function gy(t){if(t===fl||t===vu)throw Error(s(483))}var Ar=!1;function lf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function xr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Rr(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=hu(t),ny(t,null,a),r}return uu(t,l,r,a),hu(t)}function pl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Fo(t,a)}}function uf(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?h=m=T:m=m.next=T,a=a.next}while(a!==null);m===null?h=m=r:m=m.next=r}else h=m=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var hf=!1;function gl(){if(hf){var t=La;if(t!==null)throw t}}function yl(t,r,a,l){hf=!1;var h=t.updateQueue;Ar=!1;var m=h.firstBaseUpdate,T=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var N=S,$=N.next;N.next=null,T===null?m=$:T.next=$,T=N;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,S=Z.lastBaseUpdate,S!==T&&(S===null?Z.firstBaseUpdate=$:S.next=$,Z.lastBaseUpdate=N))}if(m!==null){var te=h.baseState;T=0,Z=$=N=null,S=m;do{var K=S.lane&-536870913,Y=K!==S.lane;if(Y?(Le&K)===K:(l&K)===K){K!==0&&K===Pa&&(hf=!0),Z!==null&&(Z=Z.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Te=t,ye=S;K=r;var Ze=a;switch(ye.tag){case 1:if(Te=ye.payload,typeof Te=="function"){te=Te.call(Ze,te,K);break e}te=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=ye.payload,K=typeof Te=="function"?Te.call(Ze,te,K):Te,K==null)break e;te=E({},te,K);break e;case 2:Ar=!0}}K=S.callback,K!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[K]:Y.push(K))}else Y={lane:K,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Z===null?($=Z=Y,N=te):Z=Z.next=Y,T|=K;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;Y=S,S=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);Z===null&&(N=te),h.baseState=N,h.firstBaseUpdate=$,h.lastBaseUpdate=Z,m===null&&(h.shared.lanes=0),kr|=T,t.lanes=T,t.memoizedState=te}}function yy(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function vy(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)yy(a[t],r)}var Ua=ie(null),Eu=ie(0);function _y(t,r){t=er,re(Eu,t),re(Ua,r),er=t|r.baseLanes}function df(){re(Eu,er),re(Ua,Ua.current)}function ff(){er=Eu.current,le(Ua),le(Eu)}var Nr=0,Re=null,Xe=null,_t=null,Tu=!1,za=!1,Gs=!1,bu=0,vl=0,Ba=null,iS=0;function ft(){throw Error(s(321))}function mf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!mn(t[a],r[a]))return!1;return!0}function pf(t,r,a,l,h,m){return Nr=m,Re=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,W.H=t===null||t.memoizedState===null?nv:iv,Gs=!1,m=a(l,h),Gs=!1,za&&(m=Ty(r,a,l,h)),Ey(t),m}function Ey(t){W.H=Nu;var r=Xe!==null&&Xe.next!==null;if(Nr=0,_t=Xe=Re=null,Tu=!1,vl=0,Ba=null,r)throw Error(s(300));t===null||Mt||(t=t.dependencies,t!==null&&pu(t)&&(Mt=!0))}function Ty(t,r,a,l){Re=t;var h=0;do{if(za&&(Ba=null),vl=0,za=!1,25<=h)throw Error(s(301));if(h+=1,_t=Xe=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}W.H=uS,m=r(a,l)}while(za);return m}function rS(){var t=W.H,r=t.useState()[0];return r=typeof r.then=="function"?_l(r):r,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(Re.flags|=1024),r}function gf(){var t=bu!==0;return bu=0,t}function yf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function vf(t){if(Tu){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Tu=!1}Nr=0,_t=Xe=Re=null,za=!1,vl=bu=0,Ba=null}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Re.memoizedState=_t=t:_t=_t.next=t,_t}function Et(){if(Xe===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var r=_t===null?Re.memoizedState:_t.next;if(r!==null)_t=r,Xe=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},_t===null?Re.memoizedState=_t=t:_t=_t.next=t}return _t}function _f(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _l(t){var r=vl;return vl+=1,Ba===null&&(Ba=[]),t=my(Ba,t,r),r=Re,(_t===null?r.memoizedState:_t.next)===null&&(r=r.alternate,W.H=r===null||r.memoizedState===null?nv:iv),t}function Su(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return _l(t);if(t.$$typeof===L)return Kt(t)}throw Error(s(438,String(t)))}function Ef(t){var r=null,a=Re.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=_f(),Re.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=I;return r.index++,a}function Ki(t,r){return typeof r=="function"?r(t):r}function wu(t){var r=Et();return Tf(r,Xe,t)}function Tf(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,m=l.pending;if(m!==null){if(h!==null){var T=h.next;h.next=m.next,m.next=T}r.baseQueue=h=m,l.pending=null}if(m=t.baseState,h===null)t.memoizedState=m;else{r=h.next;var S=T=null,N=null,$=r,Z=!1;do{var te=$.lane&-536870913;if(te!==$.lane?(Le&te)===te:(Nr&te)===te){var K=$.revertLane;if(K===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),te===Pa&&(Z=!0);else if((Nr&K)===K){$=$.next,K===Pa&&(Z=!0);continue}else te={lane:0,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},N===null?(S=N=te,T=m):N=N.next=te,Re.lanes|=K,kr|=K;te=$.action,Gs&&a(m,te),m=$.hasEagerState?$.eagerState:a(m,te)}else K={lane:te,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},N===null?(S=N=K,T=m):N=N.next=K,Re.lanes|=te,kr|=te;$=$.next}while($!==null&&$!==r);if(N===null?T=m:N.next=S,!mn(m,t.memoizedState)&&(Mt=!0,Z&&(a=La,a!==null)))throw a;t.memoizedState=m,t.baseState=T,t.baseQueue=N,l.lastRenderedState=m}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function bf(t){var r=Et(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,m=r.memoizedState;if(h!==null){a.pending=null;var T=h=h.next;do m=t(m,T.action),T=T.next;while(T!==h);mn(m,r.memoizedState)||(Mt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,l]}function by(t,r,a){var l=Re,h=Et(),m=Fe;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=r();var T=!mn((Xe||h).memoizedState,a);T&&(h.memoizedState=a,Mt=!0),h=h.queue;var S=Ay.bind(null,l,h,t);if(El(2048,8,S,[t]),h.getSnapshot!==r||T||_t!==null&&_t.memoizedState.tag&1){if(l.flags|=2048,qa(9,Au(),wy.bind(null,l,h,a,r),null),tt===null)throw Error(s(349));m||(Nr&124)!==0||Sy(l,r,a)}return a}function Sy(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Re.updateQueue,r===null?(r=_f(),Re.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function wy(t,r,a,l){r.value=a,r.getSnapshot=l,xy(r)&&Ry(t)}function Ay(t,r,a){return a(function(){xy(r)&&Ry(t)})}function xy(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!mn(t,a)}catch{return!0}}function Ry(t){var r=Oa(t,2);r!==null&&En(r,t,2)}function Sf(t){var r=an();if(typeof t=="function"){var a=t;if(t=a(),Gs){dn(!0);try{a()}finally{dn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:t},r}function Ny(t,r,a,l){return t.baseState=a,Tf(t,Xe,typeof l=="function"?l:Ki)}function sS(t,r,a,l,h){if(Ru(t))throw Error(s(485));if(t=r.action,t!==null){var m={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};W.T!==null?a(!0):m.isTransition=!1,l(m),a=r.pending,a===null?(m.next=r.pending=m,Cy(r,m)):(m.next=a.next,r.pending=a.next=m)}}function Cy(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var m=W.T,T={};W.T=T;try{var S=a(h,l),N=W.S;N!==null&&N(T,S),Iy(t,r,S)}catch($){wf(t,r,$)}finally{W.T=m}}else try{m=a(h,l),Iy(t,r,m)}catch($){wf(t,r,$)}}function Iy(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Dy(t,r,l)},function(l){return wf(t,r,l)}):Dy(t,r,a)}function Dy(t,r,a){r.status="fulfilled",r.value=a,jy(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Cy(t,a)))}function wf(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,jy(r),r=r.next;while(r!==l)}t.action=null}function jy(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Oy(t,r){return r}function My(t,r){if(Fe){var a=tt.formState;if(a!==null){e:{var l=Re;if(Fe){if(ut){t:{for(var h=ut,m=fi;h.nodeType!==8;){if(!m){h=null;break t}if(h=Gn(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){ut=Gn(h.nextSibling),l=h.data==="F!";break e}}Bs(l)}l=!1}l&&(r=a[0])}}return a=an(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oy,lastRenderedState:r},a.queue=l,a=Jy.bind(null,Re,l),l.dispatch=a,l=Sf(!1),m=Cf.bind(null,Re,!1,l.queue),l=an(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=sS.bind(null,Re,h,m,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function ky(t){var r=Et();return Vy(r,Xe,t)}function Vy(t,r,a){if(r=Tf(t,r,Oy)[0],t=wu(Ki)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=_l(r)}catch(T){throw T===fl?vu:T}else l=r;r=Et();var h=r.queue,m=h.dispatch;return a!==r.memoizedState&&(Re.flags|=2048,qa(9,Au(),aS.bind(null,h,a),null)),[l,m,t]}function aS(t,r){t.action=r}function Py(t){var r=Et(),a=Xe;if(a!==null)return Vy(r,a,t);Et(),r=r.memoizedState,a=Et();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function qa(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Re.updateQueue,r===null&&(r=_f(),Re.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function Au(){return{destroy:void 0,resource:void 0}}function Ly(){return Et().memoizedState}function xu(t,r,a,l){var h=an();l=l===void 0?null:l,Re.flags|=t,h.memoizedState=qa(1|r,Au(),a,l)}function El(t,r,a,l){var h=Et();l=l===void 0?null:l;var m=h.memoizedState.inst;Xe!==null&&l!==null&&mf(l,Xe.memoizedState.deps)?h.memoizedState=qa(r,m,a,l):(Re.flags|=t,h.memoizedState=qa(1|r,m,a,l))}function Uy(t,r){xu(8390656,8,t,r)}function zy(t,r){El(2048,8,t,r)}function By(t,r){return El(4,2,t,r)}function qy(t,r){return El(4,4,t,r)}function Fy(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Hy(t,r,a){a=a!=null?a.concat([t]):null,El(4,4,Fy.bind(null,r,t),a)}function Af(){}function Gy(t,r){var a=Et();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&mf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function Qy(t,r){var a=Et();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&mf(r,l[1]))return l[0];if(l=t(),Gs){dn(!0);try{t()}finally{dn(!1)}}return a.memoizedState=[l,r],l}function xf(t,r,a){return a===void 0||(Nr&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=Yv(),Re.lanes|=t,kr|=t,a)}function $y(t,r,a,l){return mn(a,r)?a:Ua.current!==null?(t=xf(t,a,l),mn(t,r)||(Mt=!0),t):(Nr&42)===0?(Mt=!0,t.memoizedState=a):(t=Yv(),Re.lanes|=t,kr|=t,r)}function Ky(t,r,a,l,h){var m=oe.p;oe.p=m!==0&&8>m?m:8;var T=W.T,S={};W.T=S,Cf(t,!1,r,a);try{var N=h(),$=W.S;if($!==null&&$(S,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Z=nS(N,l);Tl(t,r,Z,_n(t))}else Tl(t,r,l,_n(t))}catch(te){Tl(t,r,{then:function(){},status:"rejected",reason:te},_n())}finally{oe.p=m,W.T=T}}function oS(){}function Rf(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=Yy(t).queue;Ky(t,h,r,me,a===null?oS:function(){return Xy(t),a(l)})}function Yy(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:me},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Xy(t){var r=Yy(t).next.queue;Tl(t,r,{},_n())}function Nf(){return Kt(Ul)}function Wy(){return Et().memoizedState}function Zy(){return Et().memoizedState}function lS(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=_n();t=xr(a);var l=Rr(r,t,a);l!==null&&(En(l,r,a),pl(l,r,a)),r={cache:rf()},t.payload=r;return}r=r.return}}function cS(t,r,a){var l=_n();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ru(t)?ev(r,a):(a=$d(t,r,a,l),a!==null&&(En(a,t,l),tv(a,r,l)))}function Jy(t,r,a){var l=_n();Tl(t,r,a,l)}function Tl(t,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ru(t))ev(r,h);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var T=r.lastRenderedState,S=m(T,a);if(h.hasEagerState=!0,h.eagerState=S,mn(S,T))return uu(t,r,h,0),tt===null&&cu(),!1}catch{}finally{}if(a=$d(t,r,h,l),a!==null)return En(a,t,l),tv(a,r,l),!0}return!1}function Cf(t,r,a,l){if(l={lane:2,revertLane:om(),action:l,hasEagerState:!1,eagerState:null,next:null},Ru(t)){if(r)throw Error(s(479))}else r=$d(t,a,l,2),r!==null&&En(r,t,2)}function Ru(t){var r=t.alternate;return t===Re||r!==null&&r===Re}function ev(t,r){za=Tu=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function tv(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Fo(t,a)}}var Nu={readContext:Kt,use:Su,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft},nv={readContext:Kt,use:Su,useCallback:function(t,r){return an().memoizedState=[t,r===void 0?null:r],t},useContext:Kt,useEffect:Uy,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,xu(4194308,4,Fy.bind(null,r,t),a)},useLayoutEffect:function(t,r){return xu(4194308,4,t,r)},useInsertionEffect:function(t,r){xu(4,2,t,r)},useMemo:function(t,r){var a=an();r=r===void 0?null:r;var l=t();if(Gs){dn(!0);try{t()}finally{dn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=an();if(a!==void 0){var h=a(r);if(Gs){dn(!0);try{a(r)}finally{dn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=cS.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var r=an();return t={current:t},r.memoizedState=t},useState:function(t){t=Sf(t);var r=t.queue,a=Jy.bind(null,Re,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Af,useDeferredValue:function(t,r){var a=an();return xf(a,t,r)},useTransition:function(){var t=Sf(!1);return t=Ky.bind(null,Re,t.queue,!0,!1),an().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Re,h=an();if(Fe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),tt===null)throw Error(s(349));(Le&124)!==0||Sy(l,r,a)}h.memoizedState=a;var m={value:a,getSnapshot:r};return h.queue=m,Uy(Ay.bind(null,l,m,t),[t]),l.flags|=2048,qa(9,Au(),wy.bind(null,l,m,a,r),null),a},useId:function(){var t=an(),r=tt.identifierPrefix;if(Fe){var a=Gi,l=Hi;a=(l&~(1<<32-$t(l)-1)).toString(32)+a,r="«"+r+"R"+a,a=bu++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=iS++,r="«"+r+"r"+a.toString(32)+"»";return t.memoizedState=r},useHostTransitionStatus:Nf,useFormState:My,useActionState:My,useOptimistic:function(t){var r=an();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Cf.bind(null,Re,!0,a),a.dispatch=r,[t,r]},useMemoCache:Ef,useCacheRefresh:function(){return an().memoizedState=lS.bind(null,Re)}},iv={readContext:Kt,use:Su,useCallback:Gy,useContext:Kt,useEffect:zy,useImperativeHandle:Hy,useInsertionEffect:By,useLayoutEffect:qy,useMemo:Qy,useReducer:wu,useRef:Ly,useState:function(){return wu(Ki)},useDebugValue:Af,useDeferredValue:function(t,r){var a=Et();return $y(a,Xe.memoizedState,t,r)},useTransition:function(){var t=wu(Ki)[0],r=Et().memoizedState;return[typeof t=="boolean"?t:_l(t),r]},useSyncExternalStore:by,useId:Wy,useHostTransitionStatus:Nf,useFormState:ky,useActionState:ky,useOptimistic:function(t,r){var a=Et();return Ny(a,Xe,t,r)},useMemoCache:Ef,useCacheRefresh:Zy},uS={readContext:Kt,use:Su,useCallback:Gy,useContext:Kt,useEffect:zy,useImperativeHandle:Hy,useInsertionEffect:By,useLayoutEffect:qy,useMemo:Qy,useReducer:bf,useRef:Ly,useState:function(){return bf(Ki)},useDebugValue:Af,useDeferredValue:function(t,r){var a=Et();return Xe===null?xf(a,t,r):$y(a,Xe.memoizedState,t,r)},useTransition:function(){var t=bf(Ki)[0],r=Et().memoizedState;return[typeof t=="boolean"?t:_l(t),r]},useSyncExternalStore:by,useId:Wy,useHostTransitionStatus:Nf,useFormState:Py,useActionState:Py,useOptimistic:function(t,r){var a=Et();return Xe!==null?Ny(a,Xe,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Ef,useCacheRefresh:Zy},Fa=null,bl=0;function Cu(t){var r=bl;return bl+=1,Fa===null&&(Fa=[]),my(Fa,t,r)}function Sl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Iu(t,r){throw r.$$typeof===b?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function rv(t){var r=t._init;return r(t._payload)}function sv(t){function r(B,k){if(t){var G=B.deletions;G===null?(B.deletions=[k],B.flags|=16):G.push(k)}}function a(B,k){if(!t)return null;for(;k!==null;)r(B,k),k=k.sibling;return null}function l(B){for(var k=new Map;B!==null;)B.key!==null?k.set(B.key,B):k.set(B.index,B),B=B.sibling;return k}function h(B,k){return B=Fi(B,k),B.index=0,B.sibling=null,B}function m(B,k,G){return B.index=G,t?(G=B.alternate,G!==null?(G=G.index,G<k?(B.flags|=67108866,k):G):(B.flags|=67108866,k)):(B.flags|=1048576,k)}function T(B){return t&&B.alternate===null&&(B.flags|=67108866),B}function S(B,k,G,J){return k===null||k.tag!==6?(k=Yd(G,B.mode,J),k.return=B,k):(k=h(k,G),k.return=B,k)}function N(B,k,G,J){var de=G.type;return de===q?Z(B,k,G.props.children,J,G.key):k!==null&&(k.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===x&&rv(de)===k.type)?(k=h(k,G.props),Sl(k,G),k.return=B,k):(k=du(G.type,G.key,G.props,null,B.mode,J),Sl(k,G),k.return=B,k)}function $(B,k,G,J){return k===null||k.tag!==4||k.stateNode.containerInfo!==G.containerInfo||k.stateNode.implementation!==G.implementation?(k=Xd(G,B.mode,J),k.return=B,k):(k=h(k,G.children||[]),k.return=B,k)}function Z(B,k,G,J,de){return k===null||k.tag!==7?(k=Ps(G,B.mode,J,de),k.return=B,k):(k=h(k,G),k.return=B,k)}function te(B,k,G){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Yd(""+k,B.mode,G),k.return=B,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case w:return G=du(k.type,k.key,k.props,null,B.mode,G),Sl(G,k),G.return=B,G;case D:return k=Xd(k,B.mode,G),k.return=B,k;case x:var J=k._init;return k=J(k._payload),te(B,k,G)}if(it(k)||z(k))return k=Ps(k,B.mode,G,null),k.return=B,k;if(typeof k.then=="function")return te(B,Cu(k),G);if(k.$$typeof===L)return te(B,gu(B,k),G);Iu(B,k)}return null}function K(B,k,G,J){var de=k!==null?k.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return de!==null?null:S(B,k,""+G,J);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case w:return G.key===de?N(B,k,G,J):null;case D:return G.key===de?$(B,k,G,J):null;case x:return de=G._init,G=de(G._payload),K(B,k,G,J)}if(it(G)||z(G))return de!==null?null:Z(B,k,G,J,null);if(typeof G.then=="function")return K(B,k,Cu(G),J);if(G.$$typeof===L)return K(B,k,gu(B,G),J);Iu(B,G)}return null}function Y(B,k,G,J,de){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return B=B.get(G)||null,S(k,B,""+J,de);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case w:return B=B.get(J.key===null?G:J.key)||null,N(k,B,J,de);case D:return B=B.get(J.key===null?G:J.key)||null,$(k,B,J,de);case x:var Ie=J._init;return J=Ie(J._payload),Y(B,k,G,J,de)}if(it(J)||z(J))return B=B.get(G)||null,Z(k,B,J,de,null);if(typeof J.then=="function")return Y(B,k,G,Cu(J),de);if(J.$$typeof===L)return Y(B,k,G,gu(k,J),de);Iu(k,J)}return null}function Te(B,k,G,J){for(var de=null,Ie=null,fe=k,ve=k=0,Vt=null;fe!==null&&ve<G.length;ve++){fe.index>ve?(Vt=fe,fe=null):Vt=fe.sibling;var ze=K(B,fe,G[ve],J);if(ze===null){fe===null&&(fe=Vt);break}t&&fe&&ze.alternate===null&&r(B,fe),k=m(ze,k,ve),Ie===null?de=ze:Ie.sibling=ze,Ie=ze,fe=Vt}if(ve===G.length)return a(B,fe),Fe&&Us(B,ve),de;if(fe===null){for(;ve<G.length;ve++)fe=te(B,G[ve],J),fe!==null&&(k=m(fe,k,ve),Ie===null?de=fe:Ie.sibling=fe,Ie=fe);return Fe&&Us(B,ve),de}for(fe=l(fe);ve<G.length;ve++)Vt=Y(fe,B,ve,G[ve],J),Vt!==null&&(t&&Vt.alternate!==null&&fe.delete(Vt.key===null?ve:Vt.key),k=m(Vt,k,ve),Ie===null?de=Vt:Ie.sibling=Vt,Ie=Vt);return t&&fe.forEach(function(Hr){return r(B,Hr)}),Fe&&Us(B,ve),de}function ye(B,k,G,J){if(G==null)throw Error(s(151));for(var de=null,Ie=null,fe=k,ve=k=0,Vt=null,ze=G.next();fe!==null&&!ze.done;ve++,ze=G.next()){fe.index>ve?(Vt=fe,fe=null):Vt=fe.sibling;var Hr=K(B,fe,ze.value,J);if(Hr===null){fe===null&&(fe=Vt);break}t&&fe&&Hr.alternate===null&&r(B,fe),k=m(Hr,k,ve),Ie===null?de=Hr:Ie.sibling=Hr,Ie=Hr,fe=Vt}if(ze.done)return a(B,fe),Fe&&Us(B,ve),de;if(fe===null){for(;!ze.done;ve++,ze=G.next())ze=te(B,ze.value,J),ze!==null&&(k=m(ze,k,ve),Ie===null?de=ze:Ie.sibling=ze,Ie=ze);return Fe&&Us(B,ve),de}for(fe=l(fe);!ze.done;ve++,ze=G.next())ze=Y(fe,B,ve,ze.value,J),ze!==null&&(t&&ze.alternate!==null&&fe.delete(ze.key===null?ve:ze.key),k=m(ze,k,ve),Ie===null?de=ze:Ie.sibling=ze,Ie=ze);return t&&fe.forEach(function(hw){return r(B,hw)}),Fe&&Us(B,ve),de}function Ze(B,k,G,J){if(typeof G=="object"&&G!==null&&G.type===q&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case w:e:{for(var de=G.key;k!==null;){if(k.key===de){if(de=G.type,de===q){if(k.tag===7){a(B,k.sibling),J=h(k,G.props.children),J.return=B,B=J;break e}}else if(k.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===x&&rv(de)===k.type){a(B,k.sibling),J=h(k,G.props),Sl(J,G),J.return=B,B=J;break e}a(B,k);break}else r(B,k);k=k.sibling}G.type===q?(J=Ps(G.props.children,B.mode,J,G.key),J.return=B,B=J):(J=du(G.type,G.key,G.props,null,B.mode,J),Sl(J,G),J.return=B,B=J)}return T(B);case D:e:{for(de=G.key;k!==null;){if(k.key===de)if(k.tag===4&&k.stateNode.containerInfo===G.containerInfo&&k.stateNode.implementation===G.implementation){a(B,k.sibling),J=h(k,G.children||[]),J.return=B,B=J;break e}else{a(B,k);break}else r(B,k);k=k.sibling}J=Xd(G,B.mode,J),J.return=B,B=J}return T(B);case x:return de=G._init,G=de(G._payload),Ze(B,k,G,J)}if(it(G))return Te(B,k,G,J);if(z(G)){if(de=z(G),typeof de!="function")throw Error(s(150));return G=de.call(G),ye(B,k,G,J)}if(typeof G.then=="function")return Ze(B,k,Cu(G),J);if(G.$$typeof===L)return Ze(B,k,gu(B,G),J);Iu(B,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,k!==null&&k.tag===6?(a(B,k.sibling),J=h(k,G),J.return=B,B=J):(a(B,k),J=Yd(G,B.mode,J),J.return=B,B=J),T(B)):a(B,k)}return function(B,k,G,J){try{bl=0;var de=Ze(B,k,G,J);return Fa=null,de}catch(fe){if(fe===fl||fe===vu)throw fe;var Ie=pn(29,fe,null,B.mode);return Ie.lanes=J,Ie.return=B,Ie}finally{}}}var Ha=sv(!0),av=sv(!1),On=ie(null),mi=null;function Cr(t){var r=t.alternate;re(Ct,Ct.current&1),re(On,t),mi===null&&(r===null||Ua.current!==null||r.memoizedState!==null)&&(mi=t)}function ov(t){if(t.tag===22){if(re(Ct,Ct.current),re(On,t),mi===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(mi=t)}}else Ir()}function Ir(){re(Ct,Ct.current),re(On,On.current)}function Yi(t){le(On),mi===t&&(mi=null),le(Ct)}var Ct=ie(0);function Du(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||_m(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function If(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:E({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Df={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=_n(),h=xr(l);h.payload=r,a!=null&&(h.callback=a),r=Rr(t,h,l),r!==null&&(En(r,t,l),pl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=_n(),h=xr(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=Rr(t,h,l),r!==null&&(En(r,t,l),pl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=_n(),l=xr(a);l.tag=2,r!=null&&(l.callback=r),r=Rr(t,l,a),r!==null&&(En(r,t,a),pl(r,t,a))}};function lv(t,r,a,l,h,m,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,m,T):r.prototype&&r.prototype.isPureReactComponent?!sl(a,l)||!sl(h,m):!0}function cv(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&Df.enqueueReplaceState(r,r.state,null)}function Qs(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var ju=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function uv(t){ju(t)}function hv(t){console.error(t)}function dv(t){ju(t)}function Ou(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function fv(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function jf(t,r,a){return a=xr(a),a.tag=3,a.payload={element:null},a.callback=function(){Ou(t,r)},a}function mv(t){return t=xr(t),t.tag=3,t}function pv(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var m=l.value;t.payload=function(){return h(m)},t.callback=function(){fv(r,a,l)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){fv(r,a,l),typeof h!="function"&&(Vr===null?Vr=new Set([this]):Vr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function hS(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&ul(r,a,h,!0),a=On.current,a!==null){switch(a.tag){case 13:return mi===null?nm():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===of?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),rm(t,l,h)),!1;case 22:return a.flags|=65536,l===of?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),rm(t,l,h)),!1}throw Error(s(435,a.tag))}return rm(t,l,h),nm(),!1}if(Fe)return r=On.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Jd&&(t=Error(s(422),{cause:l}),cl(Cn(t,a)))):(l!==Jd&&(r=Error(s(423),{cause:l}),cl(Cn(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Cn(l,a),h=jf(t.stateNode,l,h),uf(t,h),ht!==4&&(ht=2)),!1;var m=Error(s(520),{cause:l});if(m=Cn(m,a),Il===null?Il=[m]:Il.push(m),ht!==4&&(ht=2),r===null)return!0;l=Cn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=jf(a.stateNode,l,t),uf(a,t),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Vr===null||!Vr.has(m))))return a.flags|=65536,h&=-h,a.lanes|=h,h=mv(h),pv(h,t,a,l),uf(a,h),!1}a=a.return}while(a!==null);return!1}var gv=Error(s(461)),Mt=!1;function Bt(t,r,a,l){r.child=t===null?av(r,null,a,l):Ha(r,t.child,a,l)}function yv(t,r,a,l,h){a=a.render;var m=r.ref;if("ref"in l){var T={};for(var S in l)S!=="ref"&&(T[S]=l[S])}else T=l;return Fs(r),l=pf(t,r,a,T,m,h),S=gf(),t!==null&&!Mt?(yf(t,r,h),Xi(t,r,h)):(Fe&&S&&Wd(r),r.flags|=1,Bt(t,r,l,h),r.child)}function vv(t,r,a,l,h){if(t===null){var m=a.type;return typeof m=="function"&&!Kd(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,_v(t,r,m,l,h)):(t=du(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(m=t.child,!zf(t,h)){var T=m.memoizedProps;if(a=a.compare,a=a!==null?a:sl,a(T,l)&&t.ref===r.ref)return Xi(t,r,h)}return r.flags|=1,t=Fi(m,l),t.ref=r.ref,t.return=r,r.child=t}function _v(t,r,a,l,h){if(t!==null){var m=t.memoizedProps;if(sl(m,l)&&t.ref===r.ref)if(Mt=!1,r.pendingProps=l=m,zf(t,h))(t.flags&131072)!==0&&(Mt=!0);else return r.lanes=t.lanes,Xi(t,r,h)}return Of(t,r,a,l,h)}function Ev(t,r,a){var l=r.pendingProps,h=l.children,m=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,t!==null){for(h=r.child=t.child,m=0;h!==null;)m=m|h.lanes|h.childLanes,h=h.sibling;r.childLanes=m&~l}else r.childLanes=0,r.child=null;return Tv(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&yu(r,m!==null?m.cachePool:null),m!==null?_y(r,m):df(),ov(r);else return r.lanes=r.childLanes=536870912,Tv(t,r,m!==null?m.baseLanes|a:a,a)}else m!==null?(yu(r,m.cachePool),_y(r,m),Ir(),r.memoizedState=null):(t!==null&&yu(r,null),df(),Ir());return Bt(t,r,h,a),r.child}function Tv(t,r,a,l){var h=af();return h=h===null?null:{parent:Nt._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},t!==null&&yu(r,null),df(),ov(r),t!==null&&ul(t,r,l,!0),null}function Mu(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function Of(t,r,a,l,h){return Fs(r),a=pf(t,r,a,l,void 0,h),l=gf(),t!==null&&!Mt?(yf(t,r,h),Xi(t,r,h)):(Fe&&l&&Wd(r),r.flags|=1,Bt(t,r,a,h),r.child)}function bv(t,r,a,l,h,m){return Fs(r),r.updateQueue=null,a=Ty(r,l,a,h),Ey(t),l=gf(),t!==null&&!Mt?(yf(t,r,m),Xi(t,r,m)):(Fe&&l&&Wd(r),r.flags|=1,Bt(t,r,a,m),r.child)}function Sv(t,r,a,l,h){if(Fs(r),r.stateNode===null){var m=Ma,T=a.contextType;typeof T=="object"&&T!==null&&(m=Kt(T)),m=new a(l,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Df,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=l,m.state=r.memoizedState,m.refs={},lf(r),T=a.contextType,m.context=typeof T=="object"&&T!==null?Kt(T):Ma,m.state=r.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(If(r,a,T,l),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&Df.enqueueReplaceState(m,m.state,null),yl(r,l,m,h),gl(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){m=r.stateNode;var S=r.memoizedProps,N=Qs(a,S);m.props=N;var $=m.context,Z=a.contextType;T=Ma,typeof Z=="object"&&Z!==null&&(T=Kt(Z));var te=a.getDerivedStateFromProps;Z=typeof te=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,Z||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||$!==T)&&cv(r,m,l,T),Ar=!1;var K=r.memoizedState;m.state=K,yl(r,l,m,h),gl(),$=r.memoizedState,S||K!==$||Ar?(typeof te=="function"&&(If(r,a,te,l),$=r.memoizedState),(N=Ar||lv(r,a,N,l,K,$,T))?(Z||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=$),m.props=l,m.state=$,m.context=T,l=N):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{m=r.stateNode,cf(t,r),T=r.memoizedProps,Z=Qs(a,T),m.props=Z,te=r.pendingProps,K=m.context,$=a.contextType,N=Ma,typeof $=="object"&&$!==null&&(N=Kt($)),S=a.getDerivedStateFromProps,($=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==te||K!==N)&&cv(r,m,l,N),Ar=!1,K=r.memoizedState,m.state=K,yl(r,l,m,h),gl();var Y=r.memoizedState;T!==te||K!==Y||Ar||t!==null&&t.dependencies!==null&&pu(t.dependencies)?(typeof S=="function"&&(If(r,a,S,l),Y=r.memoizedState),(Z=Ar||lv(r,a,Z,l,K,Y,N)||t!==null&&t.dependencies!==null&&pu(t.dependencies))?($||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,Y,N),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,Y,N)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&K===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&K===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Y),m.props=l,m.state=Y,m.context=N,l=Z):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&K===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&K===t.memoizedState||(r.flags|=1024),l=!1)}return m=l,Mu(t,r),l=(r.flags&128)!==0,m||l?(m=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,t!==null&&l?(r.child=Ha(r,t.child,null,h),r.child=Ha(r,null,a,h)):Bt(t,r,a,h),r.memoizedState=m.state,t=r.child):t=Xi(t,r,h),t}function wv(t,r,a,l){return ll(),r.flags|=256,Bt(t,r,a,l),r.child}var Mf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kf(t){return{baseLanes:t,cachePool:hy()}}function Vf(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Mn),t}function Av(t,r,a){var l=r.pendingProps,h=!1,m=(r.flags&128)!==0,T;if((T=m)||(T=t!==null&&t.memoizedState===null?!1:(Ct.current&2)!==0),T&&(h=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,t===null){if(Fe){if(h?Cr(r):Ir(),Fe){var S=ut,N;if(N=S){e:{for(N=S,S=fi;N.nodeType!==8;){if(!S){S=null;break e}if(N=Gn(N.nextSibling),N===null){S=null;break e}}S=N}S!==null?(r.memoizedState={dehydrated:S,treeContext:Ls!==null?{id:Hi,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},N=pn(18,null,null,0),N.stateNode=S,N.return=r,r.child=N,sn=r,ut=null,N=!0):N=!1}N||Bs(r)}if(S=r.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return _m(S)?r.lanes=32:r.lanes=536870912,null;Yi(r)}return S=l.children,l=l.fallback,h?(Ir(),h=r.mode,S=ku({mode:"hidden",children:S},h),l=Ps(l,h,a,null),S.return=r,l.return=r,S.sibling=l,r.child=S,h=r.child,h.memoizedState=kf(a),h.childLanes=Vf(t,T,a),r.memoizedState=Mf,l):(Cr(r),Pf(r,S))}if(N=t.memoizedState,N!==null&&(S=N.dehydrated,S!==null)){if(m)r.flags&256?(Cr(r),r.flags&=-257,r=Lf(t,r,a)):r.memoizedState!==null?(Ir(),r.child=t.child,r.flags|=128,r=null):(Ir(),h=l.fallback,S=r.mode,l=ku({mode:"visible",children:l.children},S),h=Ps(h,S,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,Ha(r,t.child,null,a),l=r.child,l.memoizedState=kf(a),l.childLanes=Vf(t,T,a),r.memoizedState=Mf,r=h);else if(Cr(r),_m(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var $=T.dgst;T=$,l=Error(s(419)),l.stack="",l.digest=T,cl({value:l,source:null,stack:null}),r=Lf(t,r,a)}else if(Mt||ul(t,r,a,!1),T=(a&t.childLanes)!==0,Mt||T){if(T=tt,T!==null&&(l=a&-a,l=(l&42)!==0?1:yr(l),l=(l&(T.suspendedLanes|a))!==0?0:l,l!==0&&l!==N.retryLane))throw N.retryLane=l,Oa(t,l),En(T,t,l),gv;S.data==="$?"||nm(),r=Lf(t,r,a)}else S.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=N.treeContext,ut=Gn(S.nextSibling),sn=r,Fe=!0,zs=null,fi=!1,t!==null&&(Dn[jn++]=Hi,Dn[jn++]=Gi,Dn[jn++]=Ls,Hi=t.id,Gi=t.overflow,Ls=r),r=Pf(r,l.children),r.flags|=4096);return r}return h?(Ir(),h=l.fallback,S=r.mode,N=t.child,$=N.sibling,l=Fi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,$!==null?h=Fi($,h):(h=Ps(h,S,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,S=t.child.memoizedState,S===null?S=kf(a):(N=S.cachePool,N!==null?($=Nt._currentValue,N=N.parent!==$?{parent:$,pool:$}:N):N=hy(),S={baseLanes:S.baseLanes|a,cachePool:N}),h.memoizedState=S,h.childLanes=Vf(t,T,a),r.memoizedState=Mf,l):(Cr(r),a=t.child,t=a.sibling,a=Fi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(T=r.deletions,T===null?(r.deletions=[t],r.flags|=16):T.push(t)),r.child=a,r.memoizedState=null,a)}function Pf(t,r){return r=ku({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function ku(t,r){return t=pn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Lf(t,r,a){return Ha(r,t.child,null,a),t=Pf(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function xv(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),tf(t.return,r,a)}function Uf(t,r,a,l,h){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=h)}function Rv(t,r,a){var l=r.pendingProps,h=l.revealOrder,m=l.tail;if(Bt(t,r,l.children,a),l=Ct.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xv(t,a,r);else if(t.tag===19)xv(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(re(Ct,l),h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&Du(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),Uf(r,!1,h,a,m);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&Du(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Uf(r,!0,a,null,m);break;case"together":Uf(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Xi(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),kr|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(ul(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Fi(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Fi(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function zf(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&pu(t)))}function dS(t,r,a){switch(r.tag){case 3:et(r,r.stateNode.containerInfo),wr(r,Nt,t.memoizedState.cache),ll();break;case 27:case 5:gr(r);break;case 4:et(r,r.stateNode.containerInfo);break;case 10:wr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Cr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Av(t,r,a):(Cr(r),t=Xi(t,r,a),t!==null?t.sibling:null);Cr(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(ul(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return Rv(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),re(Ct,Ct.current),l)break;return null;case 22:case 23:return r.lanes=0,Ev(t,r,a);case 24:wr(r,Nt,t.memoizedState.cache)}return Xi(t,r,a)}function Nv(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Mt=!0;else{if(!zf(t,a)&&(r.flags&128)===0)return Mt=!1,dS(t,r,a);Mt=(t.flags&131072)!==0}else Mt=!1,Fe&&(r.flags&1048576)!==0&&ry(r,mu,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")Kd(l)?(t=Qs(l,t),r.tag=1,r=Sv(null,r,l,t,a)):(r.tag=0,r=Of(null,r,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===ae){r.tag=11,r=yv(null,r,l,t,a);break e}else if(h===P){r.tag=14,r=vv(null,r,l,t,a);break e}}throw r=wt(l)||l,Error(s(306,r,""))}}return r;case 0:return Of(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=Qs(l,r.pendingProps),Sv(t,r,l,h,a);case 3:e:{if(et(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var m=r.memoizedState;h=m.element,cf(t,r),yl(r,l,null,a);var T=r.memoizedState;if(l=T.cache,wr(r,Nt,l),l!==m.cache&&nf(r,[Nt],a,!0),gl(),l=T.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=wv(t,r,l,a);break e}else if(l!==h){h=Cn(Error(s(424)),r),cl(h),r=wv(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ut=Gn(t.firstChild),sn=r,Fe=!0,zs=null,fi=!0,a=av(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ll(),l===h){r=Xi(t,r,a);break e}Bt(t,r,l,a)}r=r.child}return r;case 26:return Mu(t,r),t===null?(a=j_(r.type,null,r.pendingProps,null))?r.memoizedState=a:Fe||(a=r.type,t=r.pendingProps,l=Yu(be.current).createElement(a),l[At]=r,l[yt]=t,Ft(l,a,t),dt(l),r.stateNode=l):r.memoizedState=j_(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return gr(r),t===null&&Fe&&(l=r.stateNode=C_(r.type,r.pendingProps,be.current),sn=r,fi=!0,h=ut,Ur(r.type)?(Em=h,ut=Gn(l.firstChild)):ut=h),Bt(t,r,r.pendingProps.children,a),Mu(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Fe&&((h=l=ut)&&(l=zS(l,r.type,r.pendingProps,fi),l!==null?(r.stateNode=l,sn=r,ut=Gn(l.firstChild),fi=!1,h=!0):h=!1),h||Bs(r)),gr(r),h=r.type,m=r.pendingProps,T=t!==null?t.memoizedProps:null,l=m.children,gm(h,m)?l=null:T!==null&&gm(h,T)&&(r.flags|=32),r.memoizedState!==null&&(h=pf(t,r,rS,null,null,a),Ul._currentValue=h),Mu(t,r),Bt(t,r,l,a),r.child;case 6:return t===null&&Fe&&((t=a=ut)&&(a=BS(a,r.pendingProps,fi),a!==null?(r.stateNode=a,sn=r,ut=null,t=!0):t=!1),t||Bs(r)),null;case 13:return Av(t,r,a);case 4:return et(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Ha(r,null,l,a):Bt(t,r,l,a),r.child;case 11:return yv(t,r,r.type,r.pendingProps,a);case 7:return Bt(t,r,r.pendingProps,a),r.child;case 8:return Bt(t,r,r.pendingProps.children,a),r.child;case 12:return Bt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,wr(r,r.type,l.value),Bt(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Fs(r),h=Kt(h),l=l(h),r.flags|=1,Bt(t,r,l,a),r.child;case 14:return vv(t,r,r.type,r.pendingProps,a);case 15:return _v(t,r,r.type,r.pendingProps,a);case 19:return Rv(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=ku(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Fi(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return Ev(t,r,a);case 24:return Fs(r),l=Kt(Nt),t===null?(h=af(),h===null&&(h=tt,m=rf(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=a),h=m),r.memoizedState={parent:l,cache:h},lf(r),wr(r,Nt,h)):((t.lanes&a)!==0&&(cf(t,r),yl(r,null,null,a),gl()),h=t.memoizedState,m=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),wr(r,Nt,l)):(l=m.cache,wr(r,Nt,l),l!==h.cache&&nf(r,[Nt],a,!0))),Bt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Wi(t){t.flags|=4}function Cv(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!P_(r)){if(r=On.current,r!==null&&((Le&4194048)===Le?mi!==null:(Le&62914560)!==Le&&(Le&536870912)===0||r!==mi))throw ml=of,dy;t.flags|=8192}}function Vu(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Bo():536870912,t.lanes|=r,Ka|=r)}function wl(t,r){if(!Fe)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ot(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function fS(t,r,a){var l=r.pendingProps;switch(Zd(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(r),null;case 1:return ot(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),$i(Nt),ti(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ol(r)?Wi(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,oy())),ot(r),null;case 26:return a=r.memoizedState,t===null?(Wi(r),a!==null?(ot(r),Cv(r,a)):(ot(r),r.flags&=-16777217)):a?a!==t.memoizedState?(Wi(r),ot(r),Cv(r,a)):(ot(r),r.flags&=-16777217):(t.memoizedProps!==l&&Wi(r),ot(r),r.flags&=-16777217),null;case 27:Ii(r),a=be.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Wi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ot(r),null}t=ge.current,ol(r)?sy(r):(t=C_(h,l,a),r.stateNode=t,Wi(r))}return ot(r),null;case 5:if(Ii(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Wi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ot(r),null}if(t=ge.current,ol(r))sy(r);else{switch(h=Yu(be.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[At]=r,t[yt]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(Ft(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Wi(r)}}return ot(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Wi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=be.current,ol(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=sn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[At]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||b_(t.nodeValue,a)),t||Bs(r)}else t=Yu(t).createTextNode(l),t[At]=r,r.stateNode=t}return ot(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ol(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[At]=r}else ll(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ot(r),h=!1}else h=oy(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(Yi(r),r):(Yi(r),null)}if(Yi(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==h&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),Vu(r,r.updateQueue),ot(r),null;case 4:return ti(),t===null&&hm(r.stateNode.containerInfo),ot(r),null;case 10:return $i(r.type),ot(r),null;case 19:if(le(Ct),h=r.memoizedState,h===null)return ot(r),null;if(l=(r.flags&128)!==0,m=h.rendering,m===null)if(l)wl(h,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(m=Du(t),m!==null){for(r.flags|=128,wl(h,!1),t=m.updateQueue,r.updateQueue=t,Vu(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)iy(a,t),a=a.sibling;return re(Ct,Ct.current&1|2),r.child}t=t.sibling}h.tail!==null&&Sn()>Uu&&(r.flags|=128,l=!0,wl(h,!1),r.lanes=4194304)}else{if(!l)if(t=Du(m),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,Vu(r,t),wl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!m.alternate&&!Fe)return ot(r),null}else 2*Sn()-h.renderingStartTime>Uu&&a!==536870912&&(r.flags|=128,l=!0,wl(h,!1),r.lanes=4194304);h.isBackwards?(m.sibling=r.child,r.child=m):(t=h.last,t!==null?t.sibling=m:r.child=m,h.last=m)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=Sn(),r.sibling=null,t=Ct.current,re(Ct,l?t&1|2:t&1),r):(ot(r),null);case 22:case 23:return Yi(r),ff(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ot(r),r.subtreeFlags&6&&(r.flags|=8192)):ot(r),a=r.updateQueue,a!==null&&Vu(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&le(Hs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),$i(Nt),ot(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function mS(t,r){switch(Zd(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return $i(Nt),ti(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Ii(r),null;case 13:if(Yi(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ll()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return le(Ct),null;case 4:return ti(),null;case 10:return $i(r.type),null;case 22:case 23:return Yi(r),ff(),t!==null&&le(Hs),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return $i(Nt),null;case 25:return null;default:return null}}function Iv(t,r){switch(Zd(r),r.tag){case 3:$i(Nt),ti();break;case 26:case 27:case 5:Ii(r);break;case 4:ti();break;case 13:Yi(r);break;case 19:le(Ct);break;case 10:$i(r.type);break;case 22:case 23:Yi(r),ff(),t!==null&&le(Hs);break;case 24:$i(Nt)}}function Al(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var m=a.create,T=a.inst;l=m(),T.destroy=l}a=a.next}while(a!==h)}}catch(S){Je(r,r.return,S)}}function Dr(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var m=h.next;l=m;do{if((l.tag&t)===t){var T=l.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,h=r;var N=a,$=S;try{$()}catch(Z){Je(h,N,Z)}}}l=l.next}while(l!==m)}}catch(Z){Je(r,r.return,Z)}}function Dv(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{vy(r,a)}catch(l){Je(t,t.return,l)}}}function jv(t,r,a){a.props=Qs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Je(t,r,l)}}function xl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Je(t,r,h)}}function pi(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Je(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Je(t,r,h)}else a.current=null}function Ov(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Je(t,t.return,h)}}function Bf(t,r,a){try{var l=t.stateNode;kS(l,t.type,a,r),l[yt]=r}catch(h){Je(t,t.return,h)}}function Mv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ur(t.type)||t.tag===4}function qf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Mv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ur(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ff(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Ku));else if(l!==4&&(l===27&&Ur(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Ff(t,r,a),t=t.sibling;t!==null;)Ff(t,r,a),t=t.sibling}function Pu(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Ur(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Pu(t,r,a),t=t.sibling;t!==null;)Pu(t,r,a),t=t.sibling}function kv(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Ft(r,l,a),r[At]=t,r[yt]=a}catch(m){Je(t,t.return,m)}}var Zi=!1,mt=!1,Hf=!1,Vv=typeof WeakSet=="function"?WeakSet:Set,kt=null;function pS(t,r){if(t=t.containerInfo,mm=th,t=$g(t),Bd(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var T=0,S=-1,N=-1,$=0,Z=0,te=t,K=null;t:for(;;){for(var Y;te!==a||h!==0&&te.nodeType!==3||(S=T+h),te!==m||l!==0&&te.nodeType!==3||(N=T+l),te.nodeType===3&&(T+=te.nodeValue.length),(Y=te.firstChild)!==null;)K=te,te=Y;for(;;){if(te===t)break t;if(K===a&&++$===h&&(S=T),K===m&&++Z===l&&(N=T),(Y=te.nextSibling)!==null)break;te=K,K=te.parentNode}te=Y}a=S===-1||N===-1?null:{start:S,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(pm={focusedElem:t,selectionRange:a},th=!1,kt=r;kt!==null;)if(r=kt,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,kt=t;else for(;kt!==null;){switch(r=kt,m=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=r,h=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var Te=Qs(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Te,m),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){Je(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)vm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":vm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,kt=t;break}kt=r.return}}function Pv(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:jr(t,a),l&4&&Al(5,a);break;case 1:if(jr(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(T){Je(a,a.return,T)}else{var h=Qs(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(T){Je(a,a.return,T)}}l&64&&Dv(a),l&512&&xl(a,a.return);break;case 3:if(jr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{vy(t,r)}catch(T){Je(a,a.return,T)}}break;case 27:r===null&&l&4&&kv(a);case 26:case 5:jr(t,a),r===null&&l&4&&Ov(a),l&512&&xl(a,a.return);break;case 12:jr(t,a);break;case 13:jr(t,a),l&4&&zv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=wS.bind(null,a),qS(t,a))));break;case 22:if(l=a.memoizedState!==null||Zi,!l){r=r!==null&&r.memoizedState!==null||mt,h=Zi;var m=mt;Zi=l,(mt=r)&&!m?Or(t,a,(a.subtreeFlags&8772)!==0):jr(t,a),Zi=h,mt=m}break;case 30:break;default:jr(t,a)}}function Lv(t){var r=t.alternate;r!==null&&(t.alternate=null,Lv(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Er(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var st=null,on=!1;function Ji(t,r,a){for(a=a.child;a!==null;)Uv(t,r,a),a=a.sibling}function Uv(t,r,a){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(ct,a)}catch{}switch(a.tag){case 26:mt||pi(a,r),Ji(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:mt||pi(a,r);var l=st,h=on;Ur(a.type)&&(st=a.stateNode,on=!1),Ji(t,r,a),kl(a.stateNode),st=l,on=h;break;case 5:mt||pi(a,r);case 6:if(l=st,h=on,st=null,Ji(t,r,a),st=l,on=h,st!==null)if(on)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(a.stateNode)}catch(m){Je(a,r,m)}else try{st.removeChild(a.stateNode)}catch(m){Je(a,r,m)}break;case 18:st!==null&&(on?(t=st,R_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Fl(t)):R_(st,a.stateNode));break;case 4:l=st,h=on,st=a.stateNode.containerInfo,on=!0,Ji(t,r,a),st=l,on=h;break;case 0:case 11:case 14:case 15:mt||Dr(2,a,r),mt||Dr(4,a,r),Ji(t,r,a);break;case 1:mt||(pi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&jv(a,r,l)),Ji(t,r,a);break;case 21:Ji(t,r,a);break;case 22:mt=(l=mt)||a.memoizedState!==null,Ji(t,r,a),mt=l;break;default:Ji(t,r,a)}}function zv(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Fl(t)}catch(a){Je(r,r.return,a)}}function gS(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Vv),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Vv),r;default:throw Error(s(435,t.tag))}}function Gf(t,r){var a=gS(t);r.forEach(function(l){var h=AS.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function gn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],m=t,T=r,S=T;e:for(;S!==null;){switch(S.tag){case 27:if(Ur(S.type)){st=S.stateNode,on=!1;break e}break;case 5:st=S.stateNode,on=!1;break e;case 3:case 4:st=S.stateNode.containerInfo,on=!0;break e}S=S.return}if(st===null)throw Error(s(160));Uv(m,T,h),st=null,on=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Bv(r,t),r=r.sibling}var Hn=null;function Bv(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:gn(r,t),yn(t),l&4&&(Dr(3,t,t.return),Al(3,t),Dr(5,t,t.return));break;case 1:gn(r,t),yn(t),l&512&&(mt||a===null||pi(a,a.return)),l&64&&Zi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Hn;if(gn(r,t),yn(t),l&512&&(mt||a===null||pi(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":m=h.getElementsByTagName("title")[0],(!m||m[Ts]||m[At]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(l),h.head.insertBefore(m,h.querySelector("head > title"))),Ft(m,l,a),m[At]=t,dt(m),l=m;break e;case"link":var T=k_("link","href",h).get(l+(a.href||""));if(T){for(var S=0;S<T.length;S++)if(m=T[S],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(S,1);break t}}m=h.createElement(l),Ft(m,l,a),h.head.appendChild(m);break;case"meta":if(T=k_("meta","content",h).get(l+(a.content||""))){for(S=0;S<T.length;S++)if(m=T[S],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(S,1);break t}}m=h.createElement(l),Ft(m,l,a),h.head.appendChild(m);break;default:throw Error(s(468,l))}m[At]=t,dt(m),l=m}t.stateNode=l}else V_(h,t.type,t.stateNode);else t.stateNode=M_(h,l,t.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?V_(h,t.type,t.stateNode):M_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Bf(t,t.memoizedProps,a.memoizedProps)}break;case 27:gn(r,t),yn(t),l&512&&(mt||a===null||pi(a,a.return)),a!==null&&l&4&&Bf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(gn(r,t),yn(t),l&512&&(mt||a===null||pi(a,a.return)),t.flags&32){h=t.stateNode;try{An(h,"")}catch(Y){Je(t,t.return,Y)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Bf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Hf=!0);break;case 6:if(gn(r,t),yn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(Y){Je(t,t.return,Y)}}break;case 3:if(Zu=null,h=Hn,Hn=Xu(r.containerInfo),gn(r,t),Hn=h,yn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Fl(r.containerInfo)}catch(Y){Je(t,t.return,Y)}Hf&&(Hf=!1,qv(t));break;case 4:l=Hn,Hn=Xu(t.stateNode.containerInfo),gn(r,t),yn(t),Hn=l;break;case 12:gn(r,t),yn(t);break;case 13:gn(r,t),yn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Wf=Sn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Gf(t,l)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,$=Zi,Z=mt;if(Zi=$||h,mt=Z||N,gn(r,t),mt=Z,Zi=$,yn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||N||Zi||mt||$s(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){N=a=r;try{if(m=N.stateNode,h)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=N.stateNode;var te=N.memoizedProps.style,K=te!=null&&te.hasOwnProperty("display")?te.display:null;S.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(Y){Je(N,N.return,Y)}}}else if(r.tag===6){if(a===null){N=r;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(Y){Je(N,N.return,Y)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Gf(t,a))));break;case 19:gn(r,t),yn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Gf(t,l)));break;case 30:break;case 21:break;default:gn(r,t),yn(t)}}function yn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(Mv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,m=qf(t);Pu(t,m,h);break;case 5:var T=a.stateNode;a.flags&32&&(An(T,""),a.flags&=-33);var S=qf(t);Pu(t,S,T);break;case 3:case 4:var N=a.stateNode.containerInfo,$=qf(t);Ff(t,$,N);break;default:throw Error(s(161))}}catch(Z){Je(t,t.return,Z)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function qv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;qv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function jr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Pv(t,r.alternate,r),r=r.sibling}function $s(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Dr(4,r,r.return),$s(r);break;case 1:pi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&jv(r,r.return,a),$s(r);break;case 27:kl(r.stateNode);case 26:case 5:pi(r,r.return),$s(r);break;case 22:r.memoizedState===null&&$s(r);break;case 30:$s(r);break;default:$s(r)}t=t.sibling}}function Or(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,m=r,T=m.flags;switch(m.tag){case 0:case 11:case 15:Or(h,m,a),Al(4,m);break;case 1:if(Or(h,m,a),l=m,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch($){Je(l,l.return,$)}if(l=m,h=l.updateQueue,h!==null){var S=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)yy(N[h],S)}catch($){Je(l,l.return,$)}}a&&T&64&&Dv(m),xl(m,m.return);break;case 27:kv(m);case 26:case 5:Or(h,m,a),a&&l===null&&T&4&&Ov(m),xl(m,m.return);break;case 12:Or(h,m,a);break;case 13:Or(h,m,a),a&&T&4&&zv(h,m);break;case 22:m.memoizedState===null&&Or(h,m,a),xl(m,m.return);break;case 30:break;default:Or(h,m,a)}r=r.sibling}}function Qf(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&hl(a))}function $f(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&hl(t))}function gi(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Fv(t,r,a,l),r=r.sibling}function Fv(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:gi(t,r,a,l),h&2048&&Al(9,r);break;case 1:gi(t,r,a,l);break;case 3:gi(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&hl(t)));break;case 12:if(h&2048){gi(t,r,a,l),t=r.stateNode;try{var m=r.memoizedProps,T=m.id,S=m.onPostCommit;typeof S=="function"&&S(T,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Je(r,r.return,N)}}else gi(t,r,a,l);break;case 13:gi(t,r,a,l);break;case 23:break;case 22:m=r.stateNode,T=r.alternate,r.memoizedState!==null?m._visibility&2?gi(t,r,a,l):Rl(t,r):m._visibility&2?gi(t,r,a,l):(m._visibility|=2,Ga(t,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&Qf(T,r);break;case 24:gi(t,r,a,l),h&2048&&$f(r.alternate,r);break;default:gi(t,r,a,l)}}function Ga(t,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var m=t,T=r,S=a,N=l,$=T.flags;switch(T.tag){case 0:case 11:case 15:Ga(m,T,S,N,h),Al(8,T);break;case 23:break;case 22:var Z=T.stateNode;T.memoizedState!==null?Z._visibility&2?Ga(m,T,S,N,h):Rl(m,T):(Z._visibility|=2,Ga(m,T,S,N,h)),h&&$&2048&&Qf(T.alternate,T);break;case 24:Ga(m,T,S,N,h),h&&$&2048&&$f(T.alternate,T);break;default:Ga(m,T,S,N,h)}r=r.sibling}}function Rl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:Rl(a,l),h&2048&&Qf(l.alternate,l);break;case 24:Rl(a,l),h&2048&&$f(l.alternate,l);break;default:Rl(a,l)}r=r.sibling}}var Nl=8192;function Qa(t){if(t.subtreeFlags&Nl)for(t=t.child;t!==null;)Hv(t),t=t.sibling}function Hv(t){switch(t.tag){case 26:Qa(t),t.flags&Nl&&t.memoizedState!==null&&tw(Hn,t.memoizedState,t.memoizedProps);break;case 5:Qa(t);break;case 3:case 4:var r=Hn;Hn=Xu(t.stateNode.containerInfo),Qa(t),Hn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Nl,Nl=16777216,Qa(t),Nl=r):Qa(t));break;default:Qa(t)}}function Gv(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Cl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];kt=l,$v(l,t)}Gv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Qv(t),t=t.sibling}function Qv(t){switch(t.tag){case 0:case 11:case 15:Cl(t),t.flags&2048&&Dr(9,t,t.return);break;case 3:Cl(t);break;case 12:Cl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Lu(t)):Cl(t);break;default:Cl(t)}}function Lu(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];kt=l,$v(l,t)}Gv(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Dr(8,r,r.return),Lu(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Lu(r));break;default:Lu(r)}t=t.sibling}}function $v(t,r){for(;kt!==null;){var a=kt;switch(a.tag){case 0:case 11:case 15:Dr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:hl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,kt=l;else e:for(a=t;kt!==null;){l=kt;var h=l.sibling,m=l.return;if(Lv(l),l===a){kt=null;break e}if(h!==null){h.return=m,kt=h;break e}kt=m}}}var yS={getCacheForType:function(t){var r=Kt(Nt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},vS=typeof WeakMap=="function"?WeakMap:Map,$e=0,tt=null,De=null,Le=0,Ke=0,vn=null,Mr=!1,$a=!1,Kf=!1,er=0,ht=0,kr=0,Ks=0,Yf=0,Mn=0,Ka=0,Il=null,ln=null,Xf=!1,Wf=0,Uu=1/0,zu=null,Vr=null,qt=0,Pr=null,Ya=null,Xa=0,Zf=0,Jf=null,Kv=null,Dl=0,em=null;function _n(){if(($e&2)!==0&&Le!==0)return Le&-Le;if(W.T!==null){var t=Pa;return t!==0?t:om()}return vr()}function Yv(){Mn===0&&(Mn=(Le&536870912)===0||Fe?zo():536870912);var t=On.current;return t!==null&&(t.flags|=32),Mn}function En(t,r,a){(t===tt&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(Wa(t,0),Lr(t,Le,Mn,!1)),ji(t,a),(($e&2)===0||t!==tt)&&(t===tt&&(($e&2)===0&&(Ks|=a),ht===4&&Lr(t,Le,Mn,!1)),yi(t))}function Xv(t,r,a){if(($e&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&t.expiredLanes)===0||Es(t,r),h=l?TS(t,r):im(t,r,!0),m=l;do{if(h===0){$a&&!l&&Lr(t,r,0,!1);break}else{if(a=t.current.alternate,m&&!_S(a)){h=im(t,r,!1),m=!1;continue}if(h===2){if(m=r,t.errorRecoveryDisabledLanes&m)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;e:{var S=t;h=Il;var N=S.current.memoizedState.isDehydrated;if(N&&(Wa(S,T).flags|=256),T=im(S,T,!1),T!==2){if(Kf&&!N){S.errorRecoveryDisabledLanes|=m,Ks|=m,h=4;break e}m=ln,ln=h,m!==null&&(ln===null?ln=m:ln.push.apply(ln,m))}h=T}if(m=!1,h!==2)continue}}if(h===1){Wa(t,0),Lr(t,r,0,!0);break}e:{switch(l=t,m=h,m){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Lr(l,r,Mn,!Mr);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=Wf+300-Sn(),10<h)){if(Lr(l,r,Mn,!Mr),ma(l,0,!0)!==0)break e;l.timeoutHandle=A_(Wv.bind(null,l,a,ln,zu,Xf,r,Mn,Ks,Ka,Mr,m,2,-0,0),h);break e}Wv(l,a,ln,zu,Xf,r,Mn,Ks,Ka,Mr,m,0,-0,0)}}break}while(!0);yi(t)}function Wv(t,r,a,l,h,m,T,S,N,$,Z,te,K,Y){if(t.timeoutHandle=-1,te=r.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(Ll={stylesheets:null,count:0,unsuspend:ew},Hv(r),te=nw(),te!==null)){t.cancelPendingCommit=te(r_.bind(null,t,r,m,a,l,h,T,S,N,Z,1,K,Y)),Lr(t,m,T,!$);return}r_(t,r,m,a,l,h,T,S,N)}function _S(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],m=h.getSnapshot;h=h.value;try{if(!mn(m(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Lr(t,r,a,l){r&=~Yf,r&=~Ks,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var m=31-$t(h),T=1<<m;l[m]=-1,h&=~T}a!==0&&ni(t,a,r)}function Bu(){return($e&6)===0?(jl(0),!1):!0}function tm(){if(De!==null){if(Ke===0)var t=De.return;else t=De,Qi=qs=null,vf(t),Fa=null,bl=0,t=De;for(;t!==null;)Iv(t.alternate,t),t=t.return;De=null}}function Wa(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,PS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),tm(),tt=t,De=a=Fi(t.current,null),Le=r,Ke=0,vn=null,Mr=!1,$a=Es(t,r),Kf=!1,Ka=Mn=Yf=Ks=kr=ht=0,ln=Il=null,Xf=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-$t(l),m=1<<h;r|=t[h],l&=~m}return er=r,cu(),a}function Zv(t,r){Re=null,W.H=Nu,r===fl||r===vu?(r=py(),Ke=3):r===dy?(r=py(),Ke=4):Ke=r===gv?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,vn=r,De===null&&(ht=1,Ou(t,Cn(r,t.current)))}function Jv(){var t=W.H;return W.H=Nu,t===null?Nu:t}function e_(){var t=W.A;return W.A=yS,t}function nm(){ht=4,Mr||(Le&4194048)!==Le&&On.current!==null||($a=!0),(kr&134217727)===0&&(Ks&134217727)===0||tt===null||Lr(tt,Le,Mn,!1)}function im(t,r,a){var l=$e;$e|=2;var h=Jv(),m=e_();(tt!==t||Le!==r)&&(zu=null,Wa(t,r)),r=!1;var T=ht;e:do try{if(Ke!==0&&De!==null){var S=De,N=vn;switch(Ke){case 8:tm(),T=6;break e;case 3:case 2:case 9:case 6:On.current===null&&(r=!0);var $=Ke;if(Ke=0,vn=null,Za(t,S,N,$),a&&$a){T=0;break e}break;default:$=Ke,Ke=0,vn=null,Za(t,S,N,$)}}ES(),T=ht;break}catch(Z){Zv(t,Z)}while(!0);return r&&t.shellSuspendCounter++,Qi=qs=null,$e=l,W.H=h,W.A=m,De===null&&(tt=null,Le=0,cu()),T}function ES(){for(;De!==null;)t_(De)}function TS(t,r){var a=$e;$e|=2;var l=Jv(),h=e_();tt!==t||Le!==r?(zu=null,Uu=Sn()+500,Wa(t,r)):$a=Es(t,r);e:do try{if(Ke!==0&&De!==null){r=De;var m=vn;t:switch(Ke){case 1:Ke=0,vn=null,Za(t,r,m,1);break;case 2:case 9:if(fy(m)){Ke=0,vn=null,n_(r);break}r=function(){Ke!==2&&Ke!==9||tt!==t||(Ke=7),yi(t)},m.then(r,r);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:fy(m)?(Ke=0,vn=null,n_(r)):(Ke=0,vn=null,Za(t,r,m,7));break;case 5:var T=null;switch(De.tag){case 26:T=De.memoizedState;case 5:case 27:var S=De;if(!T||P_(T)){Ke=0,vn=null;var N=S.sibling;if(N!==null)De=N;else{var $=S.return;$!==null?(De=$,qu($)):De=null}break t}}Ke=0,vn=null,Za(t,r,m,5);break;case 6:Ke=0,vn=null,Za(t,r,m,6);break;case 8:tm(),ht=6;break e;default:throw Error(s(462))}}bS();break}catch(Z){Zv(t,Z)}while(!0);return Qi=qs=null,W.H=l,W.A=h,$e=a,De!==null?0:(tt=null,Le=0,cu(),ht)}function bS(){for(;De!==null&&!Vo();)t_(De)}function t_(t){var r=Nv(t.alternate,t,er);t.memoizedProps=t.pendingProps,r===null?qu(t):De=r}function n_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=bv(a,r,r.pendingProps,r.type,void 0,Le);break;case 11:r=bv(a,r,r.pendingProps,r.type.render,r.ref,Le);break;case 5:vf(r);default:Iv(a,r),r=De=iy(r,er),r=Nv(a,r,er)}t.memoizedProps=t.pendingProps,r===null?qu(t):De=r}function Za(t,r,a,l){Qi=qs=null,vf(r),Fa=null,bl=0;var h=r.return;try{if(hS(t,h,r,a,Le)){ht=1,Ou(t,Cn(a,t.current)),De=null;return}}catch(m){if(h!==null)throw De=h,m;ht=1,Ou(t,Cn(a,t.current)),De=null;return}r.flags&32768?(Fe||l===1?t=!0:$a||(Le&536870912)!==0?t=!1:(Mr=t=!0,(l===2||l===9||l===3||l===6)&&(l=On.current,l!==null&&l.tag===13&&(l.flags|=16384))),i_(r,t)):qu(r)}function qu(t){var r=t;do{if((r.flags&32768)!==0){i_(r,Mr);return}t=r.return;var a=fS(r.alternate,r,er);if(a!==null){De=a;return}if(r=r.sibling,r!==null){De=r;return}De=r=t}while(r!==null);ht===0&&(ht=5)}function i_(t,r){do{var a=mS(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);ht=6,De=null}function r_(t,r,a,l,h,m,T,S,N){t.cancelPendingCommit=null;do Fu();while(qt!==0);if(($e&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(m=r.lanes|r.childLanes,m|=Qd,qo(t,a,m,T,S,N),t===tt&&(De=tt=null,Le=0),Ya=r,Pr=t,Xa=a,Zf=m,Jf=h,Kv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,xS(gs,function(){return c_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,h=oe.p,oe.p=2,T=$e,$e|=4;try{pS(t,r,a)}finally{$e=T,oe.p=h,W.T=l}}qt=1,s_(),a_(),o_()}}function s_(){if(qt===1){qt=0;var t=Pr,r=Ya,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var l=oe.p;oe.p=2;var h=$e;$e|=4;try{Bv(r,t);var m=pm,T=$g(t.containerInfo),S=m.focusedElem,N=m.selectionRange;if(T!==S&&S&&S.ownerDocument&&Qg(S.ownerDocument.documentElement,S)){if(N!==null&&Bd(S)){var $=N.start,Z=N.end;if(Z===void 0&&(Z=$),"selectionStart"in S)S.selectionStart=$,S.selectionEnd=Math.min(Z,S.value.length);else{var te=S.ownerDocument||document,K=te&&te.defaultView||window;if(K.getSelection){var Y=K.getSelection(),Te=S.textContent.length,ye=Math.min(N.start,Te),Ze=N.end===void 0?ye:Math.min(N.end,Te);!Y.extend&&ye>Ze&&(T=Ze,Ze=ye,ye=T);var B=Gg(S,ye),k=Gg(S,Ze);if(B&&k&&(Y.rangeCount!==1||Y.anchorNode!==B.node||Y.anchorOffset!==B.offset||Y.focusNode!==k.node||Y.focusOffset!==k.offset)){var G=te.createRange();G.setStart(B.node,B.offset),Y.removeAllRanges(),ye>Ze?(Y.addRange(G),Y.extend(k.node,k.offset)):(G.setEnd(k.node,k.offset),Y.addRange(G))}}}}for(te=[],Y=S;Y=Y.parentNode;)Y.nodeType===1&&te.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<te.length;S++){var J=te[S];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}th=!!mm,pm=mm=null}finally{$e=h,oe.p=l,W.T=a}}t.current=r,qt=2}}function a_(){if(qt===2){qt=0;var t=Pr,r=Ya,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var l=oe.p;oe.p=2;var h=$e;$e|=4;try{Pv(t,r.alternate,r)}finally{$e=h,oe.p=l,W.T=a}}qt=3}}function o_(){if(qt===4||qt===3){qt=0,Lc();var t=Pr,r=Ya,a=Xa,l=Kv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?qt=5:(qt=0,Ya=Pr=null,l_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Vr=null),pa(a),r=r.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(ct,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=W.T,h=oe.p,oe.p=2,W.T=null;try{for(var m=t.onRecoverableError,T=0;T<l.length;T++){var S=l[T];m(S.value,{componentStack:S.stack})}}finally{W.T=r,oe.p=h}}(Xa&3)!==0&&Fu(),yi(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===em?Dl++:(Dl=0,em=t):Dl=0,jl(0)}}function l_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,hl(r)))}function Fu(t){return s_(),a_(),o_(),c_()}function c_(){if(qt!==5)return!1;var t=Pr,r=Zf;Zf=0;var a=pa(Xa),l=W.T,h=oe.p;try{oe.p=32>a?32:a,W.T=null,a=Jf,Jf=null;var m=Pr,T=Xa;if(qt=0,Ya=Pr=null,Xa=0,($e&6)!==0)throw Error(s(331));var S=$e;if($e|=4,Qv(m.current),Fv(m,m.current,T,a),$e=S,jl(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(ct,m)}catch{}return!0}finally{oe.p=h,W.T=l,l_(t,r)}}function u_(t,r,a){r=Cn(a,r),r=jf(t.stateNode,r,2),t=Rr(t,r,2),t!==null&&(ji(t,2),yi(t))}function Je(t,r,a){if(t.tag===3)u_(t,t,a);else for(;r!==null;){if(r.tag===3){u_(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Vr===null||!Vr.has(l))){t=Cn(a,t),a=mv(2),l=Rr(r,a,2),l!==null&&(pv(a,l,r,t),ji(l,2),yi(l));break}}r=r.return}}function rm(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new vS;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(Kf=!0,h.add(a),t=SS.bind(null,t,r,a),r.then(t,t))}function SS(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,tt===t&&(Le&a)===a&&(ht===4||ht===3&&(Le&62914560)===Le&&300>Sn()-Wf?($e&2)===0&&Wa(t,0):Yf|=a,Ka===Le&&(Ka=0)),yi(t)}function h_(t,r){r===0&&(r=Bo()),t=Oa(t,r),t!==null&&(ji(t,r),yi(t))}function wS(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),h_(t,a)}function AS(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),h_(t,a)}function xS(t,r){return ms(t,r)}var Hu=null,Ja=null,sm=!1,Gu=!1,am=!1,Ys=0;function yi(t){t!==Ja&&t.next===null&&(Ja===null?Hu=Ja=t:Ja=Ja.next=t),Gu=!0,sm||(sm=!0,NS())}function jl(t,r){if(!am&&Gu){am=!0;do for(var a=!1,l=Hu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var m=0;else{var T=l.suspendedLanes,S=l.pingedLanes;m=(1<<31-$t(42|t)+1)-1,m&=h&~(T&~S),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,p_(l,m))}else m=Le,m=ma(l,l===tt?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Es(l,m)||(a=!0,p_(l,m));l=l.next}while(a);am=!1}}function RS(){d_()}function d_(){Gu=sm=!1;var t=0;Ys!==0&&(VS()&&(t=Ys),Ys=0);for(var r=Sn(),a=null,l=Hu;l!==null;){var h=l.next,m=f_(l,r);m===0?(l.next=null,a===null?Hu=h:a.next=h,h===null&&(Ja=a)):(a=l,(t!==0||(m&3)!==0)&&(Gu=!0)),l=h}jl(t)}function f_(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var T=31-$t(m),S=1<<T,N=h[T];N===-1?((S&a)===0||(S&l)!==0)&&(h[T]=Uo(S,r)):N<=r&&(t.expiredLanes|=S),m&=~S}if(r=tt,a=Le,a=ma(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ps(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Es(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&ps(l),pa(a)){case 2:case 8:a=da;break;case 32:a=gs;break;case 268435456:a=fa;break;default:a=gs}return l=m_.bind(null,t),a=ms(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&ps(l),t.callbackPriority=2,t.callbackNode=null,2}function m_(t,r){if(qt!==0&&qt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Fu()&&t.callbackNode!==a)return null;var l=Le;return l=ma(t,t===tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Xv(t,l,r),f_(t,Sn()),t.callbackNode!=null&&t.callbackNode===a?m_.bind(null,t):null)}function p_(t,r){if(Fu())return null;Xv(t,r,!0)}function NS(){LS(function(){($e&6)!==0?ms(Po,RS):d_()})}function om(){return Ys===0&&(Ys=zo()),Ys}function g_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ta(""+t)}function y_(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function CS(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var m=g_((h[yt]||null).action),T=l.submitter;T&&(r=(r=T[yt]||null)?g_(r.formAction):T.getAttribute("formAction"),r!==null&&(m=r,T=null));var S=new ba("action","action",null,l,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ys!==0){var N=T?y_(h,T):new FormData(h);Rf(a,{pending:!0,data:N,method:h.method,action:m},null,N)}}else typeof m=="function"&&(S.preventDefault(),N=T?y_(h,T):new FormData(h),Rf(a,{pending:!0,data:N,method:h.method,action:m},m,N))},currentTarget:h}]})}}for(var lm=0;lm<Gd.length;lm++){var cm=Gd[lm],IS=cm.toLowerCase(),DS=cm[0].toUpperCase()+cm.slice(1);Fn(IS,"on"+DS)}Fn(Xg,"onAnimationEnd"),Fn(Wg,"onAnimationIteration"),Fn(Zg,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(Kb,"onTransitionRun"),Fn(Yb,"onTransitionStart"),Fn(Xb,"onTransitionCancel"),Fn(Jg,"onTransitionEnd"),Mi("onMouseEnter",["mouseout","mouseover"]),Mi("onMouseLeave",["mouseout","mouseover"]),Mi("onPointerEnter",["pointerout","pointerover"]),Mi("onPointerLeave",["pointerout","pointerover"]),Bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ol));function v_(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var m=void 0;if(r)for(var T=l.length-1;0<=T;T--){var S=l[T],N=S.instance,$=S.currentTarget;if(S=S.listener,N!==m&&h.isPropagationStopped())break e;m=S,h.currentTarget=$;try{m(h)}catch(Z){ju(Z)}h.currentTarget=null,m=N}else for(T=0;T<l.length;T++){if(S=l[T],N=S.instance,$=S.currentTarget,S=S.listener,N!==m&&h.isPropagationStopped())break e;m=S,h.currentTarget=$;try{m(h)}catch(Z){ju(Z)}h.currentTarget=null,m=N}}}}function je(t,r){var a=r[Ho];a===void 0&&(a=r[Ho]=new Set);var l=t+"__bubble";a.has(l)||(__(r,t,2,!1),a.add(l))}function um(t,r,a){var l=0;r&&(l|=4),__(a,t,l,r)}var Qu="_reactListening"+Math.random().toString(36).slice(2);function hm(t){if(!t[Qu]){t[Qu]=!0,Go.forEach(function(a){a!=="selectionchange"&&(jS.has(a)||um(a,!1,t),um(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Qu]||(r[Qu]=!0,um("selectionchange",!1,r))}}function __(t,r,a,l){switch(F_(r)){case 2:var h=sw;break;case 8:h=aw;break;default:h=Am}a=h.bind(null,r,a,t),h=void 0,!Rn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function dm(t,r,a,l,h){var m=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var S=l.stateNode.containerInfo;if(S===h)break;if(T===4)for(T=l.return;T!==null;){var N=T.tag;if((N===3||N===4)&&T.stateNode.containerInfo===h)return;T=T.return}for(;S!==null;){if(T=Oi(S),T===null)return;if(N=T.tag,N===5||N===6||N===26||N===27){l=m=T;continue e}S=S.parentNode}}l=l.return}Kc(function(){var $=m,Z=xn(a),te=[];e:{var K=ey.get(t);if(K!==void 0){var Y=ba,Te=t;switch(t){case"keypress":if(li(a)===0)break e;case"keydown":case"keyup":Y=Na;break;case"focusin":Te="focus",Y=Aa;break;case"focusout":Te="blur",Y=Aa;break;case"beforeblur":case"afterblur":Y=Aa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Pd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=nu;break;case Xg:case Wg:case Zg:Y=xa;break;case Jg:Y=ru;break;case"scroll":case"scrollend":Y=Yc;break;case"wheel":Y=Ca;break;case"copy":case"cut":case"paste":Y=Ra;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=il;break;case"toggle":case"beforetoggle":Y=au}var ye=(r&4)!==0,Ze=!ye&&(t==="scroll"||t==="scrollend"),B=ye?K!==null?K+"Capture":null:K;ye=[];for(var k=$,G;k!==null;){var J=k;if(G=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||G===null||B===null||(J=Ns(k,B),J!=null&&ye.push(Ml(k,J,G))),Ze)break;k=k.return}0<ye.length&&(K=new Y(K,Te,null,a,Z),te.push({event:K,listeners:ye}))}}if((r&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",K&&a!==Pi&&(Te=a.relatedTarget||a.fromElement)&&(Oi(Te)||Te[wn]))break e;if((Y||K)&&(K=Z.window===Z?Z:(K=Z.ownerDocument)?K.defaultView||K.parentWindow:window,Y?(Te=a.relatedTarget||a.toElement,Y=$,Te=Te?Oi(Te):null,Te!==null&&(Ze=c(Te),ye=Te.tag,Te!==Ze||ye!==5&&ye!==27&&ye!==6)&&(Te=null)):(Y=null,Te=$),Y!==Te)){if(ye=Nn,J="onMouseLeave",B="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(ye=il,J="onPointerLeave",B="onPointerEnter",k="pointer"),Ze=Y==null?K:ri(Y),G=Te==null?K:ri(Te),K=new ye(J,k+"leave",Y,a,Z),K.target=Ze,K.relatedTarget=G,J=null,Oi(Z)===$&&(ye=new ye(B,k+"enter",Te,a,Z),ye.target=G,ye.relatedTarget=Ze,J=ye),Ze=J,Y&&Te)t:{for(ye=Y,B=Te,k=0,G=ye;G;G=eo(G))k++;for(G=0,J=B;J;J=eo(J))G++;for(;0<k-G;)ye=eo(ye),k--;for(;0<G-k;)B=eo(B),G--;for(;k--;){if(ye===B||B!==null&&ye===B.alternate)break t;ye=eo(ye),B=eo(B)}ye=null}else ye=null;Y!==null&&E_(te,K,Y,ye,!1),Te!==null&&Ze!==null&&E_(te,Ze,Te,ye,!0)}}e:{if(K=$?ri($):window,Y=K.nodeName&&K.nodeName.toLowerCase(),Y==="select"||Y==="input"&&K.type==="file")var de=Ug;else if(Rt(K))if(zg)de=Gb;else{de=Fb;var Ie=qb}else Y=K.nodeName,!Y||Y.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?$&&Xo($.elementType)&&(de=Ug):de=Hb;if(de&&(de=de(t,$))){qi(te,de,a,Z);break e}Ie&&Ie(t,K,$),t==="focusout"&&$&&K.type==="number"&&$.memoizedProps.value!=null&&br(K,"number",K.value)}switch(Ie=$?ri($):window,t){case"focusin":(Rt(Ie)||Ie.contentEditable==="true")&&(Ia=Ie,qd=$,al=null);break;case"focusout":al=qd=Ia=null;break;case"mousedown":Fd=!0;break;case"contextmenu":case"mouseup":case"dragend":Fd=!1,Kg(te,a,Z);break;case"selectionchange":if($b)break;case"keydown":case"keyup":Kg(te,a,Z)}var fe;if(hi)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Ve?X(t,a)&&(ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(_&&a.locale!=="ko"&&(Ve||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Ve&&(fe=Zo()):(oi=Z,Sr="value"in oi?oi.value:oi.textContent,Ve=!0)),Ie=$u($,ve),0<Ie.length&&(ve=new tl(ve,t,null,a,Z),te.push({event:ve,listeners:Ie}),fe?ve.data=fe:(fe=se(a),fe!==null&&(ve.data=fe)))),(fe=v?xt(t,a):Pe(t,a))&&(ve=$u($,"onBeforeInput"),0<ve.length&&(Ie=new tl("onBeforeInput","beforeinput",null,a,Z),te.push({event:Ie,listeners:ve}),Ie.data=fe)),CS(te,t,$,a,Z)}v_(te,r)})}function Ml(t,r,a){return{instance:t,listener:r,currentTarget:a}}function $u(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=Ns(t,a),h!=null&&l.unshift(Ml(t,h,m)),h=Ns(t,r),h!=null&&l.push(Ml(t,h,m))),t.tag===3)return l;t=t.return}return[]}function eo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function E_(t,r,a,l,h){for(var m=r._reactName,T=[];a!==null&&a!==l;){var S=a,N=S.alternate,$=S.stateNode;if(S=S.tag,N!==null&&N===l)break;S!==5&&S!==26&&S!==27||$===null||(N=$,h?($=Ns(a,m),$!=null&&T.unshift(Ml(a,$,N))):h||($=Ns(a,m),$!=null&&T.push(Ml(a,$,N)))),a=a.return}T.length!==0&&t.push({event:r,listeners:T})}var OS=/\r\n?/g,MS=/\u0000|\uFFFD/g;function T_(t){return(typeof t=="string"?t:""+t).replace(OS,`
`).replace(MS,"")}function b_(t,r){return r=T_(r),T_(t)===r}function Ku(){}function We(t,r,a,l,h,m){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||An(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&An(t,""+l);break;case"className":si(t,"class",l);break;case"tabIndex":si(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":si(t,a,l);break;case"style":Yo(t,l,m);break;case"data":if(r!=="object"){si(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ta(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&We(t,r,"name",h.name,h,null),We(t,r,"formEncType",h.formEncType,h,null),We(t,r,"formMethod",h.formMethod,h,null),We(t,r,"formTarget",h.formTarget,h,null)):(We(t,r,"encType",h.encType,h,null),We(t,r,"method",h.method,h,null),We(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ta(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Ku);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ta(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":je("beforetoggle",t),je("toggle",t),Tr(t,"popover",l);break;case"xlinkActuate":Ut(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ut(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ut(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ut(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ut(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ut(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Tr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=kd.get(a)||a,Tr(t,a,l))}}function fm(t,r,a,l,h,m){switch(a){case"style":Yo(t,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?An(t,l):(typeof l=="number"||typeof l=="bigint")&&An(t,""+l);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Ku);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ga.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),m=t[yt]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(r,m,h),typeof l=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Tr(t,a,l)}}}function Ft(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",t),je("load",t);var l=!1,h=!1,m;for(m in a)if(a.hasOwnProperty(m)){var T=a[m];if(T!=null)switch(m){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(t,r,m,T,a,null)}}h&&We(t,r,"srcSet",a.srcSet,a,null),l&&We(t,r,"src",a.src,a,null);return;case"input":je("invalid",t);var S=m=T=h=null,N=null,$=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":h=Z;break;case"type":T=Z;break;case"checked":N=Z;break;case"defaultChecked":$=Z;break;case"value":m=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:We(t,r,l,Z,a,null)}}As(t,m,S,N,$,T,h,!1),Ea(t);return;case"select":je("invalid",t),l=T=m=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":m=S;break;case"defaultValue":T=S;break;case"multiple":l=S;default:We(t,r,h,S,a,null)}r=m,a=T,t.multiple=!!l,r!=null?Vi(t,!!l,r,!1):a!=null&&Vi(t,!!l,a,!0);return;case"textarea":je("invalid",t),m=h=l=null;for(T in a)if(a.hasOwnProperty(T)&&(S=a[T],S!=null))switch(T){case"value":l=S;break;case"defaultValue":h=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:We(t,r,T,S,a,null)}xs(t,l,h,m),Ea(t);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(t,r,N,l,a,null)}return;case"dialog":je("beforetoggle",t),je("toggle",t),je("cancel",t),je("close",t);break;case"iframe":case"object":je("load",t);break;case"video":case"audio":for(l=0;l<Ol.length;l++)je(Ol[l],t);break;case"image":je("error",t),je("load",t);break;case"details":je("toggle",t);break;case"embed":case"source":case"link":je("error",t),je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in a)if(a.hasOwnProperty($)&&(l=a[$],l!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(t,r,$,l,a,null)}return;default:if(Xo(r)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&fm(t,r,Z,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&We(t,r,S,l,a,null))}function kS(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,T=null,S=null,N=null,$=null,Z=null;for(Y in a){var te=a[Y];if(a.hasOwnProperty(Y)&&te!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":N=te;default:l.hasOwnProperty(Y)||We(t,r,Y,null,l,te)}}for(var K in l){var Y=l[K];if(te=a[K],l.hasOwnProperty(K)&&(Y!=null||te!=null))switch(K){case"type":m=Y;break;case"name":h=Y;break;case"checked":$=Y;break;case"defaultChecked":Z=Y;break;case"value":T=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Y!==te&&We(t,r,K,Y,l,te)}}fn(t,T,S,N,$,Z,m,h);return;case"select":Y=T=S=K=null;for(m in a)if(N=a[m],a.hasOwnProperty(m)&&N!=null)switch(m){case"value":break;case"multiple":Y=N;default:l.hasOwnProperty(m)||We(t,r,m,null,l,N)}for(h in l)if(m=l[h],N=a[h],l.hasOwnProperty(h)&&(m!=null||N!=null))switch(h){case"value":K=m;break;case"defaultValue":S=m;break;case"multiple":T=m;default:m!==N&&We(t,r,h,m,l,N)}r=S,a=T,l=Y,K!=null?Vi(t,!!a,K,!1):!!l!=!!a&&(r!=null?Vi(t,!!a,r,!0):Vi(t,!!a,a?[]:"",!1));return;case"textarea":Y=K=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:We(t,r,S,null,l,h)}for(T in l)if(h=l[T],m=a[T],l.hasOwnProperty(T)&&(h!=null||m!=null))switch(T){case"value":K=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==m&&We(t,r,T,h,l,m)}Ye(t,K,Y);return;case"option":for(var Te in a)if(K=a[Te],a.hasOwnProperty(Te)&&K!=null&&!l.hasOwnProperty(Te))switch(Te){case"selected":t.selected=!1;break;default:We(t,r,Te,null,l,K)}for(N in l)if(K=l[N],Y=a[N],l.hasOwnProperty(N)&&K!==Y&&(K!=null||Y!=null))switch(N){case"selected":t.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:We(t,r,N,K,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)K=a[ye],a.hasOwnProperty(ye)&&K!=null&&!l.hasOwnProperty(ye)&&We(t,r,ye,null,l,K);for($ in l)if(K=l[$],Y=a[$],l.hasOwnProperty($)&&K!==Y&&(K!=null||Y!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:We(t,r,$,K,l,Y)}return;default:if(Xo(r)){for(var Ze in a)K=a[Ze],a.hasOwnProperty(Ze)&&K!==void 0&&!l.hasOwnProperty(Ze)&&fm(t,r,Ze,void 0,l,K);for(Z in l)K=l[Z],Y=a[Z],!l.hasOwnProperty(Z)||K===Y||K===void 0&&Y===void 0||fm(t,r,Z,K,l,Y);return}}for(var B in a)K=a[B],a.hasOwnProperty(B)&&K!=null&&!l.hasOwnProperty(B)&&We(t,r,B,null,l,K);for(te in l)K=l[te],Y=a[te],!l.hasOwnProperty(te)||K===Y||K==null&&Y==null||We(t,r,te,K,l,Y)}var mm=null,pm=null;function Yu(t){return t.nodeType===9?t:t.ownerDocument}function S_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function w_(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function gm(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var ym=null;function VS(){var t=window.event;return t&&t.type==="popstate"?t===ym?!1:(ym=t,!0):(ym=null,!1)}var A_=typeof setTimeout=="function"?setTimeout:void 0,PS=typeof clearTimeout=="function"?clearTimeout:void 0,x_=typeof Promise=="function"?Promise:void 0,LS=typeof queueMicrotask=="function"?queueMicrotask:typeof x_<"u"?function(t){return x_.resolve(null).then(t).catch(US)}:A_;function US(t){setTimeout(function(){throw t})}function Ur(t){return t==="head"}function R_(t,r){var a=r,l=0,h=0;do{var m=a.nextSibling;if(t.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var T=t.ownerDocument;if(a&1&&kl(T.documentElement),a&2&&kl(T.body),a&4)for(a=T.head,kl(a),T=a.firstChild;T;){var S=T.nextSibling,N=T.nodeName;T[Ts]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=S}}if(h===0){t.removeChild(m),Fl(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);Fl(r)}function vm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":vm(a),Er(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function zS(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ts])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Gn(t.nextSibling),t===null)break}return null}function BS(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Gn(t.nextSibling),t===null))return null;return t}function _m(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function qS(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Gn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var Em=null;function N_(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function C_(t,r,a){switch(r=Yu(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function kl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Er(t)}var kn=new Map,I_=new Set;function Xu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var tr=oe.d;oe.d={f:FS,r:HS,D:GS,C:QS,L:$S,m:KS,X:XS,S:YS,M:WS};function FS(){var t=tr.f(),r=Bu();return t||r}function HS(t){var r=ii(t);r!==null&&r.tag===5&&r.type==="form"?Xy(r):tr.r(t)}var to=typeof document>"u"?null:document;function D_(t,r,a){var l=to;if(l&&typeof r=="string"&&r){var h=vt(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),I_.has(h)||(I_.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),Ft(r,"link",t),dt(r),l.head.appendChild(r)))}}function GS(t){tr.D(t),D_("dns-prefetch",t,null)}function QS(t,r){tr.C(t,r),D_("preconnect",t,r)}function $S(t,r,a){tr.L(t,r,a);var l=to;if(l&&t&&r){var h='link[rel="preload"][as="'+vt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+vt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+vt(a.imageSizes)+'"]')):h+='[href="'+vt(t)+'"]';var m=h;switch(r){case"style":m=no(t);break;case"script":m=io(t)}kn.has(m)||(t=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),kn.set(m,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(Vl(m))||r==="script"&&l.querySelector(Pl(m))||(r=l.createElement("link"),Ft(r,"link",t),dt(r),l.head.appendChild(r)))}}function KS(t,r){tr.m(t,r);var a=to;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+vt(l)+'"][href="'+vt(t)+'"]',m=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=io(t)}if(!kn.has(m)&&(t=E({rel:"modulepreload",href:t},r),kn.set(m,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Pl(m)))return}l=a.createElement("link"),Ft(l,"link",t),dt(l),a.head.appendChild(l)}}}function YS(t,r,a){tr.S(t,r,a);var l=to;if(l&&t){var h=tn(l).hoistableStyles,m=no(t);r=r||"default";var T=h.get(m);if(!T){var S={loading:0,preload:null};if(T=l.querySelector(Vl(m)))S.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":r},a),(a=kn.get(m))&&Tm(t,a);var N=T=l.createElement("link");dt(N),Ft(N,"link",t),N._p=new Promise(function($,Z){N.onload=$,N.onerror=Z}),N.addEventListener("load",function(){S.loading|=1}),N.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Wu(T,r,l)}T={type:"stylesheet",instance:T,count:1,state:S},h.set(m,T)}}}function XS(t,r){tr.X(t,r);var a=to;if(a&&t){var l=tn(a).hoistableScripts,h=io(t),m=l.get(h);m||(m=a.querySelector(Pl(h)),m||(t=E({src:t,async:!0},r),(r=kn.get(h))&&bm(t,r),m=a.createElement("script"),dt(m),Ft(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function WS(t,r){tr.M(t,r);var a=to;if(a&&t){var l=tn(a).hoistableScripts,h=io(t),m=l.get(h);m||(m=a.querySelector(Pl(h)),m||(t=E({src:t,async:!0,type:"module"},r),(r=kn.get(h))&&bm(t,r),m=a.createElement("script"),dt(m),Ft(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function j_(t,r,a,l){var h=(h=be.current)?Xu(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=no(a.href),a=tn(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=no(a.href);var m=tn(h).hoistableStyles,T=m.get(t);if(T||(h=h.ownerDocument||h,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,T),(m=h.querySelector(Vl(t)))&&!m._p&&(T.instance=m,T.state.loading=5),kn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},kn.set(t,a),m||ZS(h,t,a,T.state))),r&&l===null)throw Error(s(528,""));return T}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=io(a),a=tn(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function no(t){return'href="'+vt(t)+'"'}function Vl(t){return'link[rel="stylesheet"]['+t+"]"}function O_(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function ZS(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Ft(r,"link",a),dt(r),t.head.appendChild(r))}function io(t){return'[src="'+vt(t)+'"]'}function Pl(t){return"script[async]"+t}function M_(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+vt(a.href)+'"]');if(l)return r.instance=l,dt(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),dt(l),Ft(l,"style",h),Wu(l,a.precedence,t),r.instance=l;case"stylesheet":h=no(a.href);var m=t.querySelector(Vl(h));if(m)return r.state.loading|=4,r.instance=m,dt(m),m;l=O_(a),(h=kn.get(h))&&Tm(l,h),m=(t.ownerDocument||t).createElement("link"),dt(m);var T=m;return T._p=new Promise(function(S,N){T.onload=S,T.onerror=N}),Ft(m,"link",l),r.state.loading|=4,Wu(m,a.precedence,t),r.instance=m;case"script":return m=io(a.src),(h=t.querySelector(Pl(m)))?(r.instance=h,dt(h),h):(l=a,(h=kn.get(m))&&(l=E({},a),bm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),dt(h),Ft(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Wu(l,a.precedence,t));return r.instance}function Wu(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,m=h,T=0;T<l.length;T++){var S=l[T];if(S.dataset.precedence===r)m=S;else if(m!==h)break}m?m.parentNode.insertBefore(t,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Tm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function bm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Zu=null;function k_(t,r,a){if(Zu===null){var l=new Map,h=Zu=new Map;h.set(a,l)}else h=Zu,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var m=a[h];if(!(m[Ts]||m[At]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(r)||"";T=t+T;var S=l.get(T);S?S.push(m):l.set(T,[m])}}return l}function V_(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function JS(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function P_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ll=null;function ew(){}function tw(t,r,a){if(Ll===null)throw Error(s(475));var l=Ll;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=no(a.href),m=t.querySelector(Vl(h));if(m){t=m._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Ju.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=m,dt(m);return}m=t.ownerDocument||t,a=O_(a),(h=kn.get(h))&&Tm(a,h),m=m.createElement("link"),dt(m);var T=m;T._p=new Promise(function(S,N){T.onload=S,T.onerror=N}),Ft(m,"link",a),r.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Ju.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function nw(){if(Ll===null)throw Error(s(475));var t=Ll;return t.stylesheets&&t.count===0&&Sm(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&Sm(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Ju(){if(this.count--,this.count===0){if(this.stylesheets)Sm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var eh=null;function Sm(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,eh=new Map,r.forEach(iw,t),eh=null,Ju.call(t))}function iw(t,r){if(!(r.state.loading&4)){var a=eh.get(t);if(a)var l=a.get(null);else{a=new Map,eh.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var T=h[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),l=T)}l&&a.set(null,l)}h=r.instance,T=h.getAttribute("data-precedence"),m=a.get(T)||l,m===l&&a.set(null,h),a.set(T,h),this.count++,l=Ju.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),m?m.parentNode.insertBefore(h,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Ul={$$typeof:L,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function rw(t,r,a,l,h,m,T,S){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Di(0),this.hiddenUpdates=Di(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function L_(t,r,a,l,h,m,T,S,N,$,Z,te){return t=new rw(t,r,a,T,S,N,$,te),r=1,m===!0&&(r|=24),m=pn(3,null,null,r),t.current=m,m.stateNode=t,r=rf(),r.refCount++,t.pooledCache=r,r.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:r},lf(m),t}function U_(t){return t?(t=Ma,t):Ma}function z_(t,r,a,l,h,m){h=U_(h),l.context===null?l.context=h:l.pendingContext=h,l=xr(r),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Rr(t,l,r),a!==null&&(En(a,t,r),pl(a,t,r))}function B_(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function wm(t,r){B_(t,r),(t=t.alternate)&&B_(t,r)}function q_(t){if(t.tag===13){var r=Oa(t,67108864);r!==null&&En(r,t,67108864),wm(t,67108864)}}var th=!0;function sw(t,r,a,l){var h=W.T;W.T=null;var m=oe.p;try{oe.p=2,Am(t,r,a,l)}finally{oe.p=m,W.T=h}}function aw(t,r,a,l){var h=W.T;W.T=null;var m=oe.p;try{oe.p=8,Am(t,r,a,l)}finally{oe.p=m,W.T=h}}function Am(t,r,a,l){if(th){var h=xm(l);if(h===null)dm(t,r,l,nh,a),H_(t,l);else if(lw(h,t,r,a,l))l.stopPropagation();else if(H_(t,l),r&4&&-1<ow.indexOf(t)){for(;h!==null;){var m=ii(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=zn(m.pendingLanes);if(T!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var N=1<<31-$t(T);S.entanglements[1]|=N,T&=~N}yi(m),($e&6)===0&&(Uu=Sn()+500,jl(0))}}break;case 13:S=Oa(m,2),S!==null&&En(S,m,2),Bu(),wm(m,2)}if(m=xm(l),m===null&&dm(t,r,l,nh,a),m===h)break;h=m}h!==null&&l.stopPropagation()}else dm(t,r,l,null,a)}}function xm(t){return t=xn(t),Rm(t)}var nh=null;function Rm(t){if(nh=null,t=Oi(t),t!==null){var r=c(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=d(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return nh=t,null}function F_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cd()){case Po:return 2;case da:return 8;case gs:case Id:return 32;case fa:return 268435456;default:return 32}default:return 32}}var Nm=!1,zr=null,Br=null,qr=null,zl=new Map,Bl=new Map,Fr=[],ow="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function H_(t,r){switch(t){case"focusin":case"focusout":zr=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":qr=null;break;case"pointerover":case"pointerout":zl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(r.pointerId)}}function ql(t,r,a,l,h,m){return t===null||t.nativeEvent!==m?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[h]},r!==null&&(r=ii(r),r!==null&&q_(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function lw(t,r,a,l,h){switch(r){case"focusin":return zr=ql(zr,t,r,a,l,h),!0;case"dragenter":return Br=ql(Br,t,r,a,l,h),!0;case"mouseover":return qr=ql(qr,t,r,a,l,h),!0;case"pointerover":var m=h.pointerId;return zl.set(m,ql(zl.get(m)||null,t,r,a,l,h)),!0;case"gotpointercapture":return m=h.pointerId,Bl.set(m,ql(Bl.get(m)||null,t,r,a,l,h)),!0}return!1}function G_(t){var r=Oi(t.target);if(r!==null){var a=c(r);if(a!==null){if(r=a.tag,r===13){if(r=d(a),r!==null){t.blockedOn=r,Bc(t.priority,function(){if(a.tag===13){var l=_n();l=yr(l);var h=Oa(a,l);h!==null&&En(h,a,l),wm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ih(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=xm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Pi=l,a.target.dispatchEvent(l),Pi=null}else return r=ii(a),r!==null&&q_(r),t.blockedOn=a,!1;r.shift()}return!0}function Q_(t,r,a){ih(t)&&a.delete(r)}function cw(){Nm=!1,zr!==null&&ih(zr)&&(zr=null),Br!==null&&ih(Br)&&(Br=null),qr!==null&&ih(qr)&&(qr=null),zl.forEach(Q_),Bl.forEach(Q_)}function rh(t,r){t.blockedOn===r&&(t.blockedOn=null,Nm||(Nm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,cw)))}var sh=null;function $_(t){sh!==t&&(sh=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){sh===t&&(sh=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(Rm(l||a)===null)continue;break}var m=ii(a);m!==null&&(t.splice(r,3),r-=3,Rf(m,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Fl(t){function r(N){return rh(N,t)}zr!==null&&rh(zr,t),Br!==null&&rh(Br,t),qr!==null&&rh(qr,t),zl.forEach(r),Bl.forEach(r);for(var a=0;a<Fr.length;a++){var l=Fr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Fr.length&&(a=Fr[0],a.blockedOn===null);)G_(a),a.blockedOn===null&&Fr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],m=a[l+1],T=h[yt]||null;if(typeof m=="function")T||$_(a);else if(T){var S=null;if(m&&m.hasAttribute("formAction")){if(h=m,T=m[yt]||null)S=T.formAction;else if(Rm(h)!==null)continue}else S=T.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),$_(a)}}}function Cm(t){this._internalRoot=t}ah.prototype.render=Cm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=_n();z_(a,l,t,r,null,null)},ah.prototype.unmount=Cm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;z_(t.current,2,null,t,null,null),Bu(),r[wn]=null}};function ah(t){this._internalRoot=t}ah.prototype.unstable_scheduleHydration=function(t){if(t){var r=vr();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Fr.length&&r!==0&&r<Fr[a].priority;a++);Fr.splice(a,0,t),a===0&&G_(t)}};var K_=e.version;if(K_!=="19.1.1")throw Error(s(527,K_,"19.1.1"));oe.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(r),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var uw={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oh.isDisabled&&oh.supportsFiber)try{ct=oh.inject(uw),Qe=oh}catch{}}return Gl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=uv,m=hv,T=dv,S=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks)),r=L_(t,1,!1,null,null,a,l,h,m,T,S,null),t[wn]=r.current,hm(t),new Cm(r)},Gl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",m=uv,T=hv,S=dv,N=null,$=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks),a.formState!==void 0&&($=a.formState)),r=L_(t,1,!0,r,a??null,l,h,m,T,S,N,$),r.context=U_(null),a=r.current,l=_n(),l=yr(l),h=xr(l),h.callback=null,Rr(a,h,l),a=l,r.current.lanes=a,ji(r,a),yi(r),t[wn]=r.current,hm(t),new ah(r)},Gl.version="19.1.1",Gl}var r0;function Tw(){if(r0)return jm.exports;r0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),jm.exports=Ew(),jm.exports}var bw=Tw();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var s0="popstate";function Sw(i={}){function e(s,o){let{pathname:c,search:d,hash:p}=s.location;return Jm("",{pathname:c,search:d,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:oc(o)}return Aw(e,n,null,i)}function at(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Xn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ww(){return Math.random().toString(36).substring(2,10)}function a0(i,e){return{usr:i.state,key:i.key,idx:e}}function Jm(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Ao(e):e,state:n,key:e&&e.key||s||ww()}}function oc({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Ao(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function Aw(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,d=o.history,p="POP",g=null,y=E();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function E(){return(d.state||{idx:null}).idx}function b(){p="POP";let V=E(),F=V==null?null:V-y;y=V,g&&g({action:p,location:Q.location,delta:F})}function w(V,F){p="PUSH";let j=Jm(Q.location,V,F);y=E()+1;let L=a0(j,y),ae=Q.createHref(j);try{d.pushState(L,"",ae)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;o.location.assign(ae)}c&&g&&g({action:p,location:Q.location,delta:1})}function D(V,F){p="REPLACE";let j=Jm(Q.location,V,F);y=E();let L=a0(j,y),ae=Q.createHref(j);d.replaceState(L,"",ae),c&&g&&g({action:p,location:Q.location,delta:0})}function q(V){return xw(V)}let Q={get action(){return p},get location(){return i(o,d)},listen(V){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(s0,b),g=V,()=>{o.removeEventListener(s0,b),g=null}},createHref(V){return e(o,V)},createURL:q,encodeLocation(V){let F=q(V);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:w,replace:D,go(V){return d.go(V)}};return Q}function xw(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),at(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:oc(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function $E(i,e,n="/"){return Rw(i,e,n,!1)}function Rw(i,e,n,s){let o=typeof e=="string"?Ao(e):e,c=cr(o.pathname||"/",n);if(c==null)return null;let d=KE(i);Nw(d);let p=null;for(let g=0;p==null&&g<d.length;++g){let y=Uw(c);p=Pw(d[g],y,s)}return p}function KE(i,e=[],n=[],s="",o=!1){let c=(d,p,g=o,y)=>{let E={relativePath:y===void 0?d.path||"":y,caseSensitive:d.caseSensitive===!0,childrenIndex:p,route:d};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&g)return;at(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let b=sr([s,E.relativePath]),w=n.concat(E);d.children&&d.children.length>0&&(at(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),KE(d.children,e,w,b,g)),!(d.path==null&&!d.index)&&e.push({path:b,score:kw(b,d.index),routesMeta:w})};return i.forEach((d,p)=>{if(d.path===""||!d.path?.includes("?"))c(d,p);else for(let g of YE(d.path))c(d,p,!0,g)}),e}function YE(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let d=YE(s.join("/")),p=[];return p.push(...d.map(g=>g===""?c:[c,g].join("/"))),o&&p.push(...d),p.map(g=>i.startsWith("/")&&g===""?"/":g)}function Nw(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:Vw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Cw=/^:[\w-]+$/,Iw=3,Dw=2,jw=1,Ow=10,Mw=-2,o0=i=>i==="*";function kw(i,e){let n=i.split("/"),s=n.length;return n.some(o0)&&(s+=Mw),e&&(s+=Dw),n.filter(o=>!o0(o)).reduce((o,c)=>o+(Cw.test(c)?Iw:c===""?jw:Ow),s)}function Vw(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function Pw(i,e,n=!1){let{routesMeta:s}=i,o={},c="/",d=[];for(let p=0;p<s.length;++p){let g=s[p],y=p===s.length-1,E=c==="/"?e:e.slice(c.length)||"/",b=Dh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),w=g.route;if(!b&&y&&n&&!s[s.length-1].route.index&&(b=Dh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),d.push({params:o,pathname:sr([c,b.pathname]),pathnameBase:Fw(sr([c,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(c=sr([c,b.pathnameBase]))}return d}function Dh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=Lw(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:b},w)=>{if(E==="*"){let q=p[w]||"";d=c.slice(0,c.length-q.length).replace(/(.)\/+$/,"$1")}const D=p[w];return b&&!D?y[E]=void 0:y[E]=(D||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:d,pattern:i}}function Lw(i,e=!1,n=!0){Xn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,g)=>(s.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Uw(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function cr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function zw(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?Ao(i):i;return{pathname:n?n.startsWith("/")?n:Bw(n,e):e,search:Hw(s),hash:Gw(o)}}function Bw(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Vm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function qw(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Dp(i){let e=qw(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function jp(i,e,n,s=!1){let o;typeof i=="string"?o=Ao(i):(o={...i},at(!o.pathname||!o.pathname.includes("?"),Vm("?","pathname","search",o)),at(!o.pathname||!o.pathname.includes("#"),Vm("#","pathname","hash",o)),at(!o.search||!o.search.includes("#"),Vm("#","search","hash",o)));let c=i===""||o.pathname==="",d=c?"/":o.pathname,p;if(d==null)p=n;else{let b=e.length-1;if(!s&&d.startsWith("..")){let w=d.split("/");for(;w[0]==="..";)w.shift(),b-=1;o.pathname=w.join("/")}p=b>=0?e[b]:"/"}let g=zw(o,p),y=d&&d!=="/"&&d.endsWith("/"),E=(c||d===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var sr=i=>i.join("/").replace(/\/\/+/g,"/"),Fw=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Hw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Gw=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Qw(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var XE=["POST","PUT","PATCH","DELETE"];new Set(XE);var $w=["GET",...XE];new Set($w);var xo=U.createContext(null);xo.displayName="DataRouter";var ed=U.createContext(null);ed.displayName="DataRouterState";U.createContext(!1);var WE=U.createContext({isTransitioning:!1});WE.displayName="ViewTransition";var Kw=U.createContext(new Map);Kw.displayName="Fetchers";var Yw=U.createContext(null);Yw.displayName="Await";var ei=U.createContext(null);ei.displayName="Navigation";var bc=U.createContext(null);bc.displayName="Location";var Ci=U.createContext({outlet:null,matches:[],isDataRoute:!1});Ci.displayName="Route";var Op=U.createContext(null);Op.displayName="RouteError";function Xw(i,{relative:e}={}){at(Ro(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=U.useContext(ei),{hash:o,pathname:c,search:d}=wc(i,{relative:e}),p=c;return n!=="/"&&(p=c==="/"?n:sr([n,c])),s.createHref({pathname:p,search:d,hash:o})}function Ro(){return U.useContext(bc)!=null}function mr(){return at(Ro(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(bc).location}var ZE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function JE(i){U.useContext(ei).static||U.useLayoutEffect(i)}function Sc(){let{isDataRoute:i}=U.useContext(Ci);return i?cA():Ww()}function Ww(){at(Ro(),"useNavigate() may be used only in the context of a <Router> component.");let i=U.useContext(xo),{basename:e,navigator:n}=U.useContext(ei),{matches:s}=U.useContext(Ci),{pathname:o}=mr(),c=JSON.stringify(Dp(s)),d=U.useRef(!1);return JE(()=>{d.current=!0}),U.useCallback((g,y={})=>{if(Xn(d.current,ZE),!d.current)return;if(typeof g=="number"){n.go(g);return}let E=jp(g,JSON.parse(c),o,y.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:sr([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,c,o,i])}U.createContext(null);function wc(i,{relative:e}={}){let{matches:n}=U.useContext(Ci),{pathname:s}=mr(),o=JSON.stringify(Dp(n));return U.useMemo(()=>jp(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function Zw(i,e){return e1(i,e)}function e1(i,e,n,s,o){at(Ro(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=U.useContext(ei),{matches:d}=U.useContext(Ci),p=d[d.length-1],g=p?p.params:{},y=p?p.pathname:"/",E=p?p.pathnameBase:"/",b=p&&p.route;{let j=b&&b.path||"";t1(y,!b||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let w=mr(),D;if(e){let j=typeof e=="string"?Ao(e):e;at(E==="/"||j.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${j.pathname}" was given in the \`location\` prop.`),D=j}else D=w;let q=D.pathname||"/",Q=q;if(E!=="/"){let j=E.replace(/^\//,"").split("/");Q="/"+q.replace(/^\//,"").split("/").slice(j.length).join("/")}let V=$E(i,{pathname:Q});Xn(b||V!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),Xn(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=iA(V&&V.map(j=>Object.assign({},j,{params:Object.assign({},g,j.params),pathname:sr([E,c.encodeLocation?c.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?E:sr([E,c.encodeLocation?c.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),d,n,s,o);return e&&F?U.createElement(bc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},F):F}function Jw(){let i=lA(),e=Qw(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",i),d=U.createElement(U.Fragment,null,U.createElement("p",null,"💿 Hey developer 👋"),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:c},"ErrorBoundary")," or"," ",U.createElement("code",{style:c},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:o},n):null,d)}var eA=U.createElement(Jw,null),tA=class extends U.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?U.createElement(Ci.Provider,{value:this.props.routeContext},U.createElement(Op.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function nA({routeContext:i,match:e,children:n}){let s=U.useContext(xo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(Ci.Provider,{value:i},n)}function iA(i,e=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let c=i,d=n?.errors;if(d!=null){let y=c.findIndex(E=>E.route.id&&d?.[E.route.id]!==void 0);at(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,y+1))}let p=!1,g=-1;if(n)for(let y=0;y<c.length;y++){let E=c[y];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(g=y),E.route.id){let{loaderData:b,errors:w}=n,D=E.route.loader&&!b.hasOwnProperty(E.route.id)&&(!w||w[E.route.id]===void 0);if(E.route.lazy||D){p=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}return c.reduceRight((y,E,b)=>{let w,D=!1,q=null,Q=null;n&&(w=d&&E.route.id?d[E.route.id]:void 0,q=E.route.errorElement||eA,p&&(g<0&&b===0?(t1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,Q=null):g===b&&(D=!0,Q=E.route.hydrateFallbackElement||null)));let V=e.concat(c.slice(0,b+1)),F=()=>{let j;return w?j=q:D?j=Q:E.route.Component?j=U.createElement(E.route.Component,null):E.route.element?j=E.route.element:j=y,U.createElement(nA,{match:E,routeContext:{outlet:y,matches:V,isDataRoute:n!=null},children:j})};return n&&(E.route.ErrorBoundary||E.route.errorElement||b===0)?U.createElement(tA,{location:n.location,revalidation:n.revalidation,component:q,error:w,children:F(),routeContext:{outlet:null,matches:V,isDataRoute:!0},unstable_onError:s}):F()},null)}function Mp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rA(i){let e=U.useContext(xo);return at(e,Mp(i)),e}function sA(i){let e=U.useContext(ed);return at(e,Mp(i)),e}function aA(i){let e=U.useContext(Ci);return at(e,Mp(i)),e}function kp(i){let e=aA(i),n=e.matches[e.matches.length-1];return at(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function oA(){return kp("useRouteId")}function lA(){let i=U.useContext(Op),e=sA("useRouteError"),n=kp("useRouteError");return i!==void 0?i:e.errors?.[n]}function cA(){let{router:i}=rA("useNavigate"),e=kp("useNavigate"),n=U.useRef(!1);return JE(()=>{n.current=!0}),U.useCallback(async(o,c={})=>{Xn(n.current,ZE),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...c}))},[i,e])}var l0={};function t1(i,e,n){!e&&!l0[i]&&(l0[i]=!0,Xn(!1,n))}U.memo(uA);function uA({routes:i,future:e,state:n,unstable_onError:s}){return e1(i,void 0,n,s,e)}function hA({to:i,replace:e,state:n,relative:s}){at(Ro(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=U.useContext(ei);Xn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=U.useContext(Ci),{pathname:d}=mr(),p=Sc(),g=jp(i,Dp(c),d,s==="path"),y=JSON.stringify(g);return U.useEffect(()=>{p(JSON.parse(y),{replace:e,state:n,relative:s})},[p,y,s,e,n]),null}function Xs(i){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function dA({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:c=!1}){at(!Ro(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=i.replace(/^\/*/,"/"),p=U.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof n=="string"&&(n=Ao(n));let{pathname:g="/",search:y="",hash:E="",state:b=null,key:w="default"}=n,D=U.useMemo(()=>{let q=cr(g,d);return q==null?null:{location:{pathname:q,search:y,hash:E,state:b,key:w},navigationType:s}},[d,g,y,E,b,w,s]);return Xn(D!=null,`<Router basename="${d}"> is not able to match the URL "${g}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:U.createElement(ei.Provider,{value:p},U.createElement(bc.Provider,{children:e,value:D}))}function fA({children:i,location:e}){return Zw(ep(i),e)}function ep(i,e=[]){let n=[];return U.Children.forEach(i,(s,o)=>{if(!U.isValidElement(s))return;let c=[...e,o];if(s.type===U.Fragment){n.push.apply(n,ep(s.props.children,c));return}at(s.type===Xs,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=ep(s.props.children,c)),n.push(d)}),n}var _h="get",Eh="application/x-www-form-urlencoded";function td(i){return i!=null&&typeof i.tagName=="string"}function mA(i){return td(i)&&i.tagName.toLowerCase()==="button"}function pA(i){return td(i)&&i.tagName.toLowerCase()==="form"}function gA(i){return td(i)&&i.tagName.toLowerCase()==="input"}function yA(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function vA(i,e){return i.button===0&&(!e||e==="_self")&&!yA(i)}var lh=null;function _A(){if(lh===null)try{new FormData(document.createElement("form"),0),lh=!1}catch{lh=!0}return lh}var EA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pm(i){return i!=null&&!EA.has(i)?(Xn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Eh}"`),null):i}function TA(i,e){let n,s,o,c,d;if(pA(i)){let p=i.getAttribute("action");s=p?cr(p,e):null,n=i.getAttribute("method")||_h,o=Pm(i.getAttribute("enctype"))||Eh,c=new FormData(i)}else if(mA(i)||gA(i)&&(i.type==="submit"||i.type==="image")){let p=i.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||p.getAttribute("action");if(s=g?cr(g,e):null,n=i.getAttribute("formmethod")||p.getAttribute("method")||_h,o=Pm(i.getAttribute("formenctype"))||Pm(p.getAttribute("enctype"))||Eh,c=new FormData(p,i),!_A()){let{name:y,type:E,value:b}=i;if(E==="image"){let w=y?`${y}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else y&&c.append(y,b)}}else{if(td(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=_h,s=null,o=Eh,d=i}return c&&o==="text/plain"&&(d=c,c=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Vp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function bA(i,e,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&cr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function SA(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wA(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function AA(i,e,n){let s=await Promise.all(i.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await SA(c,n);return d.links?d.links():[]}return[]}));return CA(s.flat(1).filter(wA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function c0(i,e,n,s,o,c){let d=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,p=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return c==="assets"?e.filter((g,y)=>d(g,y)||p(g,y)):c==="data"?e.filter((g,y)=>{let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(d(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function xA(i,e,{includeHydrateFallback:n}={}){return RA(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function RA(i){return[...new Set(i)]}function NA(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function CA(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let c=JSON.stringify(NA(o));return n.has(c)||(n.add(c),s.push({key:c,link:o})),s},[])}function n1(){let i=U.useContext(xo);return Vp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function IA(){let i=U.useContext(ed);return Vp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Pp=U.createContext(void 0);Pp.displayName="FrameworkContext";function i1(){let i=U.useContext(Pp);return Vp(i,"You must render this element inside a <HydratedRouter> element"),i}function DA(i,e){let n=U.useContext(Pp),[s,o]=U.useState(!1),[c,d]=U.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:b}=e,w=U.useRef(null);U.useEffect(()=>{if(i==="render"&&d(!0),i==="viewport"){let Q=F=>{F.forEach(j=>{d(j.isIntersecting)})},V=new IntersectionObserver(Q,{threshold:.5});return w.current&&V.observe(w.current),()=>{V.disconnect()}}},[i]),U.useEffect(()=>{if(s){let Q=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let D=()=>{o(!0)},q=()=>{o(!1),d(!1)};return n?i!=="intent"?[c,w,{}]:[c,w,{onFocus:Ql(p,D),onBlur:Ql(g,q),onMouseEnter:Ql(y,D),onMouseLeave:Ql(E,q),onTouchStart:Ql(b,D)}]:[!1,w,{}]}function Ql(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function jA({page:i,...e}){let{router:n}=n1(),s=U.useMemo(()=>$E(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?U.createElement(MA,{page:i,matches:s,...e}):null}function OA(i){let{manifest:e,routeModules:n}=i1(),[s,o]=U.useState([]);return U.useEffect(()=>{let c=!1;return AA(i,e,n).then(d=>{c||o(d)}),()=>{c=!0}},[i,e,n]),s}function MA({page:i,matches:e,...n}){let s=mr(),{manifest:o,routeModules:c}=i1(),{basename:d}=n1(),{loaderData:p,matches:g}=IA(),y=U.useMemo(()=>c0(i,e,g,o,s,"data"),[i,e,g,o,s]),E=U.useMemo(()=>c0(i,e,g,o,s,"assets"),[i,e,g,o,s]),b=U.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let q=new Set,Q=!1;if(e.forEach(F=>{let j=o.routes[F.route.id];!j||!j.hasLoader||(!y.some(L=>L.route.id===F.route.id)&&F.route.id in p&&c[F.route.id]?.shouldRevalidate||j.hasClientLoader?Q=!0:q.add(F.route.id))}),q.size===0)return[];let V=bA(i,d,"data");return Q&&q.size>0&&V.searchParams.set("_routes",e.filter(F=>q.has(F.route.id)).map(F=>F.route.id).join(",")),[V.pathname+V.search]},[d,p,s,o,y,e,i,c]),w=U.useMemo(()=>xA(E,o),[E,o]),D=OA(E);return U.createElement(U.Fragment,null,b.map(q=>U.createElement("link",{key:q,rel:"prefetch",as:"fetch",href:q,...n})),w.map(q=>U.createElement("link",{key:q,rel:"modulepreload",href:q,...n})),D.map(({key:q,link:Q})=>U.createElement("link",{key:q,nonce:n.nonce,...Q})))}function kA(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var r1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{r1&&(window.__reactRouterVersion="7.8.2")}catch{}function VA({basename:i,children:e,window:n}){let s=U.useRef();s.current==null&&(s.current=Sw({window:n,v5Compat:!0}));let o=s.current,[c,d]=U.useState({action:o.action,location:o.location}),p=U.useCallback(g=>{U.startTransition(()=>d(g))},[d]);return U.useLayoutEffect(()=>o.listen(p),[o,p]),U.createElement(dA,{basename:i,children:e,location:c.location,navigationType:c.action,navigator:o})}var s1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nd=U.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:c,replace:d,state:p,target:g,to:y,preventScrollReset:E,viewTransition:b,...w},D){let{basename:q}=U.useContext(ei),Q=typeof y=="string"&&s1.test(y),V,F=!1;if(typeof y=="string"&&Q&&(V=y,r1))try{let R=new URL(window.location.href),I=y.startsWith("//")?new URL(R.protocol+y):new URL(y),M=cr(I.pathname,q);I.origin===R.origin&&M!=null?y=M+I.search+I.hash:F=!0}catch{Xn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=Xw(y,{relative:o}),[L,ae,ce]=DA(s,w),Ae=zA(y,{replace:d,state:p,target:g,preventScrollReset:E,relative:o,viewTransition:b});function P(R){e&&e(R),R.defaultPrevented||Ae(R)}let x=U.createElement("a",{...w,...ce,href:V||j,onClick:F||c?e:P,ref:kA(D,ae),target:g,"data-discover":!Q&&n==="render"?"true":void 0});return L&&!Q?U.createElement(U.Fragment,null,x,U.createElement(jA,{page:j})):x});nd.displayName="Link";var PA=U.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:c,to:d,viewTransition:p,children:g,...y},E){let b=wc(d,{relative:y.relative}),w=mr(),D=U.useContext(ed),{navigator:q,basename:Q}=U.useContext(ei),V=D!=null&&GA(b)&&p===!0,F=q.encodeLocation?q.encodeLocation(b).pathname:b.pathname,j=w.pathname,L=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;n||(j=j.toLowerCase(),L=L?L.toLowerCase():null,F=F.toLowerCase()),L&&Q&&(L=cr(L,Q)||L);const ae=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let ce=j===F||!o&&j.startsWith(F)&&j.charAt(ae)==="/",Ae=L!=null&&(L===F||!o&&L.startsWith(F)&&L.charAt(F.length)==="/"),P={isActive:ce,isPending:Ae,isTransitioning:V},x=ce?e:void 0,R;typeof s=="function"?R=s(P):R=[s,ce?"active":null,Ae?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let I=typeof c=="function"?c(P):c;return U.createElement(nd,{...y,"aria-current":x,className:R,ref:E,style:I,to:d,viewTransition:p},typeof g=="function"?g(P):g)});PA.displayName="NavLink";var LA=U.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:c,method:d=_h,action:p,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:b,...w},D)=>{let q=FA(),Q=HA(p,{relative:y}),V=d.toLowerCase()==="get"?"get":"post",F=typeof p=="string"&&s1.test(p),j=L=>{if(g&&g(L),L.defaultPrevented)return;L.preventDefault();let ae=L.nativeEvent.submitter,ce=ae?.getAttribute("formmethod")||d;q(ae||L.currentTarget,{fetcherKey:e,method:ce,navigate:n,replace:o,state:c,relative:y,preventScrollReset:E,viewTransition:b})};return U.createElement("form",{ref:D,method:V,action:Q,onSubmit:s?g:j,...w,"data-discover":!F&&i==="render"?"true":void 0})});LA.displayName="Form";function UA(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function a1(i){let e=U.useContext(xo);return at(e,UA(i)),e}function zA(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:c,viewTransition:d}={}){let p=Sc(),g=mr(),y=wc(i,{relative:c});return U.useCallback(E=>{if(vA(E,e)){E.preventDefault();let b=n!==void 0?n:oc(g)===oc(y);p(i,{replace:b,state:s,preventScrollReset:o,relative:c,viewTransition:d})}},[g,p,y,n,s,e,i,o,c,d])}var BA=0,qA=()=>`__${String(++BA)}__`;function FA(){let{router:i}=a1("useSubmit"),{basename:e}=U.useContext(ei),n=oA();return U.useCallback(async(s,o={})=>{let{action:c,method:d,encType:p,formData:g,body:y}=TA(s,e);if(o.navigate===!1){let E=o.fetcherKey||qA();await i.fetch(E,n,o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||d,formEncType:o.encType||p,flushSync:o.flushSync})}else await i.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||d,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function HA(i,{relative:e}={}){let{basename:n}=U.useContext(ei),s=U.useContext(Ci);at(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...wc(i||".",{relative:e})},d=mr();if(i==null){c.search=d.search;let p=new URLSearchParams(c.search),g=p.getAll("index");if(g.some(E=>E==="")){p.delete("index"),g.filter(b=>b).forEach(b=>p.append("index",b));let E=p.toString();c.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:sr([n,c.pathname])),oc(c)}function GA(i,{relative:e}={}){let n=U.useContext(WE);at(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=a1("useViewTransitionState"),o=wc(i,{relative:e});if(!n.isTransitioning)return!1;let c=cr(n.currentLocation.pathname,s)||n.currentLocation.pathname,d=cr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Dh(o.pathname,d)!=null||Dh(o.pathname,c)!=null}const $n={home:"/",login:"/login",register:"/register",dashboard:"/dashboard",clients:"/clients",stock:"/estoque"},QA=()=>{};var u0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},$A=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=i[n++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=i[n++],d=i[n++],p=i[n++],g=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const c=i[n++],d=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},l1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const c=i[o],d=o+1<i.length,p=d?i[o+1]:0,g=o+2<i.length,y=g?i[o+2]:0,E=c>>2,b=(c&3)<<4|p>>4;let w=(p&15)<<2|y>>6,D=y&63;g||(D=64,d||(w=64)),s.push(n[E],n[b],n[w],n[D])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(o1(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):$A(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const c=n[i.charAt(o++)],p=o<i.length?n[i.charAt(o)]:0;++o;const y=o<i.length?n[i.charAt(o)]:64;++o;const b=o<i.length?n[i.charAt(o)]:64;if(++o,c==null||p==null||y==null||b==null)throw new KA;const w=c<<2|p>>4;if(s.push(w),y!==64){const D=p<<4&240|y>>2;if(s.push(D),b!==64){const q=y<<6&192|b;s.push(q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class KA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YA=function(i){const e=o1(i);return l1.encodeByteArray(e,!0)},jh=function(i){return YA(i).replace(/\./g,"")},c1=function(i){try{return l1.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA=()=>XA().__FIREBASE_DEFAULTS__,ZA=()=>{if(typeof process>"u"||typeof u0>"u")return;const i=u0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},JA=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&c1(i[1]);return e&&JSON.parse(e)},id=()=>{try{return QA()||WA()||ZA()||JA()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},u1=i=>id()?.emulatorHosts?.[i],e2=i=>{const e=u1(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},h1=()=>id()?.config,d1=i=>id()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function No(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function f1(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[jh(JSON.stringify(n)),jh(JSON.stringify(d)),""].join(".")}const Jl={};function i2(){const i={prod:[],emulator:[]};for(const e of Object.keys(Jl))Jl[e]?i.emulator.push(e):i.prod.push(e);return i}function r2(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let h0=!1;function m1(i,e){if(typeof window>"u"||typeof document>"u"||!No(window.location.host)||Jl[i]===e||Jl[i]||h0)return;Jl[i]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",c=i2().prod.length>0;function d(){const w=document.getElementById(s);w&&w.remove()}function p(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function g(w,D){w.setAttribute("width","24"),w.setAttribute("id",D),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{h0=!0,d()},w}function E(w,D){w.setAttribute("id",D),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=r2(s),D=n("text"),q=document.getElementById(D)||document.createElement("span"),Q=n("learnmore"),V=document.getElementById(Q)||document.createElement("a"),F=n("preprendIcon"),j=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const L=w.element;p(L),E(V,Q);const ae=y();g(j,F),L.append(j,q,V,ae),document.body.appendChild(L)}c?(q.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,q.innerText="Preview backend running in this workspace."),q.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function s2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function a2(){const i=id()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function o2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function l2(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function c2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function u2(){const i=en();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function h2(){return!a2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function d2(){try{return typeof indexedDB=="object"}catch{return!1}}function f2(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2="FirebaseError";class pr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=m2,Object.setPrototypeOf(this,pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ac.prototype.create)}}class Ac{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?p2(c,s):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new pr(o,p,s)}}function p2(i,e){return i.replace(g2,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const g2=/\{\$([^}]+)}/g;function y2(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ea(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const c=i[o],d=e[o];if(d0(c)&&d0(d)){if(!ea(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function d0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function $l(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,c]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Kl(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function v2(i,e){const n=new _2(i,e);return n.subscribe.bind(n)}class _2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");E2(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Lm),o.error===void 0&&(o.error=Lm),o.complete===void 0&&(o.complete=Lm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function E2(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Lm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(i){return i&&i._delegate?i._delegate:i}class ta{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new t2;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(S2(e))try{this.getOrInitializeService({instanceIdentifier:Ws})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=Ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ws){return this.instances.has(e)}getOptions(e=Ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&d.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:b2(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ws){return this.component?this.component.multipleInstances?e:Ws:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function b2(i){return i===Ws?void 0:i}function S2(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new T2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Oe||(Oe={}));const A2={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},x2=Oe.INFO,R2={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},N2=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=R2[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lp{constructor(e){this.name=e,this._logLevel=x2,this._logHandler=N2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?A2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const C2=(i,e)=>e.some(n=>i instanceof n);let f0,m0;function I2(){return f0||(f0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function D2(){return m0||(m0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const p1=new WeakMap,tp=new WeakMap,g1=new WeakMap,Um=new WeakMap,Up=new WeakMap;function j2(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",c),i.removeEventListener("error",d)},c=()=>{n(Zr(i.result)),o()},d=()=>{s(i.error),o()};i.addEventListener("success",c),i.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&p1.set(n,i)}).catch(()=>{}),Up.set(e,i),e}function O2(i){if(tp.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",d),i.removeEventListener("abort",d)},c=()=>{n(),o()},d=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",c),i.addEventListener("error",d),i.addEventListener("abort",d)});tp.set(i,e)}let np={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return tp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||g1.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function M2(i){np=i(np)}function k2(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(zm(this),e,...n);return g1.set(s,e.sort?e.sort():[e]),Zr(s)}:D2().includes(i)?function(...e){return i.apply(zm(this),e),Zr(p1.get(this))}:function(...e){return Zr(i.apply(zm(this),e))}}function V2(i){return typeof i=="function"?k2(i):(i instanceof IDBTransaction&&O2(i),C2(i,I2())?new Proxy(i,np):i)}function Zr(i){if(i instanceof IDBRequest)return j2(i);if(Um.has(i))return Um.get(i);const e=V2(i);return e!==i&&(Um.set(i,e),Up.set(e,i)),e}const zm=i=>Up.get(i);function P2(i,e,{blocked:n,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(i,e),p=Zr(d);return s&&d.addEventListener("upgradeneeded",g=>{s(Zr(d.result),g.oldVersion,g.newVersion,Zr(d.transaction),g)}),n&&d.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const L2=["get","getKey","getAll","getAllKeys","count"],U2=["put","add","delete","clear"],Bm=new Map;function p0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Bm.get(e))return Bm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=U2.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||L2.includes(n)))return;const c=async function(d,...p){const g=this.transaction(d,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&g.done]))[0]};return Bm.set(e,c),c}M2(i=>({...i,get:(e,n,s)=>p0(e,n)||i.get(e,n,s),has:(e,n)=>!!p0(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(B2(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function B2(i){return i.getComponent()?.type==="VERSION"}const ip="@firebase/app",g0="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur=new Lp("@firebase/app"),q2="@firebase/app-compat",F2="@firebase/analytics-compat",H2="@firebase/analytics",G2="@firebase/app-check-compat",Q2="@firebase/app-check",$2="@firebase/auth",K2="@firebase/auth-compat",Y2="@firebase/database",X2="@firebase/data-connect",W2="@firebase/database-compat",Z2="@firebase/functions",J2="@firebase/functions-compat",ex="@firebase/installations",tx="@firebase/installations-compat",nx="@firebase/messaging",ix="@firebase/messaging-compat",rx="@firebase/performance",sx="@firebase/performance-compat",ax="@firebase/remote-config",ox="@firebase/remote-config-compat",lx="@firebase/storage",cx="@firebase/storage-compat",ux="@firebase/firestore",hx="@firebase/ai",dx="@firebase/firestore-compat",fx="firebase",mx="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp="[DEFAULT]",px={[ip]:"fire-core",[q2]:"fire-core-compat",[H2]:"fire-analytics",[F2]:"fire-analytics-compat",[Q2]:"fire-app-check",[G2]:"fire-app-check-compat",[$2]:"fire-auth",[K2]:"fire-auth-compat",[Y2]:"fire-rtdb",[X2]:"fire-data-connect",[W2]:"fire-rtdb-compat",[Z2]:"fire-fn",[J2]:"fire-fn-compat",[ex]:"fire-iid",[tx]:"fire-iid-compat",[nx]:"fire-fcm",[ix]:"fire-fcm-compat",[rx]:"fire-perf",[sx]:"fire-perf-compat",[ax]:"fire-rc",[ox]:"fire-rc-compat",[lx]:"fire-gcs",[cx]:"fire-gcs-compat",[ux]:"fire-fst",[dx]:"fire-fst-compat",[hx]:"fire-vertex","fire-js":"fire-js",[fx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh=new Map,gx=new Map,sp=new Map;function y0(i,e){try{i.container.addComponent(e)}catch(n){ur.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function vo(i){const e=i.name;if(sp.has(e))return ur.debug(`There were multiple attempts to register component ${e}.`),!1;sp.set(e,i);for(const n of Oh.values())y0(n,i);for(const n of gx.values())y0(n,i);return!0}function zp(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Vn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jr=new Ac("app","Firebase",yx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ta("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co=mx;function y1(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:rp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Jr.create("bad-app-name",{appName:String(o)});if(n||(n=h1()),!n)throw Jr.create("no-options");const c=Oh.get(o);if(c){if(ea(n,c.options)&&ea(s,c.config))return c;throw Jr.create("duplicate-app",{appName:o})}const d=new w2(o);for(const g of sp.values())d.addComponent(g);const p=new vx(n,s,d);return Oh.set(o,p),p}function v1(i=rp){const e=Oh.get(i);if(!e&&i===rp&&h1())return y1();if(!e)throw Jr.create("no-app",{appName:i});return e}function es(i,e,n){let s=px[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ur.warn(d.join(" "));return}vo(new ta(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x="firebase-heartbeat-database",Ex=1,lc="firebase-heartbeat-store";let qm=null;function _1(){return qm||(qm=P2(_x,Ex,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(lc)}catch(n){console.warn(n)}}}}).catch(i=>{throw Jr.create("idb-open",{originalErrorMessage:i.message})})),qm}async function Tx(i){try{const n=(await _1()).transaction(lc),s=await n.objectStore(lc).get(E1(i));return await n.done,s}catch(e){if(e instanceof pr)ur.warn(e.message);else{const n=Jr.create("idb-get",{originalErrorMessage:e?.message});ur.warn(n.message)}}}async function v0(i,e){try{const s=(await _1()).transaction(lc,"readwrite");await s.objectStore(lc).put(e,E1(i)),await s.done}catch(n){if(n instanceof pr)ur.warn(n.message);else{const s=Jr.create("idb-set",{originalErrorMessage:n?.message});ur.warn(s.message)}}}function E1(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx=1024,Sx=30;class wx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xx(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=_0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>Sx){const o=Rx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ur.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=_0(),{heartbeatsToSend:n,unsentEntries:s}=Ax(this._heartbeatsCache.heartbeats),o=jh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ur.warn(e),""}}}function _0(){return new Date().toISOString().substring(0,10)}function Ax(i,e=bx){const n=[];let s=i.slice();for(const o of i){const c=n.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),E0(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),E0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class xx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return d2()?f2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Tx(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return v0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return v0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function E0(i){return jh(JSON.stringify({version:2,heartbeats:i})).length}function Rx(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(i){vo(new ta("platform-logger",e=>new z2(e),"PRIVATE")),vo(new ta("heartbeat",e=>new wx(e),"PRIVATE")),es(ip,g0,i),es(ip,g0,"esm2020"),es("fire-js","")}Nx("");var Cx="firebase",Ix="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */es(Cx,Ix,"app");function T1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Dx=T1,b1=new Ac("auth","Firebase",T1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=new Lp("@firebase/auth");function jx(i,...e){Mh.logLevel<=Oe.WARN&&Mh.warn(`Auth (${Co}): ${i}`,...e)}function Th(i,...e){Mh.logLevel<=Oe.ERROR&&Mh.error(`Auth (${Co}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(i,...e){throw Bp(i,...e)}function bi(i,...e){return Bp(i,...e)}function S1(i,e,n){const s={...Dx(),[e]:n};return new Ac("auth","Firebase",s).create(e,{appName:i.name})}function ar(i){return S1(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Bp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return b1.create(i,...e)}function _e(i,e,...n){if(!i)throw Bp(e,...n)}function nr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Th(e),new Error(e)}function hr(i,e){i||nr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(){return typeof self<"u"&&self.location?.href||""}function Ox(){return T0()==="http:"||T0()==="https:"}function T0(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ox()||l2()||"connection"in navigator)?navigator.onLine:!0}function kx(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,n){this.shortDelay=e,this.longDelay=n,hr(n>e,"Short delay should be less than long delay!"),this.isMobile=s2()||c2()}get(){return Mx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(i,e){hr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Lx=new Rc(3e4,6e4);function cs(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function us(i,e,n,s,o={}){return A1(i,o,async()=>{let c={},d={};s&&(e==="GET"?d=s:c={body:JSON.stringify(s)});const p=xc({key:i.config.apiKey,...d}).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const y={method:e,headers:g,...c};return o2()||(y.referrerPolicy="no-referrer"),i.emulatorConfig&&No(i.emulatorConfig.host)&&(y.credentials="include"),w1.fetch()(await x1(i,i.config.apiHost,n,p),y)})}async function A1(i,e,n){i._canInitEmulator=!1;const s={...Vx,...e};try{const o=new zx(i),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw ch(i,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw ch(i,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw ch(i,"email-already-in-use",d);if(g==="USER_DISABLED")throw ch(i,"user-disabled",d);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw S1(i,E,y);Wn(i,E)}}catch(o){if(o instanceof pr)throw o;Wn(i,"network-request-failed",{message:String(o)})}}async function Nc(i,e,n,s,o={}){const c=await us(i,e,n,s,o);return"mfaPendingCredential"in c&&Wn(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function x1(i,e,n,s){const o=`${e}${n}?${s}`,c=i,d=c.config.emulator?qp(i.config,o):`${i.config.apiScheme}://${o}`;return Px.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function Ux(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class zx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(bi(this.auth,"network-request-failed")),Lx.get())})}}function ch(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=bi(i,e,s);return o.customData._tokenResponse=n,o}function b0(i){return i!==void 0&&i.enterprise!==void 0}class Bx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Ux(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function qx(i,e){return us(i,"GET","/v2/recaptchaConfig",cs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fx(i,e){return us(i,"POST","/v1/accounts:delete",e)}async function kh(i,e){return us(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Hx(i,e=!1){const n=Lt(i),s=await n.getIdToken(e),o=Fp(s);_e(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:s,authTime:ec(Fm(o.auth_time)),issuedAtTime:ec(Fm(o.iat)),expirationTime:ec(Fm(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Fm(i){return Number(i)*1e3}function Fp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return Th("JWT malformed, contained fewer than 3 sections"),null;try{const o=c1(n);return o?JSON.parse(o):(Th("Failed to decode base64 JWT payload"),null)}catch(o){return Th("Caught error parsing JWT payload as JSON",o?.toString()),null}}function S0(i){const e=Fp(i);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cc(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof pr&&Gx(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function Gx({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ec(this.lastLoginAt),this.creationTime=ec(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vh(i){const e=i.auth,n=await i.getIdToken(),s=await cc(i,kh(e,{idToken:n}));_e(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const c=o.providerUserInfo?.length?R1(o.providerUserInfo):[],d=Kx(i.providerData,c),p=i.isAnonymous,g=!(i.email&&o.passwordHash)&&!d?.length,y=p?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new op(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(i,E)}async function $x(i){const e=Lt(i);await Vh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Kx(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function R1(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yx(i,e){const n=await A1(i,{},async()=>{const s=xc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=i.config,d=await x1(i,o,"/v1/token",`key=${c}`),p=await i._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:s};return i.emulatorConfig&&No(i.emulatorConfig.host)&&(g.credentials="include"),w1.fetch()(d,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Xx(i,e){return us(i,"POST","/v2/accounts:revokeToken",cs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):S0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=S0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:c}=await Yx(e,n);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:c}=n,d=new co;return s&&(_e(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),o&&(_e(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(_e(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new co,this.toJSON())}_performRefresh(){return nr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(i,e){_e(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Kn{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new Qx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new op(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await cc(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Hx(this,e)}reload(){return $x(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Kn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Vh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject(ar(this.auth));const e=await this.getIdToken();return await cc(this,Fx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,d=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:b,emailVerified:w,isAnonymous:D,providerData:q,stsTokenManager:Q}=n;_e(b&&Q,e,"internal-error");const V=co.fromJSON(this.name,Q);_e(typeof b=="string",e,"internal-error"),Gr(s,e.name),Gr(o,e.name),_e(typeof w=="boolean",e,"internal-error"),_e(typeof D=="boolean",e,"internal-error"),Gr(c,e.name),Gr(d,e.name),Gr(p,e.name),Gr(g,e.name),Gr(y,e.name),Gr(E,e.name);const F=new Kn({uid:b,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:D,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:V,createdAt:y,lastLoginAt:E});return q&&Array.isArray(q)&&(F.providerData=q.map(j=>({...j}))),g&&(F._redirectEventId=g),F}static async _fromIdTokenResponse(e,n,s=!1){const o=new co;o.updateFromServerResponse(n);const c=new Kn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Vh(c),c}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];_e(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?R1(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,p=new co;p.updateFromIdToken(s);const g=new Kn({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new op(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0=new Map;function ir(i){hr(i instanceof Function,"Expected a class definition");let e=w0.get(i);return e?(hr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,w0.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}N1.type="NONE";const A0=N1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(i,e,n){return`firebase:${i}:${e}:${n}`}class uo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=bh(this.userKey,o.apiKey,c),this.fullPersistenceKey=bh("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await kh(this.auth,{idToken:e}).catch(()=>{});return n?Kn._fromGetAccountInfoResponse(this.auth,n,e):null}return Kn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new uo(ir(A0),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||ir(A0);const d=bh(s,e.config.apiKey,e.name);let p=null;for(const y of n)try{const E=await y._get(d);if(E){let b;if(typeof E=="string"){const w=await kh(e,{idToken:E}).catch(()=>{});if(!w)break;b=await Kn._fromGetAccountInfoResponse(e,w,E)}else b=Kn._fromJSON(e,E);y!==c&&(p=b),c=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new uo(c,e,s):(c=g[0],p&&await c._set(d,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new uo(c,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(j1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(C1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(M1(e))return"Blackberry";if(k1(e))return"Webos";if(I1(e))return"Safari";if((e.includes("chrome/")||D1(e))&&!e.includes("edge/"))return"Chrome";if(O1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function C1(i=en()){return/firefox\//i.test(i)}function I1(i=en()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function D1(i=en()){return/crios\//i.test(i)}function j1(i=en()){return/iemobile/i.test(i)}function O1(i=en()){return/android/i.test(i)}function M1(i=en()){return/blackberry/i.test(i)}function k1(i=en()){return/webos/i.test(i)}function Hp(i=en()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function Wx(i=en()){return Hp(i)&&!!window.navigator?.standalone}function Zx(){return u2()&&document.documentMode===10}function V1(i=en()){return Hp(i)||O1(i)||k1(i)||M1(i)||/windows phone/i.test(i)||j1(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(i,e=[]){let n;switch(i){case"Browser":n=x0(en());break;case"Worker":n=`${x0(en())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Co}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=c=>new Promise((d,p)=>{try{const g=e(c);d(g)}catch(g){p(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eR(i,e={}){return us(i,"GET","/v2/passwordPolicy",cs(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR=6;class nR{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??tR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new R0(this),this.idTokenSubscription=new R0(this),this.beforeStateQueue=new Jx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=b1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ir(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await uo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await kh(this,{idToken:e}),s=await Kn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Vn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Vh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vn(this.app))return Promise.reject(ar(this));const n=e?Lt(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject(ar(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vn(this.app)?Promise.reject(ar(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ir(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await eR(this),n=new nR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ac("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Xx(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ir(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await uo.create(this,[ir(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{d=!0,g()}}else{const g=e.addObserver(n);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=P1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&jx(`Error while retrieving App Check token: ${e.error}`),e?.token}}function oa(i){return Lt(i)}class R0{constructor(e){this.auth=e,this.observer=null,this.addObserver=v2(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rR(i){rd=i}function L1(i){return rd.loadJS(i)}function sR(){return rd.recaptchaEnterpriseScript}function aR(){return rd.gapiScript}function oR(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class lR{constructor(){this.enterprise=new cR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class cR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const uR="recaptcha-enterprise",U1="NO_RECAPTCHA";class hR{constructor(e){this.type=uR,this.auth=oa(e)}async verify(e="verify",n=!1){async function s(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{qx(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new Bx(g);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(g=>{p(g)})})}function o(c,d,p){const g=window.grecaptcha;b0(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(y=>{d(y)}).catch(()=>{d(U1)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new lR().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{s(this.auth).then(p=>{if(!n&&b0(window.grecaptcha))o(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=sR();g.length!==0&&(g+=p),L1(g).then(()=>{o(p,c,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function N0(i,e,n,s=!1,o=!1){const c=new hR(i);let d;if(o)d=U1;else try{d=await c.verify(n)}catch{d=await c.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function lp(i,e,n,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await N0(i,e,n,n==="getOobCode");return s(i,c)}else return s(i,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await N0(i,e,n,n==="getOobCode");return s(i,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(i,e){const n=zp(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(ea(c,e??{}))return o;Wn(o,"already-initialized")}return n.initialize({options:e})}function fR(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ir);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function mR(i,e,n){const s=oa(i);_e(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=z1(e),{host:d,port:p}=pR(e),g=p===null?"":`:${p}`,y={url:`${c}//${d}${g}/`},E=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){_e(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),_e(ea(y,s.config.emulator)&&ea(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,No(d)?(f1(`${c}//${d}${g}`),m1("Auth",!0)):gR()}function z1(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function pR(i){const e=z1(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:C0(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:C0(d)}}}function C0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function gR(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return nr("not implemented")}_getIdTokenResponse(e){return nr("not implemented")}_linkToIdToken(e,n){return nr("not implemented")}_getReauthenticationResolver(e){return nr("not implemented")}}async function yR(i,e){return us(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vR(i,e){return Nc(i,"POST","/v1/accounts:signInWithPassword",cs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _R(i,e){return Nc(i,"POST","/v1/accounts:signInWithEmailLink",cs(i,e))}async function ER(i,e){return Nc(i,"POST","/v1/accounts:signInWithEmailLink",cs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc extends Gp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new uc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new uc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lp(e,n,"signInWithPassword",vR);case"emailLink":return _R(e,{email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lp(e,s,"signUpPassword",yR);case"emailLink":return ER(e,{idToken:n,email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ho(i,e){return Nc(i,"POST","/v1/accounts:signInWithIdp",cs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR="http://localhost";class na extends Gp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new na(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Wn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=n;if(!s||!o)return null;const d=new na(s,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return ho(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,ho(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ho(e,n)}buildRequest(){const e={requestUri:TR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function SR(i){const e=$l(Kl(i)).link,n=e?$l(Kl(e)).deep_link_id:null,s=$l(Kl(i)).deep_link_id;return(s?$l(Kl(s)).link:null)||s||n||e||i}class Qp{constructor(e){const n=$l(Kl(e)),s=n.apiKey??null,o=n.oobCode??null,c=bR(n.mode??null);_e(s&&o&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=SR(e);try{return new Qp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(){this.providerId=Io.PROVIDER_ID}static credential(e,n){return uc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Qp.parseLink(n);return _e(s,"argument-error"),uc._fromEmailAndCode(e,s.code,s.tenantId)}}Io.PROVIDER_ID="password";Io.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Io.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc extends B1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends Cc{constructor(){super("facebook.com")}static credential(e){return na._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qr.credential(e.oauthAccessToken)}catch{return null}}}Qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends Cc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return na._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return $r.credential(n,s)}catch{return null}}}$r.GOOGLE_SIGN_IN_METHOD="google.com";$r.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends Cc{constructor(){super("github.com")}static credential(e){return na._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kr.credential(e.oauthAccessToken)}catch{return null}}}Kr.GITHUB_SIGN_IN_METHOD="github.com";Kr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends Cc{constructor(){super("twitter.com")}static credential(e,n){return na._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Yr.credential(n,s)}catch{return null}}}Yr.TWITTER_SIGN_IN_METHOD="twitter.com";Yr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wR(i,e){return Nc(i,"POST","/v1/accounts:signUp",cs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const c=await Kn._fromIdTokenResponse(e,s,o),d=I0(s);return new ia({user:c,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=I0(s);return new ia({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function I0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph extends pr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ph.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Ph(e,n,s,o)}}function q1(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Ph._fromErrorAndOperation(i,c,e,s):c})}async function AR(i,e,n=!1){const s=await cc(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return ia._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xR(i,e,n=!1){const{auth:s}=i;if(Vn(s.app))return Promise.reject(ar(s));const o="reauthenticate";try{const c=await cc(i,q1(s,o,e,i),n);_e(c.idToken,s,"internal-error");const d=Fp(c.idToken);_e(d,s,"internal-error");const{sub:p}=d;return _e(i.uid===p,s,"user-mismatch"),ia._forOperation(i,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Wn(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F1(i,e,n=!1){if(Vn(i.app))return Promise.reject(ar(i));const s="signIn",o=await q1(i,s,e),c=await ia._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(c.user),c}async function RR(i,e){return F1(oa(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H1(i){const e=oa(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function NR(i,e,n){if(Vn(i.app))return Promise.reject(ar(i));const s=oa(i),d=await lp(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wR).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&H1(i),g}),p=await ia._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(p.user),p}function CR(i,e,n){return Vn(i.app)?Promise.reject(ar(i)):RR(Lt(i),Io.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&H1(i),s})}function IR(i,e,n,s){return Lt(i).onIdTokenChanged(e,n,s)}function DR(i,e,n){return Lt(i).beforeAuthStateChanged(e,n)}function jR(i,e,n,s){return Lt(i).onAuthStateChanged(e,n,s)}function OR(i){return Lt(i).signOut()}const Lh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Lh,"1"),this.storage.removeItem(Lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=1e3,kR=10;class Q1 extends G1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=V1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,p,g)=>{this.notifyListeners(d,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);Zx()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,kR):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},MR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Q1.type="LOCAL";const VR=Q1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1 extends G1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}$1.type="SESSION";const K1=$1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new sd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:c}=n.data,d=this.handlersMap[o];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(d).map(async y=>y(n.origin,c)),g=await PR(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,g)=>{const y=$p("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);d={messageChannel:o,onMessage(b){const w=b;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(w.data.response);break;default:clearTimeout(E),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(){return window}function UR(i){Si().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(){return typeof Si().WorkerGlobalScope<"u"&&typeof Si().importScripts=="function"}async function zR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BR(){return navigator?.serviceWorker?.controller||null}function qR(){return Y1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="firebaseLocalStorageDb",FR=1,Uh="firebaseLocalStorage",W1="fbase_key";class Ic{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ad(i,e){return i.transaction([Uh],e?"readwrite":"readonly").objectStore(Uh)}function HR(){const i=indexedDB.deleteDatabase(X1);return new Ic(i).toPromise()}function cp(){const i=indexedDB.open(X1,FR);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Uh,{keyPath:W1})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Uh)?e(s):(s.close(),await HR(),e(await cp()))})})}async function D0(i,e,n){const s=ad(i,!0).put({[W1]:e,value:n});return new Ic(s).toPromise()}async function GR(i,e){const n=ad(i,!1).get(e),s=await new Ic(n).toPromise();return s===void 0?null:s.value}function j0(i,e){const n=ad(i,!0).delete(e);return new Ic(n).toPromise()}const QR=800,$R=3;class Z1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>$R)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Y1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sd._getInstance(qR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await zR(),!this.activeServiceWorker)return;this.sender=new LR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||BR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cp();return await D0(e,Lh,"1"),await j0(e,Lh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>D0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>GR(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>j0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=ad(o,!1).getAll();return new Ic(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Z1.type="LOCAL";const KR=Z1;new Rc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(i,e){return e?ir(e):(_e(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp extends Gp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ho(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ho(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function XR(i){return F1(i.auth,new Kp(i),i.bypassAuthState)}function WR(i){const{auth:e,user:n}=i;return _e(n,e,"internal-error"),xR(n,new Kp(i),i.bypassAuthState)}async function ZR(i){const{auth:e,user:n}=i;return _e(n,e,"internal-error"),AR(n,new Kp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,n,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return XR;case"linkViaPopup":case"linkViaRedirect":return ZR;case"reauthViaPopup":case"reauthViaRedirect":return WR;default:Wn(this.auth,"internal-error")}}resolve(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=new Rc(2e3,1e4);class lo extends J1{constructor(e,n,s,o,c){super(e,n,o,c),this.provider=s,this.authWindow=null,this.pollId=null,lo.currentPopupAction&&lo.currentPopupAction.cancel(),lo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){hr(this.filter.length===1,"Popup operations only handle one event");const e=$p();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,lo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,JR.get())};e()}}lo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN="pendingRedirect",Sh=new Map;class tN extends J1{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Sh.get(this.auth._key());if(!e){try{const s=await nN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Sh.set(this.auth._key(),e)}return this.bypassAuthState||Sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nN(i,e){const n=sN(e),s=rN(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function iN(i,e){Sh.set(i._key(),e)}function rN(i){return ir(i._redirectPersistence)}function sN(i){return bh(eN,i.config.apiKey,i.name)}async function aN(i,e,n=!1){if(Vn(i.app))return Promise.reject(ar(i));const s=oa(i),o=YR(s,e),d=await new tN(s,o,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=600*1e3;class lN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!eT(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(bi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=oN&&this.cachedEventUids.clear(),this.cachedEventUids.has(O0(e))}saveEventToCache(e){this.cachedEventUids.add(O0(e)),this.lastProcessedEventTime=Date.now()}}function O0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function eT({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function cN(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eT(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uN(i,e={}){return us(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dN=/^https?/;async function fN(i){if(i.config.emulator)return;const{authorizedDomains:e}=await uN(i);for(const n of e)try{if(mN(n))return}catch{}Wn(i,"unauthorized-domain")}function mN(i){const e=ap(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const d=new URL(i);return d.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!dN.test(n))return!1;if(hN.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=new Rc(3e4,6e4);function M0(){const i=Si().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function gN(i){return new Promise((e,n)=>{function s(){M0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{M0(),n(bi(i,"network-request-failed"))},timeout:pN.get()})}if(Si().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Si().gapi?.load)s();else{const o=oR("iframefcb");return Si()[o]=()=>{gapi.load?s():n(bi(i,"network-request-failed"))},L1(`${aR()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw wh=null,e})}let wh=null;function yN(i){return wh=wh||gN(i),wh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=new Rc(5e3,15e3),_N="__/auth/iframe",EN="emulator/auth/iframe",TN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SN(i){const e=i.config;_e(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?qp(e,EN):`https://${i.config.authDomain}/${_N}`,s={apiKey:e.apiKey,appName:i.name,v:Co},o=bN.get(i.config.apiHost);o&&(s.eid=o);const c=i._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${xc(s).slice(1)}`}async function wN(i){const e=await yN(i),n=Si().gapi;return _e(n,i,"internal-error"),e.open({where:document.body,url:SN(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TN,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const d=bi(i,"network-request-failed"),p=Si().setTimeout(()=>{c(d)},vN.get());function g(){Si().clearTimeout(p),o(s)}s.ping(g).then(g,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xN=500,RN=600,NN="_blank",CN="http://localhost";class k0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function IN(i,e,n,s=xN,o=RN){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const g={...AN,width:s.toString(),height:o.toString(),top:c,left:d},y=en().toLowerCase();n&&(p=D1(y)?NN:n),C1(y)&&(e=e||CN,g.scrollbars="yes");const E=Object.entries(g).reduce((w,[D,q])=>`${w}${D}=${q},`,"");if(Wx(y)&&p!=="_self")return DN(e||"",p),new k0(null);const b=window.open(e||"",p,E);_e(b,i,"popup-blocked");try{b.focus()}catch{}return new k0(b)}function DN(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN="__/auth/handler",ON="emulator/auth/handler",MN=encodeURIComponent("fac");async function V0(i,e,n,s,o,c){_e(i.config.authDomain,i,"auth-domain-config-required"),_e(i.config.apiKey,i,"invalid-api-key");const d={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Co,eventId:o};if(e instanceof B1){e.setDefaultLanguage(i.languageCode),d.providerId=e.providerId||"",y2(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))d[E]=b}if(e instanceof Cc){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(d.scopes=E.join(","))}i.tenantId&&(d.tid=i.tenantId);const p=d;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const g=await i._getAppCheckToken(),y=g?`#${MN}=${encodeURIComponent(g)}`:"";return`${kN(i)}?${xc(p).slice(1)}${y}`}function kN({config:i}){return i.emulator?qp(i,ON):`https://${i.authDomain}/${jN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="webStorageSupport";class VN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=K1,this._completeRedirectFn=aN,this._overrideRedirectResult=iN}async _openPopup(e,n,s,o){hr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await V0(e,n,s,ap(),o);return IN(e,c,$p())}async _openRedirect(e,n,s,o){await this._originValidation(e);const c=await V0(e,n,s,ap(),o);return UR(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(hr(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await wN(e),s=new lN(e);return n.register("authEvent",o=>(_e(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Hm,{type:Hm},o=>{const c=o?.[0]?.[Hm];c!==void 0&&n(!!c),Wn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=fN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return V1()||I1()||Hp()}}const PN=VN;var P0="@firebase/auth",L0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zN(i){vo(new ta("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=s.options;_e(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:d,authDomain:p,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:P1(i)},y=new iR(s,o,c,g);return fR(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),vo(new ta("auth-internal",e=>{const n=oa(e.getProvider("auth").getImmediate());return(s=>new LN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),es(P0,L0,UN(i)),es(P0,L0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=300,qN=d1("authIdTokenMaxAge")||BN;let U0=null;const FN=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>qN)return;const o=n?.token;U0!==o&&(U0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function HN(i=v1()){const e=zp(i,"auth");if(e.isInitialized())return e.getImmediate();const n=dR(i,{popupRedirectResolver:PN,persistence:[KR,VR,K1]}),s=d1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=FN(c.toString());DR(n,d,()=>d(n.currentUser)),IR(n,p=>d(p))}}const o=u1("auth");return o&&mR(n,`http://${o}`),n}function GN(){return document.getElementsByTagName("head")?.[0]??document}rR({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const c=bi("internal-error");c.customData=o,n(c)},s.type="text/javascript",s.charset="UTF-8",GN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zN("Browser");var z0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ts,tT;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,x){function R(){}R.prototype=x.prototype,P.D=x.prototype,P.prototype=new R,P.prototype.constructor=P,P.C=function(I,M,z){for(var C=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)C[wt-2]=arguments[wt];return x.prototype[M].apply(I,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,x,R){R||(R=0);var I=Array(16);if(typeof x=="string")for(var M=0;16>M;++M)I[M]=x.charCodeAt(R++)|x.charCodeAt(R++)<<8|x.charCodeAt(R++)<<16|x.charCodeAt(R++)<<24;else for(M=0;16>M;++M)I[M]=x[R++]|x[R++]<<8|x[R++]<<16|x[R++]<<24;x=P.g[0],R=P.g[1],M=P.g[2];var z=P.g[3],C=x+(z^R&(M^z))+I[0]+3614090360&4294967295;x=R+(C<<7&4294967295|C>>>25),C=z+(M^x&(R^M))+I[1]+3905402710&4294967295,z=x+(C<<12&4294967295|C>>>20),C=M+(R^z&(x^R))+I[2]+606105819&4294967295,M=z+(C<<17&4294967295|C>>>15),C=R+(x^M&(z^x))+I[3]+3250441966&4294967295,R=M+(C<<22&4294967295|C>>>10),C=x+(z^R&(M^z))+I[4]+4118548399&4294967295,x=R+(C<<7&4294967295|C>>>25),C=z+(M^x&(R^M))+I[5]+1200080426&4294967295,z=x+(C<<12&4294967295|C>>>20),C=M+(R^z&(x^R))+I[6]+2821735955&4294967295,M=z+(C<<17&4294967295|C>>>15),C=R+(x^M&(z^x))+I[7]+4249261313&4294967295,R=M+(C<<22&4294967295|C>>>10),C=x+(z^R&(M^z))+I[8]+1770035416&4294967295,x=R+(C<<7&4294967295|C>>>25),C=z+(M^x&(R^M))+I[9]+2336552879&4294967295,z=x+(C<<12&4294967295|C>>>20),C=M+(R^z&(x^R))+I[10]+4294925233&4294967295,M=z+(C<<17&4294967295|C>>>15),C=R+(x^M&(z^x))+I[11]+2304563134&4294967295,R=M+(C<<22&4294967295|C>>>10),C=x+(z^R&(M^z))+I[12]+1804603682&4294967295,x=R+(C<<7&4294967295|C>>>25),C=z+(M^x&(R^M))+I[13]+4254626195&4294967295,z=x+(C<<12&4294967295|C>>>20),C=M+(R^z&(x^R))+I[14]+2792965006&4294967295,M=z+(C<<17&4294967295|C>>>15),C=R+(x^M&(z^x))+I[15]+1236535329&4294967295,R=M+(C<<22&4294967295|C>>>10),C=x+(M^z&(R^M))+I[1]+4129170786&4294967295,x=R+(C<<5&4294967295|C>>>27),C=z+(R^M&(x^R))+I[6]+3225465664&4294967295,z=x+(C<<9&4294967295|C>>>23),C=M+(x^R&(z^x))+I[11]+643717713&4294967295,M=z+(C<<14&4294967295|C>>>18),C=R+(z^x&(M^z))+I[0]+3921069994&4294967295,R=M+(C<<20&4294967295|C>>>12),C=x+(M^z&(R^M))+I[5]+3593408605&4294967295,x=R+(C<<5&4294967295|C>>>27),C=z+(R^M&(x^R))+I[10]+38016083&4294967295,z=x+(C<<9&4294967295|C>>>23),C=M+(x^R&(z^x))+I[15]+3634488961&4294967295,M=z+(C<<14&4294967295|C>>>18),C=R+(z^x&(M^z))+I[4]+3889429448&4294967295,R=M+(C<<20&4294967295|C>>>12),C=x+(M^z&(R^M))+I[9]+568446438&4294967295,x=R+(C<<5&4294967295|C>>>27),C=z+(R^M&(x^R))+I[14]+3275163606&4294967295,z=x+(C<<9&4294967295|C>>>23),C=M+(x^R&(z^x))+I[3]+4107603335&4294967295,M=z+(C<<14&4294967295|C>>>18),C=R+(z^x&(M^z))+I[8]+1163531501&4294967295,R=M+(C<<20&4294967295|C>>>12),C=x+(M^z&(R^M))+I[13]+2850285829&4294967295,x=R+(C<<5&4294967295|C>>>27),C=z+(R^M&(x^R))+I[2]+4243563512&4294967295,z=x+(C<<9&4294967295|C>>>23),C=M+(x^R&(z^x))+I[7]+1735328473&4294967295,M=z+(C<<14&4294967295|C>>>18),C=R+(z^x&(M^z))+I[12]+2368359562&4294967295,R=M+(C<<20&4294967295|C>>>12),C=x+(R^M^z)+I[5]+4294588738&4294967295,x=R+(C<<4&4294967295|C>>>28),C=z+(x^R^M)+I[8]+2272392833&4294967295,z=x+(C<<11&4294967295|C>>>21),C=M+(z^x^R)+I[11]+1839030562&4294967295,M=z+(C<<16&4294967295|C>>>16),C=R+(M^z^x)+I[14]+4259657740&4294967295,R=M+(C<<23&4294967295|C>>>9),C=x+(R^M^z)+I[1]+2763975236&4294967295,x=R+(C<<4&4294967295|C>>>28),C=z+(x^R^M)+I[4]+1272893353&4294967295,z=x+(C<<11&4294967295|C>>>21),C=M+(z^x^R)+I[7]+4139469664&4294967295,M=z+(C<<16&4294967295|C>>>16),C=R+(M^z^x)+I[10]+3200236656&4294967295,R=M+(C<<23&4294967295|C>>>9),C=x+(R^M^z)+I[13]+681279174&4294967295,x=R+(C<<4&4294967295|C>>>28),C=z+(x^R^M)+I[0]+3936430074&4294967295,z=x+(C<<11&4294967295|C>>>21),C=M+(z^x^R)+I[3]+3572445317&4294967295,M=z+(C<<16&4294967295|C>>>16),C=R+(M^z^x)+I[6]+76029189&4294967295,R=M+(C<<23&4294967295|C>>>9),C=x+(R^M^z)+I[9]+3654602809&4294967295,x=R+(C<<4&4294967295|C>>>28),C=z+(x^R^M)+I[12]+3873151461&4294967295,z=x+(C<<11&4294967295|C>>>21),C=M+(z^x^R)+I[15]+530742520&4294967295,M=z+(C<<16&4294967295|C>>>16),C=R+(M^z^x)+I[2]+3299628645&4294967295,R=M+(C<<23&4294967295|C>>>9),C=x+(M^(R|~z))+I[0]+4096336452&4294967295,x=R+(C<<6&4294967295|C>>>26),C=z+(R^(x|~M))+I[7]+1126891415&4294967295,z=x+(C<<10&4294967295|C>>>22),C=M+(x^(z|~R))+I[14]+2878612391&4294967295,M=z+(C<<15&4294967295|C>>>17),C=R+(z^(M|~x))+I[5]+4237533241&4294967295,R=M+(C<<21&4294967295|C>>>11),C=x+(M^(R|~z))+I[12]+1700485571&4294967295,x=R+(C<<6&4294967295|C>>>26),C=z+(R^(x|~M))+I[3]+2399980690&4294967295,z=x+(C<<10&4294967295|C>>>22),C=M+(x^(z|~R))+I[10]+4293915773&4294967295,M=z+(C<<15&4294967295|C>>>17),C=R+(z^(M|~x))+I[1]+2240044497&4294967295,R=M+(C<<21&4294967295|C>>>11),C=x+(M^(R|~z))+I[8]+1873313359&4294967295,x=R+(C<<6&4294967295|C>>>26),C=z+(R^(x|~M))+I[15]+4264355552&4294967295,z=x+(C<<10&4294967295|C>>>22),C=M+(x^(z|~R))+I[6]+2734768916&4294967295,M=z+(C<<15&4294967295|C>>>17),C=R+(z^(M|~x))+I[13]+1309151649&4294967295,R=M+(C<<21&4294967295|C>>>11),C=x+(M^(R|~z))+I[4]+4149444226&4294967295,x=R+(C<<6&4294967295|C>>>26),C=z+(R^(x|~M))+I[11]+3174756917&4294967295,z=x+(C<<10&4294967295|C>>>22),C=M+(x^(z|~R))+I[2]+718787259&4294967295,M=z+(C<<15&4294967295|C>>>17),C=R+(z^(M|~x))+I[9]+3951481745&4294967295,P.g[0]=P.g[0]+x&4294967295,P.g[1]=P.g[1]+(M+(C<<21&4294967295|C>>>11))&4294967295,P.g[2]=P.g[2]+M&4294967295,P.g[3]=P.g[3]+z&4294967295}s.prototype.u=function(P,x){x===void 0&&(x=P.length);for(var R=x-this.blockSize,I=this.B,M=this.h,z=0;z<x;){if(M==0)for(;z<=R;)o(this,P,z),z+=this.blockSize;if(typeof P=="string"){for(;z<x;)if(I[M++]=P.charCodeAt(z++),M==this.blockSize){o(this,I),M=0;break}}else for(;z<x;)if(I[M++]=P[z++],M==this.blockSize){o(this,I),M=0;break}}this.h=M,this.o+=x},s.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var x=1;x<P.length-8;++x)P[x]=0;var R=8*this.o;for(x=P.length-8;x<P.length;++x)P[x]=R&255,R/=256;for(this.u(P),P=Array(16),x=R=0;4>x;++x)for(var I=0;32>I;I+=8)P[R++]=this.g[x]>>>I&255;return P};function c(P,x){var R=p;return Object.prototype.hasOwnProperty.call(R,P)?R[P]:R[P]=x(P)}function d(P,x){this.h=x;for(var R=[],I=!0,M=P.length-1;0<=M;M--){var z=P[M]|0;I&&z==x||(R[M]=z,I=!1)}this.g=R}var p={};function g(P){return-128<=P&&128>P?c(P,function(x){return new d([x|0],0>x?-1:0)}):new d([P|0],0>P?-1:0)}function y(P){if(isNaN(P)||!isFinite(P))return b;if(0>P)return V(y(-P));for(var x=[],R=1,I=0;P>=R;I++)x[I]=P/R|0,R*=4294967296;return new d(x,0)}function E(P,x){if(P.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(P.charAt(0)=="-")return V(E(P.substring(1),x));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(x,8)),I=b,M=0;M<P.length;M+=8){var z=Math.min(8,P.length-M),C=parseInt(P.substring(M,M+z),x);8>z?(z=y(Math.pow(x,z)),I=I.j(z).add(y(C))):(I=I.j(R),I=I.add(y(C)))}return I}var b=g(0),w=g(1),D=g(16777216);i=d.prototype,i.m=function(){if(Q(this))return-V(this).m();for(var P=0,x=1,R=0;R<this.g.length;R++){var I=this.i(R);P+=(0<=I?I:4294967296+I)*x,x*=4294967296}return P},i.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(q(this))return"0";if(Q(this))return"-"+V(this).toString(P);for(var x=y(Math.pow(P,6)),R=this,I="";;){var M=ae(R,x).g;R=F(R,M.j(x));var z=((0<R.g.length?R.g[0]:R.h)>>>0).toString(P);if(R=M,q(R))return z+I;for(;6>z.length;)z="0"+z;I=z+I}},i.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function q(P){if(P.h!=0)return!1;for(var x=0;x<P.g.length;x++)if(P.g[x]!=0)return!1;return!0}function Q(P){return P.h==-1}i.l=function(P){return P=F(this,P),Q(P)?-1:q(P)?0:1};function V(P){for(var x=P.g.length,R=[],I=0;I<x;I++)R[I]=~P.g[I];return new d(R,~P.h).add(w)}i.abs=function(){return Q(this)?V(this):this},i.add=function(P){for(var x=Math.max(this.g.length,P.g.length),R=[],I=0,M=0;M<=x;M++){var z=I+(this.i(M)&65535)+(P.i(M)&65535),C=(z>>>16)+(this.i(M)>>>16)+(P.i(M)>>>16);I=C>>>16,z&=65535,C&=65535,R[M]=C<<16|z}return new d(R,R[R.length-1]&-2147483648?-1:0)};function F(P,x){return P.add(V(x))}i.j=function(P){if(q(this)||q(P))return b;if(Q(this))return Q(P)?V(this).j(V(P)):V(V(this).j(P));if(Q(P))return V(this.j(V(P)));if(0>this.l(D)&&0>P.l(D))return y(this.m()*P.m());for(var x=this.g.length+P.g.length,R=[],I=0;I<2*x;I++)R[I]=0;for(I=0;I<this.g.length;I++)for(var M=0;M<P.g.length;M++){var z=this.i(I)>>>16,C=this.i(I)&65535,wt=P.i(M)>>>16,it=P.i(M)&65535;R[2*I+2*M]+=C*it,j(R,2*I+2*M),R[2*I+2*M+1]+=z*it,j(R,2*I+2*M+1),R[2*I+2*M+1]+=C*wt,j(R,2*I+2*M+1),R[2*I+2*M+2]+=z*wt,j(R,2*I+2*M+2)}for(I=0;I<x;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=x;I<2*x;I++)R[I]=0;return new d(R,0)};function j(P,x){for(;(P[x]&65535)!=P[x];)P[x+1]+=P[x]>>>16,P[x]&=65535,x++}function L(P,x){this.g=P,this.h=x}function ae(P,x){if(q(x))throw Error("division by zero");if(q(P))return new L(b,b);if(Q(P))return x=ae(V(P),x),new L(V(x.g),V(x.h));if(Q(x))return x=ae(P,V(x)),new L(V(x.g),x.h);if(30<P.g.length){if(Q(P)||Q(x))throw Error("slowDivide_ only works with positive integers.");for(var R=w,I=x;0>=I.l(P);)R=ce(R),I=ce(I);var M=Ae(R,1),z=Ae(I,1);for(I=Ae(I,2),R=Ae(R,2);!q(I);){var C=z.add(I);0>=C.l(P)&&(M=M.add(R),z=C),I=Ae(I,1),R=Ae(R,1)}return x=F(P,M.j(x)),new L(M,x)}for(M=b;0<=P.l(x);){for(R=Math.max(1,Math.floor(P.m()/x.m())),I=Math.ceil(Math.log(R)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),z=y(R),C=z.j(x);Q(C)||0<C.l(P);)R-=I,z=y(R),C=z.j(x);q(z)&&(z=w),M=M.add(z),P=F(P,C)}return new L(M,P)}i.A=function(P){return ae(this,P).h},i.and=function(P){for(var x=Math.max(this.g.length,P.g.length),R=[],I=0;I<x;I++)R[I]=this.i(I)&P.i(I);return new d(R,this.h&P.h)},i.or=function(P){for(var x=Math.max(this.g.length,P.g.length),R=[],I=0;I<x;I++)R[I]=this.i(I)|P.i(I);return new d(R,this.h|P.h)},i.xor=function(P){for(var x=Math.max(this.g.length,P.g.length),R=[],I=0;I<x;I++)R[I]=this.i(I)^P.i(I);return new d(R,this.h^P.h)};function ce(P){for(var x=P.g.length+1,R=[],I=0;I<x;I++)R[I]=P.i(I)<<1|P.i(I-1)>>>31;return new d(R,P.h)}function Ae(P,x){var R=x>>5;x%=32;for(var I=P.g.length-R,M=[],z=0;z<I;z++)M[z]=0<x?P.i(z+R)>>>x|P.i(z+R+1)<<32-x:P.i(z+R);return new d(M,P.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,tT=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,ts=d}).apply(typeof z0<"u"?z0:typeof self<"u"?self:typeof window<"u"?window:{});var uh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nT,Yl,iT,Ah,up,rT,sT,aT;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,v,_){return u==Array.prototype||u==Object.prototype||(u[v]=_.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof uh=="object"&&uh];for(var v=0;v<u.length;++v){var _=u[v];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(u,v){if(v)e:{var _=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var H=u[A];if(!(H in _))break e;_=_[H]}u=u[u.length-1],A=_[u],v=v(A),v!=A&&v!=null&&e(_,u,{configurable:!0,writable:!0,value:v})}}function c(u,v){u instanceof String&&(u+="");var _=0,A=!1,H={next:function(){if(!A&&_<u.length){var X=_++;return{value:v(X,u[X]),done:!1}}return A=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(u){return u||function(){return c(this,function(v,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function g(u){var v=typeof u;return v=v!="object"?v:u?Array.isArray(u)?"array":v:"null",v=="array"||v=="object"&&typeof u.length=="number"}function y(u){var v=typeof u;return v=="object"&&u!=null||v=="function"}function E(u,v,_){return u.call.apply(u.bind,arguments)}function b(u,v,_){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,A),u.apply(v,H)}}return function(){return u.apply(v,arguments)}}function w(u,v,_){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,w.apply(null,arguments)}function D(u,v){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function q(u,v){function _(){}_.prototype=v.prototype,u.aa=v.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(A,H,X){for(var se=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)se[Ve-2]=arguments[Ve];return v.prototype[H].apply(A,se)}}function Q(u){const v=u.length;if(0<v){const _=Array(v);for(let A=0;A<v;A++)_[A]=u[A];return _}return[]}function V(u,v){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(g(A)){const H=u.length||0,X=A.length||0;u.length=H+X;for(let se=0;se<X;se++)u[H+se]=A[se]}else u.push(A)}}class F{constructor(v,_){this.i=v,this.j=_,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function j(u){return/^[\s\xa0]*$/.test(u)}function L(){var u=p.navigator;return u&&(u=u.userAgent)?u:""}function ae(u){return ae[" "](u),u}ae[" "]=function(){};var ce=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function Ae(u,v,_){for(const A in u)v.call(_,u[A],A,u)}function P(u,v){for(const _ in u)v.call(void 0,u[_],_,u)}function x(u){const v={};for(const _ in u)v[_]=u[_];return v}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(u,v){let _,A;for(let H=1;H<arguments.length;H++){A=arguments[H];for(_ in A)u[_]=A[_];for(let X=0;X<R.length;X++)_=R[X],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function M(u){var v=1;u=u.split(":");const _=[];for(;0<v&&u.length;)_.push(u.shift()),v--;return u.length&&_.push(u.join(":")),_}function z(u){p.setTimeout(()=>{throw u},0)}function C(){var u=qe;let v=null;return u.g&&(v=u.g,u.g=u.g.next,u.g||(u.h=null),v.next=null),v}class wt{constructor(){this.h=this.g=null}add(v,_){const A=it.get();A.set(v,_),this.h?this.h.next=A:this.g=A,this.h=A}}var it=new F(()=>new W,u=>u.reset());class W{constructor(){this.next=this.g=this.h=null}set(v,_){this.h=v,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,me=!1,qe=new wt,O=()=>{const u=p.Promise.resolve(void 0);oe=()=>{u.then(ie)}};var ie=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(_){z(_)}var v=it;v.j(u),100>v.h&&(v.h++,u.next=v.g,v.g=u)}me=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(u,v){this.type=u,this.g=this.target=v,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var ge=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,v=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};p.addEventListener("test",_,v),p.removeEventListener("test",_,v)}catch{}return u})();function Ce(u,v){if(re.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=v,v=u.relatedTarget){if(ce){e:{try{ae(v.nodeName);var H=!0;break e}catch{}H=!1}H||(v=null)}}else _=="mouseover"?v=u.fromElement:_=="mouseout"&&(v=u.toElement);this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:be[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ce.aa.h.call(this)}}q(Ce,re);var be={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Dt="closure_listenable_"+(1e6*Math.random()|0),et=0;function ti(u,v,_,A,H){this.listener=u,this.proxy=null,this.src=v,this.type=_,this.capture=!!A,this.ha=H,this.key=++et,this.da=this.fa=!1}function gr(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ii(u){this.src=u,this.g={},this.h=0}Ii.prototype.add=function(u,v,_,A,H){var X=u.toString();u=this.g[X],u||(u=this.g[X]=[],this.h++);var se=ms(u,v,A,H);return-1<se?(v=u[se],_||(v.fa=!1)):(v=new ti(v,this.src,X,!!A,H),v.fa=_,u.push(v)),v};function fs(u,v){var _=v.type;if(_ in u.g){var A=u.g[_],H=Array.prototype.indexOf.call(A,v,void 0),X;(X=0<=H)&&Array.prototype.splice.call(A,H,1),X&&(gr(v),u.g[_].length==0&&(delete u.g[_],u.h--))}}function ms(u,v,_,A){for(var H=0;H<u.length;++H){var X=u[H];if(!X.da&&X.listener==v&&X.capture==!!_&&X.ha==A)return H}return-1}var ps="closure_lm_"+(1e6*Math.random()|0),Vo={};function Lc(u,v,_,A,H){if(Array.isArray(v)){for(var X=0;X<v.length;X++)Lc(u,v[X],_,A,H);return null}return _=Uc(_),u&&u[Dt]?u.K(v,_,y(A)?!!A.capture:!1,H):Sn(u,v,_,!1,A,H)}function Sn(u,v,_,A,H,X){if(!v)throw Error("Invalid event type");var se=y(H)?!!H.capture:!!H,Ve=fa(u);if(Ve||(u[ps]=Ve=new Ii(u)),_=Ve.add(v,_,A,se,X),_.proxy)return _;if(A=Cd(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)ge||(H=se),H===void 0&&(H=!1),u.addEventListener(v.toString(),A,H);else if(u.attachEvent)u.attachEvent(gs(v.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Cd(){function u(_){return v.call(u.src,u.listener,_)}const v=Id;return u}function Po(u,v,_,A,H){if(Array.isArray(v))for(var X=0;X<v.length;X++)Po(u,v[X],_,A,H);else A=y(A)?!!A.capture:!!A,_=Uc(_),u&&u[Dt]?(u=u.i,v=String(v).toString(),v in u.g&&(X=u.g[v],_=ms(X,_,A,H),-1<_&&(gr(X[_]),Array.prototype.splice.call(X,_,1),X.length==0&&(delete u.g[v],u.h--)))):u&&(u=fa(u))&&(v=u.g[v.toString()],u=-1,v&&(u=ms(v,_,A,H)),(_=-1<u?v[u]:null)&&da(_))}function da(u){if(typeof u!="number"&&u&&!u.da){var v=u.src;if(v&&v[Dt])fs(v.i,u);else{var _=u.type,A=u.proxy;v.removeEventListener?v.removeEventListener(_,A,u.capture):v.detachEvent?v.detachEvent(gs(_),A):v.addListener&&v.removeListener&&v.removeListener(A),(_=fa(v))?(fs(_,u),_.h==0&&(_.src=null,v[ps]=null)):gr(u)}}}function gs(u){return u in Vo?Vo[u]:Vo[u]="on"+u}function Id(u,v){if(u.da)u=!0;else{v=new Ce(v,this);var _=u.listener,A=u.ha||u.src;u.fa&&da(u),u=_.call(A,v)}return u}function fa(u){return u=u[ps],u instanceof Ii?u:null}var Lo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Uc(u){return typeof u=="function"?u:(u[Lo]||(u[Lo]=function(v){return u.handleEvent(v)}),u[Lo])}function ct(){le.call(this),this.i=new Ii(this),this.M=this,this.F=null}q(ct,le),ct.prototype[Dt]=!0,ct.prototype.removeEventListener=function(u,v,_,A){Po(this,u,v,_,A)};function Qe(u,v){var _,A=u.F;if(A)for(_=[];A;A=A.F)_.push(A);if(u=u.M,A=v.type||v,typeof v=="string")v=new re(v,u);else if(v instanceof re)v.target=v.target||u;else{var H=v;v=new re(A,u),I(v,H)}if(H=!0,_)for(var X=_.length-1;0<=X;X--){var se=v.g=_[X];H=dn(se,A,!0,v)&&H}if(se=v.g=u,H=dn(se,A,!0,v)&&H,H=dn(se,A,!1,v)&&H,_)for(X=0;X<_.length;X++)se=v.g=_[X],H=dn(se,A,!1,v)&&H}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var u=this.i,v;for(v in u.g){for(var _=u.g[v],A=0;A<_.length;A++)gr(_[A]);delete u.g[v],u.h--}}this.F=null},ct.prototype.K=function(u,v,_,A){return this.i.add(String(u),v,!1,_,A)},ct.prototype.L=function(u,v,_,A){return this.i.add(String(u),v,!0,_,A)};function dn(u,v,_,A){if(v=u.i.g[String(v)],!v)return!0;v=v.concat();for(var H=!0,X=0;X<v.length;++X){var se=v[X];if(se&&!se.da&&se.capture==_){var Ve=se.listener,xt=se.ha||se.src;se.fa&&fs(u.i,se),H=Ve.call(xt,A)!==!1&&H}}return H&&!A.defaultPrevented}function $t(u,v,_){if(typeof u=="function")_&&(u=w(u,_));else if(u&&typeof u.handleEvent=="function")u=w(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:p.setTimeout(u,v||0)}function zc(u){u.g=$t(()=>{u.g=null,u.i&&(u.i=!1,zc(u))},u.l);const v=u.h;u.h=null,u.m.apply(null,v)}class Dd extends le{constructor(v,_){super(),this.m=v,this.l=_,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:zc(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ys(u){le.call(this),this.h=u,this.g={}}q(ys,le);var vs=[];function _s(u){Ae(u.g,function(v,_){this.g.hasOwnProperty(_)&&da(v)},u),u.g={}}ys.prototype.N=function(){ys.aa.N.call(this),_s(this)},ys.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zn=p.JSON.stringify,ma=p.JSON.parse,Es=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function Uo(){}Uo.prototype.h=null;function zo(u){return u.h||(u.h=u.i())}function Bo(){}var Di={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ji(){re.call(this,"d")}q(ji,re);function qo(){re.call(this,"c")}q(qo,re);var ni={},Fo=null;function yr(){return Fo=Fo||new ct}ni.La="serverreachability";function pa(u){re.call(this,ni.La,u)}q(pa,re);function vr(u){const v=yr();Qe(v,new pa(v))}ni.STAT_EVENT="statevent";function Bc(u,v){re.call(this,ni.STAT_EVENT,u),this.stat=v}q(Bc,re);function rt(u){const v=yr();Qe(v,new Bc(v,u))}ni.Ma="timingevent";function At(u,v){re.call(this,ni.Ma,u),this.size=v}q(At,re);function yt(u,v){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},v)}function wn(){this.g=!0}wn.prototype.xa=function(){this.g=!1};function Ho(u,v,_,A,H,X){u.info(function(){if(u.g)if(X)for(var se="",Ve=X.split("&"),xt=0;xt<Ve.length;xt++){var Pe=Ve[xt].split("=");if(1<Pe.length){var Ot=Pe[0];Pe=Pe[1];var Rt=Ot.split("_");se=2<=Rt.length&&Rt[1]=="type"?se+(Ot+"="+Pe+"&"):se+(Ot+"=redacted&")}}else se=null;else se=X;return"XMLHTTP REQ ("+A+") [attempt "+H+"]: "+v+`
`+_+`
`+se})}function jd(u,v,_,A,H,X,se){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+H+"]: "+v+`
`+_+`
`+X+" "+se})}function _r(u,v,_,A){u.info(function(){return"XMLHTTP TEXT ("+v+"): "+Ts(u,_)+(A?" "+A:"")})}function qc(u,v){u.info(function(){return"TIMEOUT: "+v})}wn.prototype.info=function(){};function Ts(u,v){if(!u.g)return v;if(!v)return null;try{var _=JSON.parse(v);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var A=_[u];if(!(2>A.length)){var H=A[1];if(Array.isArray(H)&&!(1>H.length)){var X=H[0];if(X!="noop"&&X!="stop"&&X!="close")for(var se=1;se<H.length;se++)H[se]=""}}}}return zn(_)}catch{return v}}var Er={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ii;function ri(){}q(ri,Uo),ri.prototype.g=function(){return new XMLHttpRequest},ri.prototype.i=function(){return{}},ii=new ri;function tn(u,v,_,A){this.j=u,this.i=v,this.l=_,this.R=A||1,this.U=new ys(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dt}function dt(){this.i=null,this.g="",this.h=!1}var Go={},ga={};function Bn(u,v,_){u.L=1,u.v=xs(fn(v)),u.m=_,u.P=!0,Mi(u,null)}function Mi(u,v){u.F=Date.now(),bs(u),u.A=fn(u.v);var _=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),Wo(_.i,"t",A),u.C=0,_=u.j.J,u.h=new dt,u.g=ru(u.j,_?v:null,!u.m),0<u.O&&(u.M=new Dd(w(u.Y,u,u.g),u.O)),v=u.U,_=u.g,A=u.ca;var H="readystatechange";Array.isArray(H)||(H&&(vs[0]=H.toString()),H=vs);for(var X=0;X<H.length;X++){var se=Lc(_,H[X],A||v.handleEvent,!1,v.h||v);if(!se)break;v.g[se.key]=se}v=u.H?x(u.H):{},u.m?(u.u||(u.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,v)):(u.u="GET",u.g.ea(u.A,u.u,null,v)),vr(),Ho(u.i,u.u,u.A,u.l,u.R,u.m)}tn.prototype.ca=function(u){u=u.target;const v=this.M;v&&Nn(u)==3?v.j():this.Y(u)},tn.prototype.Y=function(u){try{if(u==this.g)e:{const Rt=Nn(this.g);var v=this.g.Ba();const qi=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||Xc(this.g)))){this.J||Rt!=4||v==7||(v==8||0>=qi?vr(3):vr(2)),Tr(this);var _=this.g.Z();this.X=_;t:if(Fc(this)){var A=Xc(this.g);u="";var H=A.length,X=Nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ut(this),si(this);var se="";break t}this.h.i=new p.TextDecoder}for(v=0;v<H;v++)this.h.h=!0,u+=this.h.i.decode(A[v],{stream:!(X&&v==H-1)});A.length=0,this.h.g+=u,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=_==200,jd(this.i,this.u,this.A,this.l,this.R,Rt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,xt=this.g;if((Ve=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(Ve)){var Pe=Ve;break t}}Pe=null}if(_=Pe)_r(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ss(this,_);else{this.o=!1,this.s=3,rt(12),Ut(this),si(this);break e}}if(this.P){_=!0;let zt;for(;!this.J&&this.C<se.length;)if(zt=Hc(this,se),zt==ga){Rt==4&&(this.s=4,rt(14),_=!1),_r(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==Go){this.s=4,rt(15),_r(this.i,this.l,se,"[Invalid Chunk]"),_=!1;break}else _r(this.i,this.l,zt,null),Ss(this,zt);if(Fc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||se.length!=0||this.h.h||(this.s=1,rt(16),_=!1),this.o=this.o&&_,!_)_r(this.i,this.l,se,"[Invalid Chunked Response]"),Ut(this),si(this);else if(0<se.length&&!this.W){this.W=!0;var Ot=this.j;Ot.g==this&&Ot.ba&&!Ot.M&&(Ot.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),Ms(Ot),Ot.M=!0,rt(11))}}else _r(this.i,this.l,se,null),Ss(this,se);Rt==4&&Ut(this),this.o&&!this.J&&(Rt==4?tu(this.j,this):(this.o=!1,bs(this)))}else Pd(this.g),_==400&&0<se.indexOf("Unknown SID")?(this.s=3,rt(12)):(this.s=0,rt(13)),Ut(this),si(this)}}}catch{}finally{}};function Fc(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Hc(u,v){var _=u.C,A=v.indexOf(`
`,_);return A==-1?ga:(_=Number(v.substring(_,A)),isNaN(_)?Go:(A+=1,A+_>v.length?ga:(v=v.slice(A,A+_),u.C=A+_,v)))}tn.prototype.cancel=function(){this.J=!0,Ut(this)};function bs(u){u.S=Date.now()+u.I,Gc(u,u.I)}function Gc(u,v){if(u.B!=null)throw Error("WatchDog timer not null");u.B=yt(w(u.ba,u),v)}function Tr(u){u.B&&(p.clearTimeout(u.B),u.B=null)}tn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(qc(this.i,this.A),this.L!=2&&(vr(),rt(17)),Ut(this),this.s=2,si(this)):Gc(this,this.S-u)};function si(u){u.j.G==0||u.J||tu(u.j,u)}function Ut(u){Tr(u);var v=u.M;v&&typeof v.ma=="function"&&v.ma(),u.M=null,_s(u.U),u.g&&(v=u.g,u.g=null,v.abort(),v.ma())}function Ss(u,v){try{var _=u.j;if(_.G!=0&&(_.g==u||Qo(_.h,u))){if(!u.K&&Qo(_.h,u)&&_.G==3){try{var A=_.Da.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var H=A;if(H[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Na(_),xa(_);else break e;nl(_),rt(18)}}else _.za=H[1],0<_.za-_.T&&37500>H[2]&&_.F&&_.v==0&&!_.C&&(_.C=yt(w(_.Za,_),6e3));if(1>=va(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Bi(_,11)}else if((u.K||_.g==u)&&Na(_),!j(v))for(H=_.Da.g.parse(v),v=0;v<H.length;v++){let Pe=H[v];if(_.T=Pe[0],Pe=Pe[1],_.G==2)if(Pe[0]=="c"){_.K=Pe[1],_.ia=Pe[2];const Ot=Pe[3];Ot!=null&&(_.la=Ot,_.j.info("VER="+_.la));const Rt=Pe[4];Rt!=null&&(_.Aa=Rt,_.j.info("SVER="+_.Aa));const qi=Pe[5];qi!=null&&typeof qi=="number"&&0<qi&&(A=1.5*qi,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const zt=u.g;if(zt){const di=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(di){var X=A.h;X.g||di.indexOf("spdy")==-1&&di.indexOf("quic")==-1&&di.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(_a(X,X.h),X.h=null))}if(A.D){const rl=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;rl&&(A.ya=rl,Ye(A.I,A.D,rl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var se=u;if(A.qa=iu(A,A.J?A.ia:null,A.W),se.K){nn(A.h,se);var Ve=se,xt=A.L;xt&&(Ve.I=xt),Ve.B&&(Tr(Ve),bs(Ve)),A.g=se}else Jc(A);0<_.i.length&&Ra(_)}else Pe[0]!="stop"&&Pe[0]!="close"||Bi(_,7);else _.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?Bi(_,7):el(_):Pe[0]!="noop"&&_.l&&_.l.ta(Pe),_.v=0)}}vr(4)}catch{}}var Qc=class{constructor(u,v){this.g=u,this.map=v}};function ki(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ya(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function va(u){return u.h?1:u.g?u.g.size:0}function Qo(u,v){return u.h?u.h==v:u.g?u.g.has(v):!1}function _a(u,v){u.g?u.g.add(v):u.h=v}function nn(u,v){u.h&&u.h==v?u.h=null:u.g&&u.g.has(v)&&u.g.delete(v)}ki.prototype.cancel=function(){if(this.i=$o(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function $o(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let v=u.i;for(const _ of u.g.values())v=v.concat(_.D);return v}return Q(u.i)}function Od(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(g(u)){for(var v=[],_=u.length,A=0;A<_;A++)v.push(u[A]);return v}v=[],_=0;for(A in u)v[_++]=u[A];return v}function Ea(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(g(u)||typeof u=="string"){var v=[];u=u.length;for(var _=0;_<u;_++)v.push(_);return v}v=[],_=0;for(const A in u)v[_++]=A;return v}}}function Ko(u,v){if(u.forEach&&typeof u.forEach=="function")u.forEach(v,void 0);else if(g(u)||typeof u=="string")Array.prototype.forEach.call(u,v,void 0);else for(var _=Ea(u),A=Od(u),H=A.length,X=0;X<H;X++)v.call(void 0,A[X],_&&_[X],u)}var ws=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Md(u,v){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var A=u[_].indexOf("="),H=null;if(0<=A){var X=u[_].substring(0,A);H=u[_].substring(A+1)}else X=u[_];v(X,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function vt(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof vt){this.h=u.h,As(this,u.j),this.o=u.o,this.g=u.g,br(this,u.s),this.l=u.l;var v=u.i,_=new Pi;_.i=v.i,v.g&&(_.g=new Map(v.g),_.h=v.h),Vi(this,_),this.m=u.m}else u&&(v=String(u).match(ws))?(this.h=!1,As(this,v[1]||"",!0),this.o=An(v[2]||""),this.g=An(v[3]||"",!0),br(this,v[4]),this.l=An(v[5]||"",!0),Vi(this,v[6]||"",!0),this.m=An(v[7]||"")):(this.h=!1,this.i=new Pi(null,this.h))}vt.prototype.toString=function(){var u=[],v=this.j;v&&u.push(Rs(v,Yo,!0),":");var _=this.g;return(_||v=="file")&&(u.push("//"),(v=this.o)&&u.push(Rs(v,Yo,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Rs(_,_.charAt(0)=="/"?kd:Xo,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Rs(_,Ta)),u.join("")};function fn(u){return new vt(u)}function As(u,v,_){u.j=_?An(v,!0):v,u.j&&(u.j=u.j.replace(/:$/,""))}function br(u,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);u.s=v}else u.s=null}function Vi(u,v,_){v instanceof Pi?(u.i=v,Kc(u.i,u.h)):(_||(v=Rs(v,Vd)),u.i=new Pi(v,u.h))}function Ye(u,v,_){u.i.set(v,_)}function xs(u){return Ye(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function An(u,v){return u?v?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Rs(u,v,_){return typeof u=="string"?(u=encodeURI(u).replace(v,$c),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function $c(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Yo=/[#\/\?@]/g,Xo=/[#\?:]/g,kd=/[#\?]/g,Vd=/[#\?@]/g,Ta=/#/g;function Pi(u,v){this.h=this.g=null,this.i=u||null,this.j=!!v}function xn(u){u.g||(u.g=new Map,u.h=0,u.i&&Md(u.i,function(v,_){u.add(decodeURIComponent(v.replace(/\+/g," ")),_)}))}i=Pi.prototype,i.add=function(u,v){xn(this),this.i=null,u=ai(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(v),this.h+=1,this};function Li(u,v){xn(u),v=ai(u,v),u.g.has(v)&&(u.i=null,u.h-=u.g.get(v).length,u.g.delete(v))}function Ui(u,v){return xn(u),v=ai(u,v),u.g.has(v)}i.forEach=function(u,v){xn(this),this.g.forEach(function(_,A){_.forEach(function(H){u.call(v,H,A,this)},this)},this)},i.na=function(){xn(this);const u=Array.from(this.g.values()),v=Array.from(this.g.keys()),_=[];for(let A=0;A<v.length;A++){const H=u[A];for(let X=0;X<H.length;X++)_.push(v[A])}return _},i.V=function(u){xn(this);let v=[];if(typeof u=="string")Ui(this,u)&&(v=v.concat(this.g.get(ai(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)v=v.concat(u[_])}return v},i.set=function(u,v){return xn(this),this.i=null,u=ai(this,u),Ui(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[v]),this.h+=1,this},i.get=function(u,v){return u?(u=this.V(u),0<u.length?String(u[0]):v):v};function Wo(u,v,_){Li(u,v),0<_.length&&(u.i=null,u.g.set(ai(u,v),Q(_)),u.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],v=Array.from(this.g.keys());for(var _=0;_<v.length;_++){var A=v[_];const X=encodeURIComponent(String(A)),se=this.V(A);for(A=0;A<se.length;A++){var H=X;se[A]!==""&&(H+="="+encodeURIComponent(String(se[A]))),u.push(H)}}return this.i=u.join("&")};function ai(u,v){return v=String(v),u.j&&(v=v.toLowerCase()),v}function Kc(u,v){v&&!u.j&&(xn(u),u.i=null,u.g.forEach(function(_,A){var H=A.toLowerCase();A!=H&&(Li(this,A),Wo(this,H,_))},u)),u.j=v}function Ns(u,v){const _=new wn;if(p.Image){const A=new Image;A.onload=D(Rn,_,"TestLoadImage: loaded",!0,v,A),A.onerror=D(Rn,_,"TestLoadImage: error",!1,v,A),A.onabort=D(Rn,_,"TestLoadImage: abort",!1,v,A),A.ontimeout=D(Rn,_,"TestLoadImage: timeout",!1,v,A),p.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else v(!1)}function qn(u,v){const _=new wn,A=new AbortController,H=setTimeout(()=>{A.abort(),Rn(_,"TestPingServer: timeout",!1,v)},1e4);fetch(u,{signal:A.signal}).then(X=>{clearTimeout(H),X.ok?Rn(_,"TestPingServer: ok",!0,v):Rn(_,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),Rn(_,"TestPingServer: error",!1,v)})}function Rn(u,v,_,A,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),A(_)}catch{}}function Cs(){this.g=new Es}function oi(u,v,_){const A=_||"";try{Ko(u,function(H,X){let se=H;y(H)&&(se=zn(H)),v.push(A+X+"="+encodeURIComponent(se))})}catch(H){throw v.push(A+"type="+encodeURIComponent("_badmap")),H}}function Sr(u){this.l=u.Ub||null,this.j=u.eb||!1}q(Sr,Uo),Sr.prototype.g=function(){return new zi(this.l,this.j)},Sr.prototype.i=(function(u){return function(){return u}})({});function zi(u,v){ct.call(this),this.D=u,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}q(zi,ct),i=zi.prototype,i.open=function(u,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=v,this.readyState=1,ci(this)},i.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(v.body=u),(this.D||p).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,li(this)),this.readyState=0},i.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ci(this)),this.g&&(this.readyState=3,ci(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Zo(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Zo(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}i.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var v=u.value?u.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!u.done}))&&(this.response=this.responseText+=v)}u.done?li(this):ci(this),this.readyState==3&&Zo(this)}},i.Ra=function(u){this.g&&(this.response=this.responseText=u,li(this))},i.Qa=function(u){this.g&&(this.response=u,li(this))},i.ga=function(){this.g&&li(this)};function li(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ci(u)}i.setRequestHeader=function(u,v){this.u.append(u,v)},i.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],v=this.h.entries();for(var _=v.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=v.next();return u.join(`\r
`)};function ci(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(zi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Jo(u){let v="";return Ae(u,function(_,A){v+=A,v+=":",v+=_,v+=`\r
`}),v}function jt(u,v,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=Jo(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Ye(u,v,_))}function He(u){ct.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}q(He,ct);var ba=/^https?$/i,Is=["POST","PUT"];i=He.prototype,i.Ha=function(u){this.J=u},i.ea=function(u,v,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);v=v?v.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ii.g(),this.v=this.o?zo(this.o):zo(ii),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(v,String(u),!0),this.B=!1}catch(X){Yc(this,X);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var H in A)_.set(H,A[H]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const X of A.keys())_.set(X,A.get(X));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(X=>X.toLowerCase()=="content-type"),H=p.FormData&&u instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Is,v,void 0))||A||H||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,se]of _)this.g.setRequestHeader(X,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ds(this),this.u=!0,this.g.send(u),this.u=!1}catch(X){Yc(this,X)}};function Yc(u,v){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=v,u.m=5,Sa(u),ui(u)}function Sa(u){u.A||(u.A=!0,Qe(u,"complete"),Qe(u,"error"))}i.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Qe(this,"complete"),Qe(this,"abort"),ui(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ui(this,!0)),He.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?wa(this):this.bb())},i.bb=function(){wa(this)};function wa(u){if(u.h&&typeof d<"u"&&(!u.v[1]||Nn(u)!=4||u.Z()!=2)){if(u.u&&Nn(u)==4)$t(u.Ea,0,u);else if(Qe(u,"readystatechange"),Nn(u)==4){u.h=!1;try{const se=u.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var _;if(!(_=v)){var A;if(A=se===0){var H=String(u.D).match(ws)[1]||null;!H&&p.self&&p.self.location&&(H=p.self.location.protocol.slice(0,-1)),A=!ba.test(H?H.toLowerCase():"")}_=A}if(_)Qe(u,"complete"),Qe(u,"success");else{u.m=6;try{var X=2<Nn(u)?u.g.statusText:""}catch{X=""}u.l=X+" ["+u.Z()+"]",Sa(u)}}finally{ui(u)}}}}function ui(u,v){if(u.g){Ds(u);const _=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,v||Qe(u,"ready");try{_.onreadystatechange=A}catch{}}}function Ds(u){u.I&&(p.clearTimeout(u.I),u.I=null)}i.isActive=function(){return!!this.g};function Nn(u){return u.g?u.g.readyState:0}i.Z=function(){try{return 2<Nn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(u){if(this.g){var v=this.g.responseText;return u&&v.indexOf(u)==0&&(v=v.substring(u.length)),ma(v)}};function Xc(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Pd(u){const v={};u=(u.g&&2<=Nn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(j(u[A]))continue;var _=M(u[A]);const H=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const X=v[H]||[];v[H]=X,X.push(_)}P(v,function(A){return A.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function js(u,v,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||v}function Aa(u){this.Aa=0,this.i=[],this.j=new wn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=js("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=js("baseRetryDelayMs",5e3,u),this.cb=js("retryDelaySeedMs",1e4,u),this.Wa=js("forwardChannelMaxRetries",2,u),this.wa=js("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ki(u&&u.concurrentRequestLimit),this.Da=new Cs,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Aa.prototype,i.la=8,i.G=1,i.connect=function(u,v,_,A){rt(0),this.W=u,this.H=v||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=iu(this,null,this.W),Ra(this)};function el(u){if(Wc(u),u.G==3){var v=u.U++,_=fn(u.I);if(Ye(_,"SID",u.K),Ye(_,"RID",v),Ye(_,"TYPE","terminate"),Os(u,_),v=new tn(u,u.j,v),v.L=2,v.v=xs(fn(_)),_=!1,p.navigator&&p.navigator.sendBeacon)try{_=p.navigator.sendBeacon(v.v.toString(),"")}catch{}!_&&p.Image&&(new Image().src=v.v,_=!0),_||(v.g=ru(v.j,null),v.g.ea(v.v)),v.F=Date.now(),bs(v)}nu(u)}function xa(u){u.g&&(Ms(u),u.g.cancel(),u.g=null)}function Wc(u){xa(u),u.u&&(p.clearTimeout(u.u),u.u=null),Na(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&p.clearTimeout(u.s),u.s=null)}function Ra(u){if(!ya(u.h)&&!u.s){u.s=!0;var v=u.Ga;oe||O(),me||(oe(),me=!0),qe.add(v,u),u.B=0}}function Ld(u,v){return va(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=v.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=yt(w(u.Ga,u,v),il(u,u.B)),u.B++,!0)}i.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const H=new tn(this,this.j,u);let X=this.o;if(this.S&&(X?(X=x(X),I(X,this.S)):X=this.S),this.m!==null||this.O||(H.H=X,X=null),this.P)e:{for(var v=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(v+=A,4096<v){v=_;break e}if(v===4096||_===this.i.length-1){v=_+1;break e}}v=1e3}else v=1e3;v=Zc(this,H,v),_=fn(this.I),Ye(_,"RID",u),Ye(_,"CVER",22),this.D&&Ye(_,"X-HTTP-Session-Id",this.D),Os(this,_),X&&(this.O?v="headers="+encodeURIComponent(String(Jo(X)))+"&"+v:this.m&&jt(_,this.m,X)),_a(this.h,H),this.Ua&&Ye(_,"TYPE","init"),this.P?(Ye(_,"$req",v),Ye(_,"SID","null"),H.T=!0,Bn(H,_,null)):Bn(H,_,v),this.G=2}}else this.G==3&&(u?tl(this,u):this.i.length==0||ya(this.h)||tl(this))};function tl(u,v){var _;v?_=v.l:_=u.U++;const A=fn(u.I);Ye(A,"SID",u.K),Ye(A,"RID",_),Ye(A,"AID",u.T),Os(u,A),u.m&&u.o&&jt(A,u.m,u.o),_=new tn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),v&&(u.i=v.D.concat(u.i)),v=Zc(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),_a(u.h,_),Bn(_,A,v)}function Os(u,v){u.H&&Ae(u.H,function(_,A){Ye(v,A,_)}),u.l&&Ko({},function(_,A){Ye(v,A,_)})}function Zc(u,v,_){_=Math.min(u.i.length,_);var A=u.l?w(u.l.Na,u.l,u):null;e:{var H=u.i;let X=-1;for(;;){const se=["count="+_];X==-1?0<_?(X=H[0].g,se.push("ofs="+X)):X=0:se.push("ofs="+X);let Ve=!0;for(let xt=0;xt<_;xt++){let Pe=H[xt].g;const Ot=H[xt].map;if(Pe-=X,0>Pe)X=Math.max(0,H[xt].g-100),Ve=!1;else try{oi(Ot,se,"req"+Pe+"_")}catch{A&&A(Ot)}}if(Ve){A=se.join("&");break e}}}return u=u.i.splice(0,_),v.D=u,A}function Jc(u){if(!u.g&&!u.u){u.Y=1;var v=u.Fa;oe||O(),me||(oe(),me=!0),qe.add(v,u),u.v=0}}function nl(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=yt(w(u.Fa,u),il(u,u.v)),u.v++,!0)}i.Fa=function(){if(this.u=null,eu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=yt(w(this.ab,this),u)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rt(10),xa(this),eu(this))};function Ms(u){u.A!=null&&(p.clearTimeout(u.A),u.A=null)}function eu(u){u.g=new tn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var v=fn(u.qa);Ye(v,"RID","rpc"),Ye(v,"SID",u.K),Ye(v,"AID",u.T),Ye(v,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ye(v,"TO",u.ja),Ye(v,"TYPE","xmlhttp"),Os(u,v),u.m&&u.o&&jt(v,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=xs(fn(v)),_.m=null,_.P=!0,Mi(_,u)}i.Za=function(){this.C!=null&&(this.C=null,xa(this),nl(this),rt(19))};function Na(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function tu(u,v){var _=null;if(u.g==v){Na(u),Ms(u),u.g=null;var A=2}else if(Qo(u.h,v))_=v.D,nn(u.h,v),A=1;else return;if(u.G!=0){if(v.o)if(A==1){_=v.m?v.m.length:0,v=Date.now()-v.F;var H=u.B;A=yr(),Qe(A,new At(A,_)),Ra(u)}else Jc(u);else if(H=v.s,H==3||H==0&&0<v.X||!(A==1&&Ld(u,v)||A==2&&nl(u)))switch(_&&0<_.length&&(v=u.h,v.i=v.i.concat(_)),H){case 1:Bi(u,5);break;case 4:Bi(u,10);break;case 3:Bi(u,6);break;default:Bi(u,2)}}}function il(u,v){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*v}function Bi(u,v){if(u.j.info("Error code "+v),v==2){var _=w(u.fb,u),A=u.Xa;const H=!A;A=new vt(A||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||As(A,"https"),xs(A),H?Ns(A.toString(),_):qn(A.toString(),_)}else rt(2);u.G=0,u.l&&u.l.sa(v),nu(u),Wc(u)}i.fb=function(u){u?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function nu(u){if(u.G=0,u.ka=[],u.l){const v=$o(u.h);(v.length!=0||u.i.length!=0)&&(V(u.ka,v),V(u.ka,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.ra()}}function iu(u,v,_){var A=_ instanceof vt?fn(_):new vt(_);if(A.g!="")v&&(A.g=v+"."+A.g),br(A,A.s);else{var H=p.location;A=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;var X=new vt(null);A&&As(X,A),v&&(X.g=v),H&&br(X,H),_&&(X.l=_),A=X}return _=u.D,v=u.ya,_&&v&&Ye(A,_,v),Ye(A,"VER",u.la),Os(u,A),A}function ru(u,v,_){if(v&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=u.Ca&&!u.pa?new He(new Sr({eb:_})):new He(u.pa),v.Ha(u.J),v}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function su(){}i=su.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Ca(){}Ca.prototype.g=function(u,v){return new rn(u,v)};function rn(u,v){ct.call(this),this.g=new Aa(v),this.l=u,this.h=v&&v.messageUrlParams||null,u=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(u?u["X-WebChannel-Content-Type"]=v.messageContentType:u={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(u?u["X-WebChannel-Client-Profile"]=v.va:u={"X-WebChannel-Client-Profile":v.va}),this.g.S=u,(u=v&&v.Sb)&&!j(u)&&(this.g.m=u),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!j(v)&&(this.g.D=v,u=this.h,u!==null&&v in u&&(u=this.h,v in u&&delete u[v])),this.j=new hi(this)}q(rn,ct),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){el(this.g)},rn.prototype.o=function(u){var v=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=zn(u),u=_);v.i.push(new Qc(v.Ya++,u)),v.G==3&&Ra(v)},rn.prototype.N=function(){this.g.l=null,delete this.j,el(this.g),delete this.g,rn.aa.N.call(this)};function au(u){ji.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var v=u.__sm__;if(v){e:{for(const _ in v){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,v=v!==null&&u in v?v[u]:void 0),this.data=v}else this.data=u}q(au,ji);function ou(){qo.call(this),this.status=1}q(ou,qo);function hi(u){this.g=u}q(hi,su),hi.prototype.ua=function(){Qe(this.g,"a")},hi.prototype.ta=function(u){Qe(this.g,new au(u))},hi.prototype.sa=function(u){Qe(this.g,new ou)},hi.prototype.ra=function(){Qe(this.g,"b")},Ca.prototype.createWebChannel=Ca.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,aT=function(){return new Ca},sT=function(){return yr()},rT=ni,up={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Er.NO_ERROR=0,Er.TIMEOUT=8,Er.HTTP_ERROR=6,Ah=Er,Oi.COMPLETE="complete",iT=Oi,Bo.EventType=Di,Di.OPEN="a",Di.CLOSE="b",Di.ERROR="c",Di.MESSAGE="d",ct.prototype.listen=ct.prototype.K,Yl=Bo,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,nT=He}).apply(typeof uh<"u"?uh:typeof self<"u"?self:typeof window<"u"?window:{});const B0="@firebase/firestore",q0="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Do="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=new Lp("@firebase/firestore");function ro(){return ra.logLevel}function he(i,...e){if(ra.logLevel<=Oe.DEBUG){const n=e.map(Yp);ra.debug(`Firestore (${Do}): ${i}`,...n)}}function dr(i,...e){if(ra.logLevel<=Oe.ERROR){const n=e.map(Yp);ra.error(`Firestore (${Do}): ${i}`,...n)}}function _o(i,...e){if(ra.logLevel<=Oe.WARN){const n=e.map(Yp);ra.warn(`Firestore (${Do}): ${i}`,...n)}}function Yp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,oT(i,s,n)}function oT(i,e,n){let s=`FIRESTORE (${Do}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw dr(s),new Error(s)}function Ge(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||oT(e,o,s)}function we(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends pr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Wt.UNAUTHENTICATED)))}shutdown(){}}class $N{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class KN{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let c=new or;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new or,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new or)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new lT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class YN{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class XN{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new YN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Wt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class F0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const s=c=>{c.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,he("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new F0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new F0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=ZN(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<n&&(s+=e.charAt(o[c]%62))}return s}}function Me(i,e){return i<e?-1:i>e?1:0}function hp(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),c=e.charAt(s);if(o!==c)return Gm(o)===Gm(c)?Me(o,c):Gm(o)?1:-1}return Me(i.length,e.length)}const JN=55296,eC=57343;function Gm(i){const e=i.charCodeAt(0);return e>=JN&&e<=eC}function Eo(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="__name__";class vi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return vi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof vi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const c=vi.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return Me(e.length,n.length)}static compareSegments(e,n){const s=vi.isNumericId(e),o=vi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?vi.extractNumericId(e).compare(vi.extractNumericId(n)):hp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ts.fromString(e.substring(4,e.length-2))}}class nt extends vi{construct(e,n,s){return new nt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new nt(n)}static emptyPath(){return new nt([])}}const tC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends vi{construct(e,n,s){return new Gt(e,n,s)}static isValidIdentifier(e){return tC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===H0}static keyField(){return new Gt([H0])}static fromServerFormat(e){const n=[];let s="",o=0;const c=()=>{if(s.length===0)throw new ue(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ue(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ue(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(s+=p,o++):(c(),o++)}if(c(),d)throw new ue(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(n)}static emptyPath(){return new Gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(nt.fromString(e))}static fromName(e){return new pe(nt.fromString(e).popFirst(5))}static empty(){return new pe(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new nt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(i,e,n){if(!n)throw new ue(ee.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function nC(i,e,n,s){if(e===!0&&s===!0)throw new ue(ee.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function G0(i){if(!pe.isDocumentKey(i))throw new ue(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Q0(i){if(pe.isDocumentKey(i))throw new ue(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function uT(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function od(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ee(12329,{type:typeof i})}function Zn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ue(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=od(i);throw new ue(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(i,e){const n={typeString:i};return e&&(n.value=e),n}function Dc(i,e){if(!uT(i))throw new ue(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const d=i[s];if(o&&typeof d!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new ue(ee.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0=-62135596800,K0=1e6;class Be{static now(){return Be.fromMillis(Date.now())}static fromDate(e){return Be.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*K0);return new Be(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<$0)throw new ue(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/K0}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Be._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Dc(e,Be._jsonSchema))return new Be(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-$0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Be._jsonSchemaVersion="firestore/timestamp/1.0",Be._jsonSchema={type:St("string",Be._jsonSchemaVersion),seconds:St("number"),nanoseconds:St("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Be(0,0))}static max(){return new Se(new Be(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=-1;function iC(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new Be(n+1,0):new Be(n,s));return new is(o,pe.empty(),e)}function rC(i){return new is(i.readTime,i.key,hc)}class is{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new is(Se.min(),pe.empty(),hc)}static max(){return new is(Se.max(),pe.empty(),hc)}}function sC(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(i.documentKey,e.documentKey),n!==0?n:Me(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(i){if(i.code!==ee.FAILED_PRECONDITION||i.message!==aC)throw i;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,s)=>{n(e)}))}static reject(e){return new ne(((n,s)=>{s(e)}))}static waitFor(e){return new ne(((n,s)=>{let o=0,c=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&n()}),(g=>s(g)))})),d=!0,c===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next((o=>o?ne.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,c)=>{s.push(n.call(this,o,c))})),this.waitFor(s)}static mapArray(e,n){return new ne(((s,o)=>{const c=e.length,d=new Array(c);let p=0;for(let g=0;g<c;g++){const y=g;n(e[y]).next((E=>{d[y]=E,++p,p===c&&s(d)}),(E=>o(E)))}}))}static doWhile(e,n){return new ne(((s,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):s()};c()}))}}function lC(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Oo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ld.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp=-1;function cd(i){return i==null}function zh(i){return i===0&&1/i==-1/0}function cC(i){return typeof i=="number"&&Number.isInteger(i)&&!zh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="";function uC(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Y0(e)),e=hC(i.get(n),e);return Y0(e)}function hC(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const c=i.charAt(o);switch(c){case"\0":n+="";break;case hT:n+="";break;default:n+=c}}return n}function Y0(i){return i+hT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function hs(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function dT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){this.comparator=e,this.root=n||Ht.EMPTY}insert(e,n){return new lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hh(this.root,e,this.comparator,!1)}getReverseIterator(){return new hh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hh(this.root,e,this.comparator,!0)}}class hh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,n,s,o,c){this.key=e,this.value=n,this.color=s??Ht.RED,this.left=o??Ht.EMPTY,this.right=c??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,c){return new Ht(e??this.key,n??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,s),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Ht.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,o,c){return this}insert(e,n,s){return new Ht(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new W0(this.data.getIterator())}getIteratorFrom(e){return new W0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new It(this.comparator);return n.data=e,n}}class W0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new Tn([])}unionWith(e){let n=new It(Gt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Tn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Eo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new fT("Invalid base64 string: "+c):c}})(e);return new Qt(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const dC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rs(i){if(Ge(!!i,39018),typeof i=="string"){let e=0;const n=dC.exec(i);if(Ge(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:pt(i.seconds),nanos:pt(i.nanos)}}function pt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ss(i){return typeof i=="string"?Qt.fromBase64String(i):Qt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="server_timestamp",pT="__type__",gT="__previous_value__",yT="__local_write_time__";function Zp(i){return(i?.mapValue?.fields||{})[pT]?.stringValue===mT}function ud(i){const e=i.mapValue.fields[gT];return Zp(e)?ud(e):e}function dc(i){const e=rs(i.mapValue.fields[yT].timestampValue);return new Be(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,n,s,o,c,d,p,g,y,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E}}const Bh="(default)";class fc{constructor(e,n){this.projectId=e,this.database=n||Bh}static empty(){return new fc("","")}get isDefaultDatabase(){return this.database===Bh}isEqual(e){return e instanceof fc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="__type__",mC="__max__",dh={mapValue:{}},_T="__vector__",qh="value";function as(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Zp(i)?4:gC(i)?9007199254740991:pC(i)?10:11:Ee(28295,{value:i})}function Ni(i,e){if(i===e)return!0;const n=as(i);if(n!==as(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return dc(i).isEqual(dc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=rs(o.timestampValue),p=rs(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,c){return ss(o.bytesValue).isEqual(ss(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,c){return pt(o.geoPointValue.latitude)===pt(c.geoPointValue.latitude)&&pt(o.geoPointValue.longitude)===pt(c.geoPointValue.longitude)})(i,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return pt(o.integerValue)===pt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=pt(o.doubleValue),p=pt(c.doubleValue);return d===p?zh(d)===zh(p):isNaN(d)&&isNaN(p)}return!1})(i,e);case 9:return Eo(i.arrayValue.values||[],e.arrayValue.values||[],Ni);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(X0(d)!==X0(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!Ni(d[g],p[g])))return!1;return!0})(i,e);default:return Ee(52216,{left:i})}}function mc(i,e){return(i.values||[]).find((n=>Ni(n,e)))!==void 0}function To(i,e){if(i===e)return 0;const n=as(i),s=as(e);if(n!==s)return Me(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(i.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=pt(c.integerValue||c.doubleValue),g=pt(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(i,e);case 3:return Z0(i.timestampValue,e.timestampValue);case 4:return Z0(dc(i),dc(e));case 5:return hp(i.stringValue,e.stringValue);case 6:return(function(c,d){const p=ss(c),g=ss(d);return p.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),g=d.split("/");for(let y=0;y<p.length&&y<g.length;y++){const E=Me(p[y],g[y]);if(E!==0)return E}return Me(p.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=Me(pt(c.latitude),pt(d.latitude));return p!==0?p:Me(pt(c.longitude),pt(d.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return J0(i.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},g=d.fields||{},y=p[qh]?.arrayValue,E=g[qh]?.arrayValue,b=Me(y?.values?.length||0,E?.values?.length||0);return b!==0?b:J0(y,E)})(i.mapValue,e.mapValue);case 11:return(function(c,d){if(c===dh.mapValue&&d===dh.mapValue)return 0;if(c===dh.mapValue)return 1;if(d===dh.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),y=d.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let b=0;b<g.length&&b<E.length;++b){const w=hp(g[b],E[b]);if(w!==0)return w;const D=To(p[g[b]],y[E[b]]);if(D!==0)return D}return Me(g.length,E.length)})(i.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function Z0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Me(i,e);const n=rs(i),s=rs(e),o=Me(n.seconds,s.seconds);return o!==0?o:Me(n.nanos,s.nanos)}function J0(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const c=To(n[o],s[o]);if(c)return c}return Me(n.length,s.length)}function bo(i){return dp(i)}function dp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=rs(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return ss(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return pe.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const c of n.values||[])o?o=!1:s+=",",s+=dp(c);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${dp(n.fields[d])}`;return o+"}"})(i.mapValue):Ee(61005,{value:i})}function xh(i){switch(as(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ud(i);return e?16+xh(e):16;case 5:return 2*i.stringValue.length;case 6:return ss(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+xh(c)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return hs(s.fields,((c,d)=>{o+=c.length+xh(d)})),o})(i.mapValue);default:throw Ee(13486,{value:i})}}function eE(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function fp(i){return!!i&&"integerValue"in i}function Jp(i){return!!i&&"arrayValue"in i}function tE(i){return!!i&&"nullValue"in i}function nE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Rh(i){return!!i&&"mapValue"in i}function pC(i){return(i?.mapValue?.fields||{})[vT]?.stringValue===_T}function tc(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return hs(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=tc(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=tc(i.arrayValue.values[n]);return e}return{...i}}function gC(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===mC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.value=e}static empty(){return new hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Rh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=tc(n)}setAll(e){let n=Gt.emptyPath(),s={},o=[];e.forEach(((d,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=p.popLast()}d?s[p.lastSegment()]=tc(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,s,o)}delete(e){const n=this.field(e.popLast());Rh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ni(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Rh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){hs(n,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new hn(tc(this.value))}}function ET(i){const e=[];return hs(i.fields,((n,s)=>{const o=new Gt([n]);if(Rh(s)){const c=ET(s.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new Tn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n,s,o,c,d,p){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Zt(e,0,Se.min(),Se.min(),Se.min(),hn.empty(),0)}static newFoundDocument(e,n,s,o){return new Zt(e,1,n,Se.min(),s,o,0)}static newNoDocument(e,n){return new Zt(e,2,n,Se.min(),Se.min(),hn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,Se.min(),Se.min(),hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n){this.position=e,this.inclusive=n}}function iE(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const c=e[o],d=i.position[o];if(c.field.isKeyField()?s=pe.comparator(pe.fromName(d.referenceValue),n.key):s=To(d,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function rE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Ni(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,n="asc"){this.field=e,this.dir=n}}function yC(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{}class bt extends TT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new _C(e,n,s):n==="array-contains"?new bC(e,s):n==="in"?new SC(e,s):n==="not-in"?new wC(e,s):n==="array-contains-any"?new AC(e,s):new bt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new EC(e,s):new TC(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(To(n,this.value)):n!==null&&as(this.value)===as(n)&&this.matchesComparison(To(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jn extends TT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Jn(e,n)}matches(e){return bT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function bT(i){return i.op==="and"}function ST(i){return vC(i)&&bT(i)}function vC(i){for(const e of i.filters)if(e instanceof Jn)return!1;return!0}function mp(i){if(i instanceof bt)return i.field.canonicalString()+i.op.toString()+bo(i.value);if(ST(i))return i.filters.map((e=>mp(e))).join(",");{const e=i.filters.map((n=>mp(n))).join(",");return`${i.op}(${e})`}}function wT(i,e){return i instanceof bt?(function(s,o){return o instanceof bt&&s.op===o.op&&s.field.isEqual(o.field)&&Ni(s.value,o.value)})(i,e):i instanceof Jn?(function(s,o){return o instanceof Jn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,d,p)=>c&&wT(d,o.filters[p])),!0):!1})(i,e):void Ee(19439)}function AT(i){return i instanceof bt?(function(n){return`${n.field.canonicalString()} ${n.op} ${bo(n.value)}`})(i):i instanceof Jn?(function(n){return n.op.toString()+" {"+n.getFilters().map(AT).join(" ,")+"}"})(i):"Filter"}class _C extends bt{constructor(e,n,s){super(e,n,s),this.key=pe.fromName(s.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class EC extends bt{constructor(e,n){super(e,"in",n),this.keys=xT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class TC extends bt{constructor(e,n){super(e,"not-in",n),this.keys=xT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function xT(i,e){return(e.arrayValue?.values||[]).map((n=>pe.fromName(n.referenceValue)))}class bC extends bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Jp(n)&&mc(n.arrayValue,this.value)}}class SC extends bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&mc(this.value.arrayValue,n)}}class wC extends bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(mc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!mc(this.value.arrayValue,n)}}class AC extends bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Jp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>mc(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e,n=null,s=[],o=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function sE(i,e=null,n=[],s=[],o=null,c=null,d=null){return new xC(i,e,n,s,o,c,d)}function eg(i){const e=we(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>mp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),cd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>bo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>bo(s))).join(",")),e.Te=n}return e.Te}function tg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!yC(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!wT(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!rE(i.startAt,e.startAt)&&rE(i.endAt,e.endAt)}function pp(i){return pe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,n=null,s=[],o=[],c=null,d="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function RC(i,e,n,s,o,c,d,p){return new Mo(i,e,n,s,o,c,d,p)}function ng(i){return new Mo(i)}function aE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function RT(i){return i.collectionGroup!==null}function nc(i){const e=we(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new It(Gt.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new pc(c,s))})),n.has(Gt.keyField().canonicalString())||e.Ie.push(new pc(Gt.keyField(),s))}return e.Ie}function wi(i){const e=we(i);return e.Ee||(e.Ee=NC(e,nc(i))),e.Ee}function NC(i,e){if(i.limitType==="F")return sE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new pc(o.field,c)}));const n=i.endAt?new Fh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Fh(i.startAt.position,i.startAt.inclusive):null;return sE(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function gp(i,e){const n=i.filters.concat([e]);return new Mo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function yp(i,e,n){return new Mo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function hd(i,e){return tg(wi(i),wi(e))&&i.limitType===e.limitType}function NT(i){return`${eg(wi(i))}|lt:${i.limitType}`}function so(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>AT(o))).join(", ")}]`),cd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>bo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>bo(o))).join(",")),`Target(${s})`})(wi(i))}; limitType=${i.limitType})`}function dd(i,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):pe.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(i,e)&&(function(s,o){for(const c of nc(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(d,p,g){const y=iE(d,p,g);return d.inclusive?y<=0:y<0})(s.startAt,nc(s),o)||s.endAt&&!(function(d,p,g){const y=iE(d,p,g);return d.inclusive?y>=0:y>0})(s.endAt,nc(s),o))})(i,e)}function CC(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function CT(i){return(e,n)=>{let s=!1;for(const o of nc(i)){const c=IC(o,e,n);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function IC(i,e,n){const s=i.field.isKeyField()?pe.comparator(e.key,n.key):(function(c,d,p){const g=d.data.field(c),y=p.data.field(c);return g!==null&&y!==null?To(g,y):Ee(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){hs(this.inner,((n,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return dT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=new lt(pe.comparator);function fr(){return DC}const IT=new lt(pe.comparator);function Xl(...i){let e=IT;for(const n of i)e=e.insert(n.key,n);return e}function DT(i){let e=IT;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Zs(){return ic()}function jT(){return ic()}function ic(){return new la((i=>i.toString()),((i,e)=>i.isEqual(e)))}const jC=new lt(pe.comparator),OC=new It(pe.comparator);function ke(...i){let e=OC;for(const n of i)e=e.add(n);return e}const MC=new It(Me);function kC(){return MC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zh(e)?"-0":e}}function OT(i){return{integerValue:""+i}}function VC(i,e){return cC(e)?OT(e):ig(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(){this._=void 0}}function PC(i,e,n){return i instanceof Hh?(function(o,c){const d={fields:{[pT]:{stringValue:mT},[yT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Zp(c)&&(c=ud(c)),c&&(d.fields[gT]=c),{mapValue:d}})(n,e):i instanceof gc?kT(i,e):i instanceof yc?VT(i,e):(function(o,c){const d=MT(o,c),p=oE(d)+oE(o.Ae);return fp(d)&&fp(o.Ae)?OT(p):ig(o.serializer,p)})(i,e)}function LC(i,e,n){return i instanceof gc?kT(i,e):i instanceof yc?VT(i,e):n}function MT(i,e){return i instanceof Gh?(function(s){return fp(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class Hh extends fd{}class gc extends fd{constructor(e){super(),this.elements=e}}function kT(i,e){const n=PT(e);for(const s of i.elements)n.some((o=>Ni(o,s)))||n.push(s);return{arrayValue:{values:n}}}class yc extends fd{constructor(e){super(),this.elements=e}}function VT(i,e){let n=PT(e);for(const s of i.elements)n=n.filter((o=>!Ni(o,s)));return{arrayValue:{values:n}}}class Gh extends fd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function oE(i){return pt(i.integerValue||i.doubleValue)}function PT(i){return Jp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function UC(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof gc&&o instanceof gc||s instanceof yc&&o instanceof yc?Eo(s.elements,o.elements,Ni):s instanceof Gh&&o instanceof Gh?Ni(s.Ae,o.Ae):s instanceof Hh&&o instanceof Hh})(i.transform,e.transform)}class zC{constructor(e,n){this.version=e,this.transformResults=n}}class Un{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Un}static exists(e){return new Un(void 0,e)}static updateTime(e){return new Un(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class md{}function LT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new rg(i.key,Un.none()):new jc(i.key,i.data,Un.none());{const n=i.data,s=hn.empty();let o=new It(Gt.comparator);for(let c of e.fields)if(!o.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new ds(i.key,s,new Tn(o.toArray()),Un.none())}}function BC(i,e,n){i instanceof jc?(function(o,c,d){const p=o.value.clone(),g=cE(o.fieldTransforms,c,d.transformResults);p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(i,e,n):i instanceof ds?(function(o,c,d){if(!Nh(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=cE(o.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(UT(o)),g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(i,e,n):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function rc(i,e,n,s){return i instanceof jc?(function(c,d,p,g){if(!Nh(c.precondition,d))return p;const y=c.value.clone(),E=uE(c.fieldTransforms,g,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(i,e,n,s):i instanceof ds?(function(c,d,p,g){if(!Nh(c.precondition,d))return p;const y=uE(c.fieldTransforms,g,d),E=d.data;return E.setAll(UT(c)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(i,e,n,s):(function(c,d,p){return Nh(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(i,e,n)}function qC(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),c=MT(s.transform,o||null);c!=null&&(n===null&&(n=hn.empty()),n.set(s.field,c))}return n||null}function lE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Eo(s,o,((c,d)=>UC(c,d)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class jc extends md{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ds extends md{constructor(e,n,s,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function UT(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function cE(i,e,n){const s=new Map;Ge(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const c=i[o],d=c.transform,p=e.data.field(c.field);s.set(c.field,LC(d,p,n[o]))}return s}function uE(i,e,n){const s=new Map;for(const o of i){const c=o.transform,d=n.data.field(o.field);s.set(o.field,PC(c,d,e))}return s}class rg extends md{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FC extends md{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&BC(c,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=rc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=rc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=jT();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=n.has(o.key)?null:p;const g=LT(d,p);g!==null&&s.set(o.key,g),d.isValidDocument()||d.convertToNoDocument(Se.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ke())}isEqual(e){return this.batchId===e.batchId&&Eo(this.mutations,e.mutations,((n,s)=>lE(n,s)))&&Eo(this.baseMutations,e.baseMutations,((n,s)=>lE(n,s)))}}class sg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ge(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return jC})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new sg(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,Ue;function $C(i){switch(i){case ee.OK:return Ee(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ee(15467,{code:i})}}function zT(i){if(i===void 0)return dr("GRPC error has no .code"),ee.UNKNOWN;switch(i){case Tt.OK:return ee.OK;case Tt.CANCELLED:return ee.CANCELLED;case Tt.UNKNOWN:return ee.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return ee.INTERNAL;case Tt.UNAVAILABLE:return ee.UNAVAILABLE;case Tt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Tt.NOT_FOUND:return ee.NOT_FOUND;case Tt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Tt.ABORTED:return ee.ABORTED;case Tt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Tt.DATA_LOSS:return ee.DATA_LOSS;default:return Ee(39323,{code:i})}}(Ue=Tt||(Tt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC=new ts([4294967295,4294967295],0);function hE(i){const e=KC().encode(i),n=new tT;return n.update(e),new Uint8Array(n.digest())}function dE(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ts([n,s],0),new ts([o,c],0)]}class ag{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Wl(`Invalid padding: ${n}`);if(s<0)throw new Wl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Wl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Wl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ts.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ts.fromNumber(s)));return o.compare(YC)===1&&(o=new ts([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=hE(e),[s,o]=dE(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);if(!this.we(d))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new ag(c,o,n);return s.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const n=hE(e),[s,o]=dE(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);this.Se(d)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,n,s,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Oc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new pd(Se.min(),o,new lt(Me),fr(),ke())}}class Oc{constructor(e,n,s,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Oc(s,n,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class BT{constructor(e,n){this.targetId=e,this.Ce=n}}class qT{constructor(e,n,s=Qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class fE{constructor(){this.ve=0,this.Fe=mE(),this.Me=Qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),n=ke(),s=ke();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:c})}})),new Oc(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=mE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class XC{constructor(e){this.Ge=e,this.ze=new Map,this.je=fr(),this.Je=fh(),this.He=fh(),this.Ye=new lt(Me)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(pp(c))if(s===0){const d=new pe(c.path);this.et(n,d,Zt.newNoDocument(d,Se.min()))}else Ge(s===1,20013,{expectedCount:s});else{const d=this._t(n);if(d!==s){const p=this.ut(e),g=p?this.ct(p,e,d):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=n;let d,p;try{d=ss(s).toUint8Array()}catch(g){if(g instanceof fT)return _o("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new ag(d,o,c)}catch(g){return _o(g instanceof Wl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&pp(p.target)){const g=new pe(p.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,Zt.newNoDocument(g,e))}c.Be&&(n.set(d,c.ke()),c.qe())}}));let s=ke();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new pd(e,n,this.Ye,this.je,s);return this.je=fr(),this.Je=fh(),this.He=fh(),this.Ye=new lt(Me),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new fE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new It(Me),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new It(Me),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new fE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function fh(){return new lt(pe.comparator)}function mE(){return new lt(pe.comparator)}const WC={asc:"ASCENDING",desc:"DESCENDING"},ZC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JC={and:"AND",or:"OR"};class eI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function vp(i,e){return i.useProto3Json||cd(e)?e:{value:e}}function Qh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function tI(i,e){return Qh(i,e.toTimestamp())}function Ai(i){return Ge(!!i,49232),Se.fromTimestamp((function(n){const s=rs(n);return new Be(s.seconds,s.nanos)})(i))}function og(i,e){return _p(i,e).canonicalString()}function _p(i,e){const n=(function(o){return new nt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function HT(i){const e=nt.fromString(i);return Ge(YT(e),10190,{key:e.toString()}),e}function Ep(i,e){return og(i.databaseId,e.path)}function Qm(i,e){const n=HT(e);if(n.get(1)!==i.databaseId.projectId)throw new ue(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ue(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new pe(QT(n))}function GT(i,e){return og(i.databaseId,e)}function nI(i){const e=HT(i);return e.length===4?nt.emptyPath():QT(e)}function Tp(i){return new nt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function QT(i){return Ge(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function pE(i,e,n){return{name:Ep(i,e),fields:n.value.mapValue.fields}}function iI(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ee(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,E){return y.useProto3Json?(Ge(E===void 0||typeof E=="string",58123),Qt.fromBase64String(E||"")):(Ge(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Qt.fromUint8Array(E||new Uint8Array))})(i,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const E=y.code===void 0?ee.UNKNOWN:zT(y.code);return new ue(E,y.message||"")})(d);n=new qT(s,o,c,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Qm(i,s.document.name),c=Ai(s.document.updateTime),d=s.document.createTime?Ai(s.document.createTime):Se.min(),p=new hn({mapValue:{fields:s.document.fields}}),g=Zt.newFoundDocument(o,c,d,p),y=s.targetIds||[],E=s.removedTargetIds||[];n=new Ch(y,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Qm(i,s.document),c=s.readTime?Ai(s.readTime):Se.min(),d=Zt.newNoDocument(o,c),p=s.removedTargetIds||[];n=new Ch([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Qm(i,s.document),c=s.removedTargetIds||[];n=new Ch([],c,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new QC(o,c),p=s.targetId;n=new BT(p,d)}}return n}function rI(i,e){let n;if(e instanceof jc)n={update:pE(i,e.key,e.value)};else if(e instanceof rg)n={delete:Ep(i,e.key)};else if(e instanceof ds)n={update:pE(i,e.key,e.data),updateMask:fI(e.fieldMask)};else{if(!(e instanceof FC))return Ee(16599,{Vt:e.type});n={verify:Ep(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(c,d){const p=d.transform;if(p instanceof Hh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof gc)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof yc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Gh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Ee(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:tI(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ee(27497)})(i,e.precondition)),n}function sI(i,e){return i&&i.length>0?(Ge(e!==void 0,14353),i.map((n=>(function(o,c){let d=o.updateTime?Ai(o.updateTime):Ai(c);return d.isEqual(Se.min())&&(d=Ai(c)),new zC(d,o.transformResults||[])})(n,e)))):[]}function aI(i,e){return{documents:[GT(i,e.path)]}}function oI(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=GT(i,o);const c=(function(y){if(y.length!==0)return KT(Jn.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((E=>(function(w){return{field:ao(w.field),direction:uI(w.dir)}})(E)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const p=vp(i,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function lI(i){let e=nI(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ge(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];n.where&&(c=(function(b){const w=$T(b);return w instanceof Jn&&ST(w)?w.getFilters():[w]})(n.where));let d=[];n.orderBy&&(d=(function(b){return b.map((w=>(function(q){return new pc(oo(q.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(q.direction))})(w)))})(n.orderBy));let p=null;n.limit&&(p=(function(b){let w;return w=typeof b=="object"?b.value:b,cd(w)?null:w})(n.limit));let g=null;n.startAt&&(g=(function(b){const w=!!b.before,D=b.values||[];return new Fh(D,w)})(n.startAt));let y=null;return n.endAt&&(y=(function(b){const w=!b.before,D=b.values||[];return new Fh(D,w)})(n.endAt)),RC(e,o,d,c,p,"F",g,y)}function cI(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function $T(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=oo(n.unaryFilter.field);return bt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=oo(n.unaryFilter.field);return bt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=oo(n.unaryFilter.field);return bt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=oo(n.unaryFilter.field);return bt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(i):i.fieldFilter!==void 0?(function(n){return bt.create(oo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return Jn.create(n.compositeFilter.filters.map((s=>$T(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(i):Ee(30097,{filter:i})}function uI(i){return WC[i]}function hI(i){return ZC[i]}function dI(i){return JC[i]}function ao(i){return{fieldPath:i.canonicalString()}}function oo(i){return Gt.fromServerFormat(i.fieldPath)}function KT(i){return i instanceof bt?(function(n){if(n.op==="=="){if(nE(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NAN"}};if(tE(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(nE(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NAN"}};if(tE(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ao(n.field),op:hI(n.op),value:n.value}}})(i):i instanceof Jn?(function(n){const s=n.getFilters().map((o=>KT(o)));return s.length===1?s[0]:{compositeFilter:{op:dI(n.op),filters:s}}})(i):Ee(54877,{filter:i})}function fI(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function YT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,n,s,o,c=Se.min(),d=Se.min(),p=Qt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new Xr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e){this.yt=e}}function pI(i){const e=lI({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?yp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(){this.Cn=new yI}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(is.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(is.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class yI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new It(nt.comparator),c=!o.has(s);return this.index[n]=o.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new It(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},XT=41943040;class un{static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(XT,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new So(0)}static cr(){return new So(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="LruGarbageCollector",vI=1048576;function vE([i,e],[n,s]){const o=Me(i,n);return o===0?Me(e,s):o}class _I{constructor(e){this.Ir=e,this.buffer=new It(vE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();vE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class EI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(yE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Oo(n)?he(yE,"Ignoring IndexedDB error during garbage collection: ",n):await jo(n)}await this.Vr(3e5)}))}}class TI{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(ld.ce);const s=new _I(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(gE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,c,d,p,g,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,d=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,p=Date.now(),this.removeTargets(e,s,n)))).next((b=>(c=b,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(y=Date.now(),ro()<=Oe.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${b} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:b}))))}}function bI(i,e){return new TI(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(){this.changes=new la((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&rc(s.mutation,o,Tn.empty(),Be.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,ke()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=ke()){const o=Zs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((c=>{let d=Xl();return c.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const s=Zs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,ke())))}populateOverlays(e,n,s){const o=[];return s.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,p)=>{n.set(d,p)}))}))}computeViews(e,n,s,o){let c=fr();const d=ic(),p=(function(){return ic()})();return n.forEach(((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof ds)?c=c.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),rc(E.mutation,y,E.mutation.getFieldMask(),Be.now())):d.set(y.key,Tn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,E)=>d.set(y,E))),n.forEach(((y,E)=>p.set(y,new wI(E,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const s=ic();let o=new lt(((d,p)=>d-p)),c=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const p of d)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let E=s.get(g)||Tn.empty();E=p.applyToLocalView(y,E),s.set(g,E);const b=(o.get(p.batchId)||ke()).add(g);o=o.insert(p.batchId,b)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,E=g.value,b=jT();E.forEach((w=>{if(!c.has(w)){const D=LT(n.get(w),s.get(w));D!==null&&b.set(w,D),c=c.add(w)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,b))}return ne.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(d){return pe.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):RT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-c.size):ne.resolve(Zs());let p=hc,g=c;return d.next((y=>ne.forEach(y,((E,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),c.get(E)?ne.resolve():this.remoteDocumentCache.getEntry(e,E).next((w=>{g=g.insert(E,w)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,ke()))).next((E=>({batchId:p,changes:DT(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next((s=>{let o=Xl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const c=n.collectionGroup;let d=Xl();return this.indexManager.getCollectionParents(e,c).next((p=>ne.forEach(p,(g=>{const y=(function(b,w){return new Mo(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((E=>{E.forEach(((b,w)=>{d=d.insert(b,w)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,o)))).next((d=>{c.forEach(((g,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,Zt.newInvalidDocument(E)))}));let p=Xl();return d.forEach(((g,y)=>{const E=c.get(g);E!==void 0&&rc(E.mutation,y,Tn.empty(),Be.now()),dd(n,y)&&(p=p.insert(g,y))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ai(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:pI(o.bundledQuery),readTime:Ai(o.readTime)}})(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(){this.overlays=new lt(pe.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Zs();return ne.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,c)=>{this.St(e,n,c)})),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=Zs(),c=n.length+1,d=new pe(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>s&&o.set(g.getKey(),g)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let c=new lt(((y,E)=>y-E));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=c.get(y.largestBatchId);E===null&&(E=Zs(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const p=Zs(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,E)=>p.set(y,E))),!(p.size()>=o)););return ne.resolve(p)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new GC(n,s));let c=this.qr.get(n);c===void 0&&(c=ke(),this.qr.set(n,c)),this.qr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(){this.Qr=new It(Pt.$r),this.Ur=new It(Pt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Pt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Pt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new pe(new nt([])),s=new Pt(n,e),o=new Pt(n,e+1),c=[];return this.Ur.forEachInRange([s,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new pe(new nt([])),s=new Pt(n,e),o=new Pt(n,e+1);let c=ke();return this.Ur.forEachInRange([s,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const n=new Pt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Pt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return pe.comparator(e.key,n.key)||Me(e.Yr,n.Yr)}static Kr(e,n){return Me(e.Yr,n.Yr)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new It(Pt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new HC(c,n,s,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new Pt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ne.resolve(d)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),c=o<0?0:o;return ne.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Wp:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Pt(n,0),o=new Pt(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],(d=>{const p=this.Xr(d.Yr);c.push(p)})),ne.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new It(Me);return n.forEach((o=>{const c=new Pt(o,0),d=new Pt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{s=s.add(p.Yr)}))})),ne.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let c=s;pe.isDocumentKey(c)||(c=c.child(""));const d=new Pt(new pe(c),0);let p=new It(Me);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Yr)),!0)}),d),ne.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ge(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ne.forEach(n.mutations,(o=>{const c=new Pt(o.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Pt(n,0),o=this.Zr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e){this.ri=e,this.docs=(function(){return new lt(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),c=o?o.size:0,d=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let s=fr();return n.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():Zt.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let c=fr();const d=n.path,p=new pe(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||sC(rC(E),s)<=0||(o.has(E.key)||dd(n,E))&&(c=c.insert(E.key,E.mutableCopy()))}return ne.resolve(c)}getAllFromCollectionGroup(e,n,s,o){Ee(9500)}ii(e,n){return ne.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new DI(this)}getSize(e){return ne.resolve(this.size)}}class DI extends SI{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e){this.persistence=e,this.si=new la((n=>eg(n)),tg),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new lg,this.targetCount=0,this.ai=So.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new So(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),ne.waitFor(c).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),ne.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,n){this.ui={},this.overlays={},this.ci=new ld(0),this.li=!1,this.li=!0,this.hi=new NI,this.referenceDelegate=e(this),this.Pi=new jI(this),this.indexManager=new gI,this.remoteDocumentCache=(function(o){return new II(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new mI(n),this.Ii=new xI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new RI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new CI(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){he("MemoryPersistence","Starting transaction:",e);const o=new OI(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,n){return ne.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class OI extends oC{constructor(e){super(),this.currentSequenceNumber=e}}class cg{constructor(e){this.persistence=e,this.Ri=new lg,this.Vi=null}static mi(e){return new cg(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(s=>{const o=pe.fromPath(s);return this.gi(e,o).next((c=>{c||n.removeEntry(o,Se.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class $h{constructor(e,n){this.persistence=e,this.pi=new la((s=>uC(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=bI(this,n)}static mi(e,n){return new $h(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ne.forEach(this.pi,((s,o)=>this.br(e,s,o).next((c=>c?ne.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,n).next((p=>{p||(s++,c.removeEntry(d,Se.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=xh(e.data.value)),n}br(e,n,s){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=ke(),o=ke();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new ug(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return h2()?8:lC(en())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const c={result:null};return this.ys(e,n).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,n,o,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new MI;return this.Ss(e,n,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,n,d,p.size)}))})).next((()=>c.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(ro()<=Oe.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",so(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(ro()<=Oe.DEBUG&&he("QueryEngine","Query:",so(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(ro()<=Oe.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",so(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wi(n))):ne.resolve())}ys(e,n){if(aE(n))return ne.resolve(null);let s=wi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=yp(n,null,"F"),s=wi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const d=ke(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,s).next((g=>{const y=this.Ds(n,p);return this.Cs(n,y,d,g.readTime)?this.ys(e,yp(n,null,"F")):this.vs(e,y,n,g)}))))})))))}ws(e,n,s,o){return aE(n)||o.isEqual(Se.min())?ne.resolve(null):this.ps.getDocuments(e,s).next((c=>{const d=this.Ds(n,c);return this.Cs(n,d,s,o)?ne.resolve(null):(ro()<=Oe.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),so(n)),this.vs(e,d,n,iC(o,hc)).next((p=>p)))}))}Ds(e,n){let s=new It(CT(e));return n.forEach(((o,c)=>{dd(e,c)&&(s=s.add(c))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,n,s){return ro()<=Oe.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",so(n)),this.ps.getDocumentsMatchingQuery(e,n,is.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((c=>(n.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg="LocalStore",VI=3e8;class PI{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new lt(Me),this.xs=new la((c=>eg(c)),tg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new AI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function LI(i,e,n,s){return new PI(i,e,n,s)}async function ZT(i,e){const n=we(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],p=[];let g=ke();for(const y of o){d.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of c){p.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function UI(i,e){const n=we(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,E){const b=y.batch,w=b.keys();let D=ne.resolve();return w.forEach((q=>{D=D.next((()=>E.getEntry(g,q))).next((Q=>{const V=y.docVersions.get(q);Ge(V!==null,48541),Q.version.compareTo(V)<0&&(b.applyToRemoteDocument(Q,y),Q.isValidDocument()&&(Q.setReadTime(y.commitVersion),E.addEntry(Q)))}))})),D.next((()=>p.mutationQueue.removeMutationBatch(g,b)))})(n,s,e,c).next((()=>c.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let g=ke();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function JT(i){const e=we(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function zI(i,e){const n=we(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const p=[];e.targetChanges.forEach(((E,b)=>{const w=o.get(b);if(!w)return;p.push(n.Pi.removeMatchingKeys(c,E.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(c,E.addedDocuments,b))));let D=w.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(b)!==null?D=D.withResumeToken(Qt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):E.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(E.resumeToken,s)),o=o.insert(b,D),(function(Q,V,F){return Q.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=VI?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(w,D,E)&&p.push(n.Pi.updateTargetData(c,D))}));let g=fr(),y=ke();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,E))})),p.push(BI(c,d,e.documentUpdates).next((E=>{g=E.ks,y=E.qs}))),!s.isEqual(Se.min())){const E=n.Pi.getLastRemoteSnapshotVersion(c).next((b=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));p.push(E)}return ne.waitFor(p).next((()=>d.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(n.Ms=o,c)))}function BI(i,e,n){let s=ke(),o=ke();return n.forEach((c=>s=s.add(c))),e.getEntries(i,s).next((c=>{let d=fr();return n.forEach(((p,g)=>{const y=c.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(Se.min())?(e.removeEntry(p,g.readTime),d=d.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),d=d.insert(p,g)):he(hg,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:d,qs:o}}))}function qI(i,e){const n=we(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Wp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function FI(i,e){const n=we(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((c=>c?(o=c,ne.resolve(o)):n.Pi.allocateTargetId(s).next((d=>(o=new Xr(e,d,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function bp(i,e,n){const s=we(i),o=s.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Oo(d))throw d;he(hg,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function _E(i,e,n){const s=we(i);let o=Se.min(),c=ke();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,y,E){const b=we(g),w=b.xs.get(E);return w!==void 0?ne.resolve(b.Ms.get(w)):b.Pi.getTargetData(y,E)})(s,d,wi(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,p.targetId).next((g=>{c=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,n?o:Se.min(),n?c:ke()))).next((p=>(HI(s,CC(e),p),{documents:p,Qs:c})))))}function HI(i,e,n){let s=i.Os.get(e)||Se.min();n.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),i.Os.set(e,s)}class EE{constructor(){this.activeTargetIds=kC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GI{constructor(){this.Mo=new EE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new EE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="ConnectivityMonitor";class bE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(TE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(TE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mh=null;function Sp(){return mh===null?mh=(function(){return 268435456+Math.round(2147483648*Math.random())})():mh++,"0x"+mh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m="RestConnection",$I={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class KI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Bh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,c){const d=Sp(),p=this.zo(e,n.toUriEncodedString());he($m,`Sending RPC '${e}' ${d}:`,p,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,c);const{host:y}=new URL(p),E=No(y);return this.Jo(e,p,g,s,E).then((b=>(he($m,`Received RPC '${e}' ${d}: `,b),b)),(b=>{throw _o($m,`RPC '${e}' ${d} failed with error: `,b,"url: ",p,"request:",s),b}))}Ho(e,n,s,o,c,d){return this.Go(e,n,s,o,c)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Do})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}zo(e,n){const s=$I[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class XI extends KI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,c){const d=Sp();return new Promise(((p,g)=>{const y=new nT;y.setWithCredentials(!0),y.listenOnce(iT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Ah.NO_ERROR:const b=y.getResponseJson();he(Xt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(b)),p(b);break;case Ah.TIMEOUT:he(Xt,`RPC '${e}' ${d} timed out`),g(new ue(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Ah.HTTP_ERROR:const w=y.getStatus();if(he(Xt,`RPC '${e}' ${d} failed with status:`,w,"response text:",y.getResponseText()),w>0){let D=y.getResponseJson();Array.isArray(D)&&(D=D[0]);const q=D?.error;if(q&&q.status&&q.message){const Q=(function(F){const j=F.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(j)>=0?j:ee.UNKNOWN})(q.status);g(new ue(Q,q.message))}else g(new ue(ee.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ue(ee.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{he(Xt,`RPC '${e}' ${d} completed.`)}}));const E=JSON.stringify(o);he(Xt,`RPC '${e}' ${d} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=Sp(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=aT(),p=sT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=c.join("");he(Xt,`Creating RPC '${e}' stream ${o}: ${E}`,g);const b=d.createWebChannel(E,g);this.I_(b);let w=!1,D=!1;const q=new YI({Yo:V=>{D?he(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,V):(w||(he(Xt,`Opening RPC '${e}' stream ${o} transport.`),b.open(),w=!0),he(Xt,`RPC '${e}' stream ${o} sending:`,V),b.send(V))},Zo:()=>b.close()}),Q=(V,F,j)=>{V.listen(F,(L=>{try{j(L)}catch(ae){setTimeout((()=>{throw ae}),0)}}))};return Q(b,Yl.EventType.OPEN,(()=>{D||(he(Xt,`RPC '${e}' stream ${o} transport opened.`),q.o_())})),Q(b,Yl.EventType.CLOSE,(()=>{D||(D=!0,he(Xt,`RPC '${e}' stream ${o} transport closed`),q.a_(),this.E_(b))})),Q(b,Yl.EventType.ERROR,(V=>{D||(D=!0,_o(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,V.name,"Message:",V.message),q.a_(new ue(ee.UNAVAILABLE,"The operation could not be completed")))})),Q(b,Yl.EventType.MESSAGE,(V=>{if(!D){const F=V.data[0];Ge(!!F,16349);const j=F,L=j?.error||j[0]?.error;if(L){he(Xt,`RPC '${e}' stream ${o} received error:`,L);const ae=L.status;let ce=(function(x){const R=Tt[x];if(R!==void 0)return zT(R)})(ae),Ae=L.message;ce===void 0&&(ce=ee.INTERNAL,Ae="Unknown error status: "+ae+" with message "+L.message),D=!0,q.a_(new ue(ce,Ae)),b.close()}else he(Xt,`RPC '${e}' stream ${o} received:`,F),q.u_(F)}})),Q(p,rT.STAT_EVENT,(V=>{V.stat===up.PROXY?he(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):V.stat===up.NOPROXY&&he(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{q.__()}),0),q}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Km(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(i){return new eI(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,n,s=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="PersistentStream";class tb{constructor(e,n,s,o,c,d,p,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new eb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(dr(n.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ue(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(SE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(he(SE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class WI extends tb{constructor(e,n,s,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,d),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=iI(this.serializer,e),s=(function(c){if(!("targetChange"in c))return Se.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Se.min():d.readTime?Ai(d.readTime):Se.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Tp(this.serializer),n.addTarget=(function(c,d){let p;const g=d.target;if(p=pp(g)?{documents:aI(c,g)}:{query:oI(c,g).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=FT(c,d.resumeToken);const y=vp(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(Se.min())>0){p.readTime=Qh(c,d.snapshotVersion.toTimestamp());const y=vp(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const s=cI(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Tp(this.serializer),n.removeTarget=e,this.q_(n)}}class ZI extends tb{constructor(e,n,s,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=sI(e.writeResults,e.commitTime),s=Ai(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Tp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>rI(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{}class eD extends JI{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ue(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,_p(n,s),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ue(ee.UNKNOWN,c.toString())}))}Ho(e,n,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,_p(n,s),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ue(ee.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class tD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(dr(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="RemoteStore";class nD{constructor(e,n,s,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{ca(this)&&(he(sa,"Restarting streams for network reachability change."),await(async function(g){const y=we(g);y.Ea.add(4),await Mc(y),y.Ra.set("Unknown"),y.Ea.delete(4),await yd(y)})(this))}))})),this.Ra=new tD(s,o)}}async function yd(i){if(ca(i))for(const e of i.da)await e(!0)}async function Mc(i){for(const e of i.da)await e(!1)}function nb(i,e){const n=we(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),pg(n)?mg(n):ko(n).O_()&&fg(n,e))}function dg(i,e){const n=we(i),s=ko(n);n.Ia.delete(e),s.O_()&&ib(n,e),n.Ia.size===0&&(s.O_()?s.L_():ca(n)&&n.Ra.set("Unknown"))}function fg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ko(i).Y_(e)}function ib(i,e){i.Va.Ue(e),ko(i).Z_(e)}function mg(i){i.Va=new XC({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),ko(i).start(),i.Ra.ua()}function pg(i){return ca(i)&&!ko(i).x_()&&i.Ia.size>0}function ca(i){return we(i).Ea.size===0}function rb(i){i.Va=void 0}async function iD(i){i.Ra.set("Online")}async function rD(i){i.Ia.forEach(((e,n)=>{fg(i,e)}))}async function sD(i,e){rb(i),pg(i)?(i.Ra.ha(e),mg(i)):i.Ra.set("Unknown")}async function aD(i,e,n){if(i.Ra.set("Online"),e instanceof qT&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(i,e)}catch(s){he(sa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Kh(i,s)}else if(e instanceof Ch?i.Va.Ze(e):e instanceof BT?i.Va.st(e):i.Va.tt(e),!n.isEqual(Se.min()))try{const s=await JT(i.localStore);n.compareTo(s)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=c.Ia.get(y);E&&c.Ia.set(y,E.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,y)=>{const E=c.Ia.get(g);if(!E)return;c.Ia.set(g,E.withResumeToken(Qt.EMPTY_BYTE_STRING,E.snapshotVersion)),ib(c,g);const b=new Xr(E.target,g,y,E.sequenceNumber);fg(c,b)})),c.remoteSyncer.applyRemoteEvent(p)})(i,n)}catch(s){he(sa,"Failed to raise snapshot:",s),await Kh(i,s)}}async function Kh(i,e,n){if(!Oo(e))throw e;i.Ea.add(1),await Mc(i),i.Ra.set("Offline"),n||(n=()=>JT(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{he(sa,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await yd(i)}))}function sb(i,e){return e().catch((n=>Kh(i,n,e)))}async function vd(i){const e=we(i),n=os(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Wp;for(;oD(e);)try{const o=await qI(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,lD(e,o)}catch(o){await Kh(e,o)}ab(e)&&ob(e)}function oD(i){return ca(i)&&i.Ta.length<10}function lD(i,e){i.Ta.push(e);const n=os(i);n.O_()&&n.X_&&n.ea(e.mutations)}function ab(i){return ca(i)&&!os(i).x_()&&i.Ta.length>0}function ob(i){os(i).start()}async function cD(i){os(i).ra()}async function uD(i){const e=os(i);for(const n of i.Ta)e.ea(n.mutations)}async function hD(i,e,n){const s=i.Ta.shift(),o=sg.from(s,e,n);await sb(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await vd(i)}async function dD(i,e){e&&os(i).X_&&await(async function(s,o){if((function(d){return $C(d)&&d!==ee.ABORTED})(o.code)){const c=s.Ta.shift();os(s).B_(),await sb(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await vd(s)}})(i,e),ab(i)&&ob(i)}async function wE(i,e){const n=we(i);n.asyncQueue.verifyOperationInProgress(),he(sa,"RemoteStore received new credentials");const s=ca(n);n.Ea.add(3),await Mc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await yd(n)}async function fD(i,e){const n=we(i);e?(n.Ea.delete(2),await yd(n)):e||(n.Ea.add(2),await Mc(n),n.Ra.set("Unknown"))}function ko(i){return i.ma||(i.ma=(function(n,s,o){const c=we(n);return c.sa(),new WI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Xo:iD.bind(null,i),t_:rD.bind(null,i),r_:sD.bind(null,i),H_:aD.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),pg(i)?mg(i):i.Ra.set("Unknown")):(await i.ma.stop(),rb(i))}))),i.ma}function os(i){return i.fa||(i.fa=(function(n,s,o){const c=we(n);return c.sa(),new ZI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:cD.bind(null,i),r_:dD.bind(null,i),ta:uD.bind(null,i),na:hD.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await vd(i)):(await i.fa.stop(),i.Ta.length>0&&(he(sa,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,n,s,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,c){const d=Date.now()+s,p=new gg(e,n,d,o,c);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yg(i,e){if(dr("AsyncQueue",`${e}: ${i}`),Oo(i))return new ue(ee.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{static emptySet(e){return new fo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||pe.comparator(n.key,s.key):(n,s)=>pe.comparator(n.key,s.key),this.keyedMap=Xl(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new fo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(){this.ga=new lt(pe.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class wo{constructor(e,n,s,o,c,d,p,g,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,c){const d=[];return n.forEach((p=>{d.push({type:0,doc:p})})),new wo(e,n,fo.emptySet(n),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class pD{constructor(){this.queries=xE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=we(n),c=o.queries;o.queries=xE(),c.forEach(((d,p)=>{for(const g of p.Sa)g.onError(s)}))})(this,new ue(ee.ABORTED,"Firestore shutting down"))}}function xE(){return new la((i=>NT(i)),hd)}async function lb(i,e){const n=we(i);let s=3;const o=e.query;let c=n.queries.get(o);c?!c.ba()&&e.Da()&&(s=2):(c=new mD,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const p=yg(d,`Initialization of query '${so(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&vg(n)}async function cb(i,e){const n=we(i),s=e.query;let o=3;const c=n.queries.get(s);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function gD(i,e){const n=we(i);let s=!1;for(const o of e){const c=o.query,d=n.queries.get(c);if(d){for(const p of d.Sa)p.Fa(o)&&(s=!0);d.wa=o}}s&&vg(n)}function yD(i,e,n){const s=we(i),o=s.queries.get(e);if(o)for(const c of o.Sa)c.onError(n);s.queries.delete(e)}function vg(i){i.Ca.forEach((e=>{e.next()}))}var wp,RE;(RE=wp||(wp={})).Ma="default",RE.Cache="cache";class ub{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new wo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=wo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==wp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e){this.key=e}}class db{constructor(e){this.key=e}}class vD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ke(),this.mutatedKeys=ke(),this.eu=CT(e),this.tu=new fo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new AE,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,d=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,b)=>{const w=o.get(E),D=dd(this.query,b)?b:null,q=!!w&&this.mutatedKeys.has(w.key),Q=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let V=!1;w&&D?w.data.isEqual(D.data)?q!==Q&&(s.track({type:3,doc:D}),V=!0):this.su(w,D)||(s.track({type:2,doc:D}),V=!0,(g&&this.eu(D,g)>0||y&&this.eu(D,y)<0)&&(p=!0)):!w&&D?(s.track({type:0,doc:D}),V=!0):w&&!D&&(s.track({type:1,doc:w}),V=!0,(g||y)&&(p=!0)),V&&(D?(d=d.add(D),c=Q?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{tu:d,iu:s,Cs:p,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((E,b)=>(function(D,q){const Q=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:V})}};return Q(D)-Q(q)})(E.type,b.type)||this.eu(E.doc,b.doc))),this.ou(s),o=o??!1;const p=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,d.length!==0||y?{snapshot:new wo(this.query,e.tu,c,d,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new AE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ke(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new db(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new hb(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return wo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const _g="SyncEngine";class _D{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class ED{constructor(e){this.key=e,this.hu=!1}}class TD{constructor(e,n,s,o,c,d){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new la((p=>NT(p)),hd),this.Iu=new Map,this.Eu=new Set,this.du=new lt(pe.comparator),this.Au=new Map,this.Ru=new lg,this.Vu={},this.mu=new Map,this.fu=So.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function bD(i,e,n=!0){const s=vb(i);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await fb(s,e,n,!0),o}async function SD(i,e){const n=vb(i);await fb(n,e,!0,!1)}async function fb(i,e,n,s){const o=await FI(i.localStore,wi(e)),c=o.targetId,d=i.sharedClientState.addLocalQueryTarget(c,n);let p;return s&&(p=await wD(i,e,c,d==="current",o.resumeToken)),i.isPrimaryClient&&n&&nb(i.remoteStore,o),p}async function wD(i,e,n,s,o){i.pu=(b,w,D)=>(async function(Q,V,F,j){let L=V.view.ru(F);L.Cs&&(L=await _E(Q.localStore,V.query,!1).then((({documents:P})=>V.view.ru(P,L))));const ae=j&&j.targetChanges.get(V.targetId),ce=j&&j.targetMismatches.get(V.targetId)!=null,Ae=V.view.applyChanges(L,Q.isPrimaryClient,ae,ce);return CE(Q,V.targetId,Ae.au),Ae.snapshot})(i,b,w,D);const c=await _E(i.localStore,e,!0),d=new vD(e,c.Qs),p=d.ru(c.documents),g=Oc.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),y=d.applyChanges(p,i.isPrimaryClient,g);CE(i,n,y.au);const E=new _D(e,n,d);return i.Tu.set(e,E),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),y.snapshot}async function AD(i,e,n){const s=we(i),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((d=>!hd(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await bp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&dg(s.remoteStore,o.targetId),Ap(s,o.targetId)})).catch(jo)):(Ap(s,o.targetId),await bp(s.localStore,o.targetId,!0))}async function xD(i,e){const n=we(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),dg(n.remoteStore,s.targetId))}async function RD(i,e,n){const s=MD(i);try{const o=await(function(d,p){const g=we(d),y=Be.now(),E=p.reduce(((D,q)=>D.add(q.key)),ke());let b,w;return g.persistence.runTransaction("Locally write mutations","readwrite",(D=>{let q=fr(),Q=ke();return g.Ns.getEntries(D,E).next((V=>{q=V,q.forEach(((F,j)=>{j.isValidDocument()||(Q=Q.add(F))}))})).next((()=>g.localDocuments.getOverlayedDocuments(D,q))).next((V=>{b=V;const F=[];for(const j of p){const L=qC(j,b.get(j.key).overlayedDocument);L!=null&&F.push(new ds(j.key,L,ET(L.value.mapValue),Un.exists(!0)))}return g.mutationQueue.addMutationBatch(D,y,F,p)})).next((V=>{w=V;const F=V.applyToLocalDocumentSet(b,Q);return g.documentOverlayCache.saveOverlays(D,V.batchId,F)}))})).then((()=>({batchId:w.batchId,changes:DT(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,p,g){let y=d.Vu[d.currentUser.toKey()];y||(y=new lt(Me)),y=y.insert(p,g),d.Vu[d.currentUser.toKey()]=y})(s,o.batchId,n),await kc(s,o.changes),await vd(s.remoteStore)}catch(o){const c=yg(o,"Failed to persist write");n.reject(c)}}async function mb(i,e){const n=we(i);try{const s=await zI(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=n.Au.get(c);d&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ge(d.hu,14607):o.removedDocuments.size>0&&(Ge(d.hu,42227),d.hu=!1))})),await kc(n,s,e)}catch(s){await jo(s)}}function NE(i,e,n){const s=we(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const g=we(d);g.onlineState=p;let y=!1;g.queries.forEach(((E,b)=>{for(const w of b.Sa)w.va(p)&&(y=!0)})),y&&vg(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function ND(i,e,n){const s=we(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),c=o&&o.key;if(c){let d=new lt(pe.comparator);d=d.insert(c,Zt.newNoDocument(c,Se.min()));const p=ke().add(c),g=new pd(Se.min(),new Map,new lt(Me),d,p);await mb(s,g),s.du=s.du.remove(c),s.Au.delete(e),Eg(s)}else await bp(s.localStore,e,!1).then((()=>Ap(s,e,n))).catch(jo)}async function CD(i,e){const n=we(i),s=e.batch.batchId;try{const o=await UI(n.localStore,e);gb(n,s,null),pb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await kc(n,o)}catch(o){await jo(o)}}async function ID(i,e,n){const s=we(i);try{const o=await(function(d,p){const g=we(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return g.mutationQueue.lookupMutationBatch(y,p).next((b=>(Ge(b!==null,37113),E=b.keys(),g.mutationQueue.removeMutationBatch(y,b)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>g.localDocuments.getDocuments(y,E)))}))})(s.localStore,e);gb(s,e,n),pb(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await kc(s,o)}catch(o){await jo(o)}}function pb(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function gb(i,e,n){const s=we(i);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Ap(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||yb(i,s)}))}function yb(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(dg(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),Eg(i))}function CE(i,e,n){for(const s of n)s instanceof hb?(i.Ru.addReference(s.key,e),DD(i,s)):s instanceof db?(he(_g,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||yb(i,s.key)):Ee(19791,{wu:s})}function DD(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(he(_g,"New document in limbo: "+n),i.Eu.add(s),Eg(i))}function Eg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new pe(nt.fromString(e)),s=i.fu.next();i.Au.set(s,new ED(n)),i.du=i.du.insert(n,s),nb(i.remoteStore,new Xr(wi(ng(n.path)),s,"TargetPurposeLimboResolution",ld.ce))}}async function kc(i,e,n){const s=we(i),o=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,g)=>{d.push(s.pu(g,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){o.push(y);const E=ug.As(g.targetId,y);c.push(E)}})))})),await Promise.all(d),s.Pu.H_(o),await(async function(g,y){const E=we(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ne.forEach(y,(w=>ne.forEach(w.Es,(D=>E.persistence.referenceDelegate.addReference(b,w.targetId,D))).next((()=>ne.forEach(w.ds,(D=>E.persistence.referenceDelegate.removeReference(b,w.targetId,D)))))))))}catch(b){if(!Oo(b))throw b;he(hg,"Failed to update sequence numbers: "+b)}for(const b of y){const w=b.targetId;if(!b.fromCache){const D=E.Ms.get(w),q=D.snapshotVersion,Q=D.withLastLimboFreeSnapshotVersion(q);E.Ms=E.Ms.insert(w,Q)}}})(s.localStore,c))}async function jD(i,e){const n=we(i);if(!n.currentUser.isEqual(e)){he(_g,"User change. New user:",e.toKey());const s=await ZT(n.localStore,e);n.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((g=>{g.reject(new ue(ee.CANCELLED,d))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await kc(n,s.Ls)}}function OD(i,e){const n=we(i),s=n.Au.get(e);if(s&&s.hu)return ke().add(s.key);{let o=ke();const c=n.Iu.get(e);if(!c)return o;for(const d of c){const p=n.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function vb(i){const e=we(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=mb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ND.bind(null,e),e.Pu.H_=gD.bind(null,e.eventManager),e.Pu.yu=yD.bind(null,e.eventManager),e}function MD(i){const e=we(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ID.bind(null,e),e}class Yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return LI(this.persistence,new kI,e.initialUser,this.serializer)}Cu(e){return new WT(cg.mi,this.serializer)}Du(e){return new GI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yh.provider={build:()=>new Yh};class kD extends Yh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ge(this.persistence.referenceDelegate instanceof $h,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new EI(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new WT((s=>$h.mi(s,n)),this.serializer)}}class xp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>NE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=jD.bind(null,this.syncEngine),await fD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new pD})()}createDatastore(e){const n=gd(e.databaseInfo.databaseId),s=(function(c){return new XI(c)})(e.databaseInfo);return(function(c,d,p,g){return new eD(c,d,p,g)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,c,d,p){return new nD(s,o,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>NE(this.syncEngine,n,0)),(function(){return bE.v()?new bE:new QI})())}createSyncEngine(e,n){return(function(o,c,d,p,g,y,E){const b=new TD(o,c,d,p,g,y);return E&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=we(n);he(sa,"RemoteStore shutting down."),s.Ea.add(5),await Mc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}xp.provider={build:()=>new xp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):dr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls="FirestoreClient";class VD{constructor(e,n,s,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=Xp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{he(ls,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(he(ls,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=yg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Ym(i,e){i.asyncQueue.verifyOperationInProgress(),he(ls,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await ZT(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function IE(i,e){i.asyncQueue.verifyOperationInProgress();const n=await PD(i);he(ls,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>wE(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>wE(e.remoteStore,o))),i._onlineComponents=e}async function PD(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){he(ls,"Using user provided OfflineComponentProvider");try{await Ym(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;_o("Error using user provided cache. Falling back to memory cache: "+n),await Ym(i,new Yh)}}else he(ls,"Using default OfflineComponentProvider"),await Ym(i,new kD(void 0));return i._offlineComponents}async function Eb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(he(ls,"Using user provided OnlineComponentProvider"),await IE(i,i._uninitializedComponentsProvider._online)):(he(ls,"Using default OnlineComponentProvider"),await IE(i,new xp))),i._onlineComponents}function LD(i){return Eb(i).then((e=>e.syncEngine))}async function Tb(i){const e=await Eb(i),n=e.eventManager;return n.onListen=bD.bind(null,e.syncEngine),n.onUnlisten=AD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=SD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=xD.bind(null,e.syncEngine),n}function UD(i,e,n={}){const s=new or;return i.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,g,y){const E=new _b({next:w=>{E.Nu(),d.enqueueAndForget((()=>cb(c,b)));const D=w.docs.has(p);!D&&w.fromCache?y.reject(new ue(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&w.fromCache&&g&&g.source==="server"?y.reject(new ue(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(w)},error:w=>y.reject(w)}),b=new ub(ng(p.path),E,{includeMetadataChanges:!0,qa:!0});return lb(c,b)})(await Tb(i),i.asyncQueue,e,n,s))),s.promise}function zD(i,e,n={}){const s=new or;return i.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,g,y){const E=new _b({next:w=>{E.Nu(),d.enqueueAndForget((()=>cb(c,b))),w.fromCache&&g.source==="server"?y.reject(new ue(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(w)},error:w=>y.reject(w)}),b=new ub(p,E,{includeMetadataChanges:!0,qa:!0});return lb(c,b)})(await Tb(i),i.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb="firestore.googleapis.com",jE=!0;class OE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Sb,this.ssl=jE}else this.host=e.host,this.ssl=e.ssl??jE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=XT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<vI)throw new ue(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bb(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ue(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ue(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ue(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _d{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new QN;switch(s.type){case"firstParty":return new XN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=DE.get(n);s&&(he("ComponentProvider","Removing Datastore"),DE.delete(n),s.terminate())})(this),Promise.resolve()}}function BD(i,e,n,s={}){i=Zn(i,_d);const o=No(e),c=i._getSettings(),d={...c,emulatorOptions:i._getEmulatorOptions()},p=`${e}:${n}`;o&&(f1(`https://${p}`),m1("Firestore",!0)),c.host!==Sb&&c.host!==p&&_o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:o,emulatorOptions:s};if(!ea(g,d)&&(i._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Wt.MOCK_USER;else{y=n2(s.mockUserToken,i._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ue(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Wt(b)}i._authCredentials=new $N(new lT(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ua(this.firestore,e,this._query)}}class gt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ns(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gt(this.firestore,e,this._key)}toJSON(){return{type:gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Dc(n,gt._jsonSchema))return new gt(e,s||null,new pe(nt.fromString(n.referencePath)))}}gt._jsonSchemaVersion="firestore/documentReference/1.0",gt._jsonSchema={type:St("string",gt._jsonSchemaVersion),referencePath:St("string")};class ns extends ua{constructor(e,n,s){super(e,n,ng(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gt(this.firestore,null,new pe(e))}withConverter(e){return new ns(this.firestore,e,this._path)}}function ph(i,e,...n){if(i=Lt(i),cT("collection","path",e),i instanceof _d){const s=nt.fromString(e,...n);return Q0(s),new ns(i,null,s)}{if(!(i instanceof gt||i instanceof ns))throw new ue(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(nt.fromString(e,...n));return Q0(s),new ns(i.firestore,null,s)}}function Wr(i,e,...n){if(i=Lt(i),arguments.length===1&&(e=Xp.newId()),cT("doc","path",e),i instanceof _d){const s=nt.fromString(e,...n);return G0(s),new gt(i,null,new pe(s))}{if(!(i instanceof gt||i instanceof ns))throw new ue(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(nt.fromString(e,...n));return G0(s),new gt(i.firestore,i instanceof ns?i.converter:null,new pe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="AsyncQueue";class kE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new eb(this,"async_queue_retry"),this._c=()=>{const s=Km();s&&he(ME,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Km();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Km();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new or;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Oo(e))throw e;he(ME,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,dr("INTERNAL UNHANDLED ERROR: ",VE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=gg.createAndSchedule(this,e,n,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:VE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function VE(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class ha extends _d{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new kE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kE(e),this._firestoreClient=void 0,await e}}}function qD(i,e){const n=typeof i=="object"?i:v1(),s=typeof i=="string"?i:Bh,o=zp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=e2("firestore");c&&BD(o,...c)}return o}function Tg(i){if(i._terminated)throw new ue(ee.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||FD(i),i._firestoreClient}function FD(i){const e=i._freezeSettings(),n=(function(o,c,d,p){return new fC(o,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,bb(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new VD(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pn(Qt.fromBase64String(e))}catch(n){throw new ue(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Pn(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Dc(e,Pn._jsonSchema))return Pn.fromBase64String(e.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:St("string",Pn._jsonSchemaVersion),bytes:St("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xi._jsonSchemaVersion}}static fromJSON(e){if(Dc(e,xi._jsonSchema))return new xi(e.latitude,e.longitude)}}xi._jsonSchemaVersion="firestore/geoPoint/1.0",xi._jsonSchema={type:St("string",xi._jsonSchemaVersion),latitude:St("number"),longitude:St("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Dc(e,Ri._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ri(e.vectorValues);throw new ue(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ri._jsonSchemaVersion="firestore/vectorValue/1.0",Ri._jsonSchema={type:St("string",Ri._jsonSchemaVersion),vectorValues:St("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=/^__.*__$/;class GD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ds(e,this.data,this.fieldMask,n,this.fieldTransforms):new jc(e,this.data,n,this.fieldTransforms)}}class wb{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ds(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Ab(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:i})}}class Sg{constructor(e,n,s,o,c,d){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Sg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Xh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Ab(this.Ac)&&HD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class QD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||gd(e)}Cc(e,n,s,o=!1){return new Sg({Ac:e,methodName:n,Dc:s,path:Gt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Td(i){const e=i._freezeSettings(),n=gd(i._databaseId);return new QD(i._databaseId,!!e.ignoreUndefinedProperties,n)}function xb(i,e,n,s,o,c={}){const d=i.Cc(c.merge||c.mergeFields?2:0,e,n,o);wg("Data must be an object, but it was:",d,s);const p=Rb(s,d);let g,y;if(c.merge)g=new Tn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const b of c.mergeFields){const w=Rp(e,b,n);if(!d.contains(w))throw new ue(ee.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);Cb(E,w)||E.push(w)}g=new Tn(E),y=d.fieldTransforms.filter((b=>g.covers(b.field)))}else g=null,y=d.fieldTransforms;return new GD(new hn(p),g,y)}class bd extends bg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bd}}function $D(i,e,n,s){const o=i.Cc(1,e,n);wg("Data must be an object, but it was:",o,s);const c=[],d=hn.empty();hs(s,((g,y)=>{const E=Ag(e,g,n);y=Lt(y);const b=o.yc(E);if(y instanceof bd)c.push(E);else{const w=Vc(y,b);w!=null&&(c.push(E),d.set(E,w))}}));const p=new Tn(c);return new wb(d,p,o.fieldTransforms)}function KD(i,e,n,s,o,c){const d=i.Cc(1,e,n),p=[Rp(e,s,n)],g=[o];if(c.length%2!=0)throw new ue(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<c.length;w+=2)p.push(Rp(e,c[w])),g.push(c[w+1]);const y=[],E=hn.empty();for(let w=p.length-1;w>=0;--w)if(!Cb(y,p[w])){const D=p[w];let q=g[w];q=Lt(q);const Q=d.yc(D);if(q instanceof bd)y.push(D);else{const V=Vc(q,Q);V!=null&&(y.push(D),E.set(D,V))}}const b=new Tn(y);return new wb(E,b,d.fieldTransforms)}function YD(i,e,n,s=!1){return Vc(n,i.Cc(s?4:3,e))}function Vc(i,e){if(Nb(i=Lt(i)))return wg("Unsupported field value:",e,i),Rb(i,e);if(i instanceof bg)return(function(s,o){if(!Ab(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const c=[];let d=0;for(const p of s){let g=Vc(p,o.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}})(i,e)}return(function(s,o){if((s=Lt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return VC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Be.fromDate(s);return{timestampValue:Qh(o.serializer,c)}}if(s instanceof Be){const c=new Be(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Qh(o.serializer,c)}}if(s instanceof xi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Pn)return{bytesValue:FT(o.serializer,s._byteString)};if(s instanceof gt){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:og(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ri)return(function(d,p){return{mapValue:{fields:{[vT]:{stringValue:_T},[qh]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return ig(p.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${od(s)}`)})(i,e)}function Rb(i,e){const n={};return dT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hs(i,((s,o)=>{const c=Vc(o,e.mc(s));c!=null&&(n[s]=c)})),{mapValue:{fields:n}}}function Nb(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Be||i instanceof xi||i instanceof Pn||i instanceof gt||i instanceof bg||i instanceof Ri)}function wg(i,e,n){if(!Nb(n)||!uT(n)){const s=od(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function Rp(i,e,n){if((e=Lt(e))instanceof Ed)return e._internalPath;if(typeof e=="string")return Ag(i,e);throw Xh("Field path arguments must be of type string or ",i,!1,void 0,n)}const XD=new RegExp("[~\\*/\\[\\]]");function Ag(i,e,n){if(e.search(XD)>=0)throw Xh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Ed(...e.split("."))._internalPath}catch{throw Xh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Xh(i,e,n,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${s}`),d&&(g+=` in document ${o}`),g+=")"),new ue(ee.INVALID_ARGUMENT,p+i+g)}function Cb(i,e){return i.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e,n,s,o,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new WD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Sd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class WD extends Ib{data(){return super.data()}}function Sd(i,e){return typeof e=="string"?Ag(i,e):e instanceof Ed?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ue(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xg{}class Db extends xg{}function JD(i,e,...n){let s=[];e instanceof xg&&s.push(e),s=s.concat(n),(function(c){const d=c.filter((g=>g instanceof Rg)).length,p=c.filter((g=>g instanceof wd)).length;if(d>1||d>0&&p>0)throw new ue(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class wd extends Db{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new wd(e,n,s)}_apply(e){const n=this._parse(e);return jb(e._query,n),new ua(e.firestore,e.converter,gp(e._query,n))}_parse(e){const n=Td(e.firestore);return(function(c,d,p,g,y,E,b){let w;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ue(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){LE(b,E);const q=[];for(const Q of b)q.push(PE(g,c,Q));w={arrayValue:{values:q}}}else w=PE(g,c,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||LE(b,E),w=YD(p,d,b,E==="in"||E==="not-in");return bt.create(y,E,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function e4(i,e,n){const s=e,o=Sd("where",i);return wd._create(o,s,n)}class Rg extends xg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Rg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Jn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let d=o;const p=c.getFlattenedFilters();for(const g of p)jb(d,g),d=gp(d,g)})(e._query,n),new ua(e.firestore,e.converter,gp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ng extends Db{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ng(e,n)}_apply(e){const n=(function(o,c,d){if(o.startAt!==null)throw new ue(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ue(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new pc(c,d)})(e._query,this._field,this._direction);return new ua(e.firestore,e.converter,(function(o,c){const d=o.explicitOrderBy.concat([c]);return new Mo(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function t4(i,e="asc"){const n=e,s=Sd("orderBy",i);return Ng._create(s,n)}function PE(i,e,n){if(typeof(n=Lt(n))=="string"){if(n==="")throw new ue(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!RT(e)&&n.indexOf("/")!==-1)throw new ue(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(nt.fromString(n));if(!pe.isDocumentKey(s))throw new ue(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return eE(i,new pe(s))}if(n instanceof gt)return eE(i,n._key);throw new ue(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${od(n)}.`)}function LE(i,e){if(!Array.isArray(i)||i.length===0)throw new ue(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jb(i,e){const n=(function(o,c){for(const d of o)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ue(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class n4{convertValue(e,n="none"){switch(as(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return hs(e,((o,c)=>{s[o]=this.convertValue(c,n)})),s}convertVectorValue(e){const n=e.fields?.[qh].arrayValue?.values?.map((s=>pt(s.doubleValue)));return new Ri(n)}convertGeoPoint(e){return new xi(pt(e.latitude),pt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=ud(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(dc(e));default:return null}}convertTimestamp(e){const n=rs(e);return new Be(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=nt.fromString(e);Ge(YT(s),9688,{name:e});const o=new fc(s.get(1),s.get(3)),c=new pe(s.popFirst(5));return o.isEqual(n)||dr(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class Zl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Js extends Ib{constructor(e,n,s,o,c,d){super(e,n,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Sd("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Js._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Js._jsonSchemaVersion="firestore/documentSnapshot/1.0",Js._jsonSchema={type:St("string",Js._jsonSchemaVersion),bundleSource:St("string","DocumentSnapshot"),bundleName:St("string"),bundle:St("string")};class Ih extends Js{data(e={}){return super.data(e)}}class mo{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Zl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Ih(this._firestore,this._userDataWriter,s.key,s,new Zl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const g=new Ih(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Zl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const g=new Ih(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Zl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),E=d.indexOf(p.doc.key)),{type:i4(p.type),doc:g,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=mo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Xp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function i4(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(i){i=Zn(i,gt);const e=Zn(i.firestore,ha);return UD(Tg(e),i._key).then((n=>s4(e,i,n)))}mo._jsonSchemaVersion="firestore/querySnapshot/1.0",mo._jsonSchema={type:St("string",mo._jsonSchemaVersion),bundleSource:St("string","QuerySnapshot"),bundleName:St("string"),bundle:St("string")};class Mb extends n4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gt(this.firestore,null,n)}}function UE(i){i=Zn(i,ua);const e=Zn(i.firestore,ha),n=Tg(e),s=new Mb(e);return ZD(i._query),zD(n,i._query).then((o=>new mo(e,s,i,o)))}function zE(i,e,n){i=Zn(i,gt);const s=Zn(i.firestore,ha),o=Ob(i.converter,e);return Ad(s,[xb(Td(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Un.none())])}function BE(i,e,n,...s){i=Zn(i,gt);const o=Zn(i.firestore,ha),c=Td(o);let d;return d=typeof(e=Lt(e))=="string"||e instanceof Ed?KD(c,"updateDoc",i._key,e,n,s):$D(c,"updateDoc",i._key,e),Ad(o,[d.toMutation(i._key,Un.exists(!0))])}function r4(i){return Ad(Zn(i.firestore,ha),[new rg(i._key,Un.none())])}function qE(i,e){const n=Zn(i.firestore,ha),s=Wr(i),o=Ob(i.converter,e);return Ad(n,[xb(Td(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Un.exists(!1))]).then((()=>s))}function Ad(i,e){return(function(s,o){const c=new or;return s.asyncQueue.enqueueAndForget((async()=>RD(await LD(s),o,c))),c.promise})(Tg(i),e)}function s4(i,e,n){const s=n.docs.get(e._key),o=new Mb(i);return new Js(i,o,e._key,s,new Zl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Do=o})(Co),vo(new ta("firestore",((s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),p=new ha(new KN(s.getProvider("auth-internal")),new WN(d,s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ue(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fc(y.options.projectId,E)})(d,o),d);return c={useFetchStreams:n,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),es(B0,q0,e),es(B0,q0,"esm2020")})();const a4={apiKey:"AIzaSyDkIp2VTMtoTmMEv4FrsOOuaGRJZ2f0Wy4",authDomain:"huffsystem-87fe7.firebaseapp.com",projectId:"huffsystem-87fe7",storageBucket:"huffsystem-87fe7.firebasestorage.app",messagingSenderId:"955467570500",appId:"1:955467570500:web:5c9f7831cfb95ba267cb11"},kb=y1(a4),gh=HN(kb),Qn=qD(kb);function po(i){if(typeof i=="string")return i;switch(i?.code||""){case"auth/user-not-found":return"Usuário não encontrado. Verifique seu email.";case"auth/wrong-password":return"Senha incorreta. Tente novamente.";case"auth/invalid-email":return"Email inválido. Verifique o formato.";case"auth/too-many-requests":return"Muitas tentativas. Tente novamente em alguns minutos.";case"auth/user-disabled":return"Conta desabilitada. Entre em contato com o suporte.";case"auth/network-request-failed":return"Erro de conexão. Verifique sua internet.";case"auth/invalid-api-key":return"Erro de configuração. Entre em contato com o suporte.";default:return"Erro inesperado. Tente novamente."}}const Xm={async logOut(){try{await OR(gh)}catch(i){const e=po(i);throw new Error(e)}},async login(i){try{const n=(await CR(gh,i.email,i.password)).user,s=await sc(Wr(Qn,"users",n.uid));if(!s.exists())throw new Error("User not found");const c={...s.data(),lastLogin:new Date};return await zE(Wr(Qn,"users",n.uid),c),c}catch(e){const n=po(e);throw new Error(n)}},async register(i){try{if(!i.email||!i.password||!i.name)throw new Error("Todos os campos são obrigatórios");if(i.password.length<6)throw new Error("A senha deve ter pelo menos 6 caracteres");const n=(await NR(gh,i.email,i.password)).user,s={uid:n.uid,email:i.email,name:i.name,createdAt:new Date,updatedAt:new Date,role:i.role||"user"};return await zE(Wr(Qn,"users",n.uid),s),s}catch(e){const n=po(e);throw new Error(n)}},observeAuthState(i){try{return jR(gh,async e=>{if(console.log("🔄 Auth state changed:",e?e.uid:"null"),e)try{const n=await sc(Wr(Qn,"users",e.uid));if(n.exists()){const s=n.data();console.log("✅ Usuário autenticado:",s),i(s)}else console.log("❌ Usuário não encontrado no Firestore"),i(null)}catch(n){console.error("❌ Erro ao buscar dados do usuário:",n),i(null)}else console.log("🚪 Usuário deslogado"),i(null)})}catch(e){throw new Error("Erro ao observar estado de autenticação: "+e)}}},Vb=U.createContext(void 0);function o4({children:i}){const[e,n]=U.useState(null),[s,o]=U.useState(!0),[c,d]=U.useState(null);U.useEffect(()=>{n(null),o(!1)},[]);const b={user:e,loading:s,error:c,login:async w=>{try{o(!0),d(null);const D=await Xm.login(w);n(D),o(!1)}catch(D){const q=po(D);d(q),o(!1),n(null)}},register:async w=>{try{o(!0),d(null);const D=await Xm.register(w);n(D),o(!1)}catch(D){const q=po(D);d(q),o(!1),n(null)}},logout:async()=>{try{o(!0),d(null),await Xm.logOut(),n(null),o(!1)}catch(w){const D=po(w);d(D),o(!1)}},clearError:()=>{d(null)}};return f.jsx(Vb.Provider,{value:b,children:i})}const xd=()=>{const i=U.useContext(Vb);if(i===void 0)throw new Error("useAuth deve ser usado dentro de um AuthProvider");return i};function Wm({children:i}){const{user:e,loading:n}=xd();return n?f.jsx("div",{children:"Loading..."}):e?f.jsx(f.Fragment,{children:i}):f.jsx(hA,{to:$n.login,replace:!0})}const _i=({children:i,variant:e="default",className:n=""})=>{const s=["card",e!=="default"&&`card--${e}`,n].filter(Boolean).join(" ");return f.jsx("div",{className:s,children:i})},go=({children:i})=>f.jsx("div",{className:"card-header",children:i}),yo=({children:i})=>f.jsx("h3",{className:"card-title",children:i}),Cg=({children:i})=>f.jsx("p",{className:"card-description",children:i}),Ei=({children:i})=>f.jsx("div",{className:"card-content",children:i}),Jt=({children:i,variant:e="primary",size:n="medium",fullWidth:s=!1,disabled:o=!1,type:c="button",className:d="",onClick:p})=>{const g=["button",`button--${e}`,n!=="medium"&&`button--${n}`,s&&"button--full",d].filter(Boolean).join(" ");return f.jsx("button",{type:c,className:g,disabled:o,onClick:p,children:i})},Ln=({label:i,type:e="text",placeholder:n,value:s,onChange:o,error:c,disabled:d=!1,required:p=!1,showPasswordToggle:g=!1,className:y})=>{const[E,b]=U.useState(!1),w=e==="password"&&E?"text":e;return f.jsxs("div",{className:"input-group",children:[i&&f.jsxs("label",{className:"input-label",children:[i,p&&f.jsx("span",{style:{color:"#dc2626"},children:"*"})]}),f.jsxs("div",{className:"input-wrapper",children:[f.jsx("input",{type:w,className:`input ${c?"input--error":""} ${y}`,placeholder:n,value:s,onChange:D=>o?.(D.target.value),disabled:d,required:p}),e==="password"&&g&&f.jsx("span",{className:"input-icon",onClick:()=>b(!E),children:E?"👁️":"👁️‍🗨️"})]}),c&&f.jsx("div",{className:"input-error",children:c})]})};var Pb={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},FE=rr.createContext&&rr.createContext(Pb),l4=["attr","size","title"];function c4(i,e){if(i==null)return{};var n=u4(i,e),s,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);for(o=0;o<c.length;o++)s=c[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(n[s]=i[s])}return n}function u4(i,e){if(i==null)return{};var n={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;n[s]=i[s]}return n}function Wh(){return Wh=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},Wh.apply(this,arguments)}function HE(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,s)}return n}function Zh(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HE(Object(n),!0).forEach(function(s){h4(i,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):HE(Object(n)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(n,s))})}return i}function h4(i,e,n){return e=d4(e),e in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function d4(i){var e=f4(i,"string");return typeof e=="symbol"?e:e+""}function f4(i,e){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var s=n.call(i,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function Lb(i){return i&&i.map((e,n)=>rr.createElement(e.tag,Zh({key:n},e.attr),Lb(e.child)))}function Ne(i){return e=>rr.createElement(m4,Wh({attr:Zh({},i.attr)},e),Lb(i.child))}function m4(i){var e=n=>{var{attr:s,size:o,title:c}=i,d=c4(i,l4),p=o||n.size||"1em",g;return n.className&&(g=n.className),i.className&&(g=(g?g+" ":"")+i.className),rr.createElement("svg",Wh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,d,{className:g,style:Zh(Zh({color:i.color||n.color},n.style),i.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),c&&rr.createElement("title",null,c),i.children)};return FE!==void 0?rr.createElement(FE.Consumer,null,n=>e(n)):e(Pb)}function Ig(i){return Ne({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M418.2 177.2c-5.4-1.8-10.8-3.5-16.2-5.1.9-3.7 1.7-7.4 2.5-11.1 12.3-59.6 4.2-107.5-23.1-123.3-26.3-15.1-69.2.6-112.6 38.4-4.3 3.7-8.5 7.6-12.5 11.5-2.7-2.6-5.5-5.2-8.3-7.7-45.5-40.4-91.1-57.4-118.4-41.5-26.2 15.2-34 60.3-23 116.7 1.1 5.6 2.3 11.1 3.7 16.7-6.4 1.8-12.7 3.8-18.6 5.9C38.3 196.2 0 225.4 0 255.6c0 31.2 40.8 62.5 96.3 81.5 4.5 1.5 9 3 13.6 4.3-1.5 6-2.8 11.9-4 18-10.5 55.5-2.3 99.5 23.9 114.6 27 15.6 72.4-.4 116.6-39.1 3.5-3.1 7-6.3 10.5-9.7 4.4 4.3 9 8.4 13.6 12.4 42.8 36.8 85.1 51.7 111.2 36.6 27-15.6 35.8-62.9 24.4-120.5-.9-4.4-1.9-8.9-3-13.5 3.2-.9 6.3-1.9 9.4-2.9 57.7-19.1 99.5-50 99.5-81.7 0-30.3-39.4-59.7-93.8-78.4zM282.9 92.3c37.2-32.4 71.9-45.1 87.7-36 16.9 9.7 23.4 48.9 12.8 100.4-.7 3.4-1.4 6.7-2.3 10-22.2-5-44.7-8.6-67.3-10.6-13-18.6-27.2-36.4-42.6-53.1 3.9-3.7 7.7-7.2 11.7-10.7zM167.2 307.5c5.1 8.7 10.3 17.4 15.8 25.9-15.6-1.7-31.1-4.2-46.4-7.5 4.4-14.4 9.9-29.3 16.3-44.5 4.6 8.8 9.3 17.5 14.3 26.1zm-30.3-120.3c14.4-3.2 29.7-5.8 45.6-7.8-5.3 8.3-10.5 16.8-15.4 25.4-4.9 8.5-9.7 17.2-14.2 26-6.3-14.9-11.6-29.5-16-43.6zm27.4 68.9c6.6-13.8 13.8-27.3 21.4-40.6s15.8-26.2 24.4-38.9c15-1.1 30.3-1.7 45.9-1.7s31 .6 45.9 1.7c8.5 12.6 16.6 25.5 24.3 38.7s14.9 26.7 21.7 40.4c-6.7 13.8-13.9 27.4-21.6 40.8-7.6 13.3-15.7 26.2-24.2 39-14.9 1.1-30.4 1.6-46.1 1.6s-30.9-.5-45.6-1.4c-8.7-12.7-16.9-25.7-24.6-39s-14.8-26.8-21.5-40.6zm180.6 51.2c5.1-8.8 9.9-17.7 14.6-26.7 6.4 14.5 12 29.2 16.9 44.3-15.5 3.5-31.2 6.2-47 8 5.4-8.4 10.5-17 15.5-25.6zm14.4-76.5c-4.7-8.8-9.5-17.6-14.5-26.2-4.9-8.5-10-16.9-15.3-25.2 16.1 2 31.5 4.7 45.9 8-4.6 14.8-10 29.2-16.1 43.4zM256.2 118.3c10.5 11.4 20.4 23.4 29.6 35.8-19.8-.9-39.7-.9-59.5 0 9.8-12.9 19.9-24.9 29.9-35.8zM140.2 57c16.8-9.8 54.1 4.2 93.4 39 2.5 2.2 5 4.6 7.6 7-15.5 16.7-29.8 34.5-42.9 53.1-22.6 2-45 5.5-67.2 10.4-1.3-5.1-2.4-10.3-3.5-15.5-9.4-48.4-3.2-84.9 12.6-94zm-24.5 263.6c-4.2-1.2-8.3-2.5-12.4-3.9-21.3-6.7-45.5-17.3-63-31.2-10.1-7-16.9-17.8-18.8-29.9 0-18.3 31.6-41.7 77.2-57.6 5.7-2 11.5-3.8 17.3-5.5 6.8 21.7 15 43 24.5 63.6-9.6 20.9-17.9 42.5-24.8 64.5zm116.6 98c-16.5 15.1-35.6 27.1-56.4 35.3-11.1 5.3-23.9 5.8-35.3 1.3-15.9-9.2-22.5-44.5-13.5-92 1.1-5.6 2.3-11.2 3.7-16.7 22.4 4.8 45 8.1 67.9 9.8 13.2 18.7 27.7 36.6 43.2 53.4-3.2 3.1-6.4 6.1-9.6 8.9zm24.5-24.3c-10.2-11-20.4-23.2-30.3-36.3 9.6.4 19.5.6 29.5.6 10.3 0 20.4-.2 30.4-.7-9.2 12.7-19.1 24.8-29.6 36.4zm130.7 30c-.9 12.2-6.9 23.6-16.5 31.3-15.9 9.2-49.8-2.8-86.4-34.2-4.2-3.6-8.4-7.5-12.7-11.5 15.3-16.9 29.4-34.8 42.2-53.6 22.9-1.9 45.7-5.4 68.2-10.5 1 4.1 1.9 8.2 2.7 12.2 4.9 21.6 5.7 44.1 2.5 66.3zm18.2-107.5c-2.8.9-5.6 1.8-8.5 2.6-7-21.8-15.6-43.1-25.5-63.8 9.6-20.4 17.7-41.4 24.5-62.9 5.2 1.5 10.2 3.1 15 4.7 46.6 16 79.3 39.8 79.3 58 0 19.6-34.9 44.9-84.8 61.4zm-149.7-15c25.3 0 45.8-20.5 45.8-45.8s-20.5-45.8-45.8-45.8c-25.3 0-45.8 20.5-45.8 45.8s20.5 45.8 45.8 45.8z"},child:[]}]})(i)}const GE=()=>{const i=Sc(),{login:e,error:n,loading:s}=xd(),[o,c]=U.useState({email:"",password:""}),d=(g,y)=>{c(E=>({...E,[g]:y}))},p=async g=>{g.preventDefault();try{await e(o),i($n.dashboard)}catch(y){console.error("Erro ao fazer login:",y)}};return f.jsx("div",{className:"login-page",children:f.jsx("div",{className:"login-container",children:f.jsxs(_i,{variant:"elevated",children:[f.jsxs(go,{children:[f.jsxs("div",{className:"login-logo",children:[f.jsx("div",{className:"logo-icon",children:f.jsx(Ig,{})}),f.jsx("h1",{className:"logo-title",children:"Huff Life"}),f.jsx("p",{className:"logo-subtitle",children:"Fazer Login"})]}),f.jsx(yo,{children:"Entrar no sistema"}),f.jsx(Cg,{children:"Faça login para continuar"})]}),f.jsx(Ei,{children:f.jsxs("form",{className:"login-form",onSubmit:p,children:[f.jsx(Ln,{label:"E-mail",type:"email",placeholder:"seu@email.com",value:o.email,onChange:g=>d("email",g),required:!0}),f.jsx(Ln,{label:"Senha",type:"password",placeholder:"********",value:o.password,onChange:g=>d("password",g),required:!0}),f.jsxs("div",{className:"form-actions",children:[f.jsx(Jt,{fullWidth:!0,type:"submit",disabled:s,children:s?"Carregando...":"Entrar"}),n&&f.jsx("div",{className:"status-message error",children:n}),f.jsx("div",{className:"forgot-password",children:f.jsx("button",{type:"button",children:"Esqueci minha senha"})}),f.jsx("div",{className:"register-link",children:f.jsx(nd,{to:$n.register,children:"Não tem uma conta? Cadastre-se"})})]})]})})]})})})},p4=()=>{const i=Sc(),{register:e,error:n,loading:s}=xd(),[o,c]=U.useState({name:"",email:"",password:"",confirmPassword:"",phone:""}),d=(g,y)=>{c(E=>({...E,[g]:y}))},p=async g=>{if(g.preventDefault(),o.password!==o.confirmPassword){alert("As senhas não coincidem");return}try{await e(o),i($n.dashboard)}catch(y){console.error("Erro ao fazer registro:",y)}};return f.jsx("div",{className:"registro-page",children:f.jsx("div",{className:"registro-container",children:f.jsxs(_i,{variant:"elevated",children:[f.jsxs(go,{children:[f.jsxs("div",{className:"registro-logo",children:[f.jsx("div",{className:"logo-icon",children:f.jsx(Ig,{})}),f.jsx("h1",{className:"logo-title",children:"Huff Life"}),f.jsx("p",{className:"logo-subtitle",children:"Criar Nova conta"})]}),f.jsx(yo,{children:"Criar Nova conta"}),f.jsx(Cg,{children:"Faça seu registro para continuar"})]}),f.jsx(Ei,{children:f.jsxs("form",{className:"registro-form",onSubmit:p,children:[f.jsx(Ln,{label:"Nome",type:"text",placeholder:"Digite seu nome",value:o.name,onChange:g=>d("name",g),required:!0}),f.jsx(Ln,{label:"E-mail",type:"email",placeholder:"seu@email.com",value:o.email,onChange:g=>d("email",g),required:!0}),f.jsx(Ln,{label:"Senha",type:"password",placeholder:"********",value:o.password,onChange:g=>d("password",g),required:!0}),f.jsx(Ln,{label:"Confirmar Senha",type:"password",placeholder:"********",value:o.confirmPassword,onChange:g=>d("confirmPassword",g),required:!0}),f.jsx(Ln,{label:"Telefone",type:"tel",placeholder:"(00) 00000-0000",value:o.phone,onChange:g=>d("phone",g)}),f.jsxs("div",{className:"form-actions",children:[f.jsx(Jt,{fullWidth:!0,type:"submit",disabled:s,children:s?"Carregando...":"Criar conta"}),n&&f.jsx("div",{className:"status-message error",children:n}),f.jsx("div",{className:"login-link",children:f.jsx(nd,{to:$n.login,children:"Já tem uma conta? Faça login"})})]})]})})]})})})};function Ti(i){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(i)}function yh(i){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"19",x2:"12",y2:"5"},child:[]},{tag:"polyline",attr:{points:"5 12 12 5 19 12"},child:[]}]})(i)}function Np(i){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"10"},child:[]},{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"16"},child:[]}]})(i)}function g4(i){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(i)}function Pc(i){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(i)}function y4(i){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(i)}function v4(i){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(i)}function vc(i){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(i)}function QE(i){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"},child:[]}]})(i)}function Dg(i){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(i)}function jg(i){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(i)}function _4(i){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(i)}function _c(i){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(i)}function Og(i){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(i)}function Rd(i){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(i)}function E4(i){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(i)}function T4(i){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(i)}function Mg(i){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(i)}function Ub(i){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(i)}function vh(i){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"1"},child:[]},{tag:"circle",attr:{cx:"19",cy:"12",r:"1"},child:[]},{tag:"circle",attr:{cx:"5",cy:"12",r:"1"},child:[]}]})(i)}function b4(i){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"1"},child:[]},{tag:"circle",attr:{cx:"12",cy:"5",r:"1"},child:[]},{tag:"circle",attr:{cx:"12",cy:"19",r:"1"},child:[]}]})(i)}function aa(i){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(i)}function kg(i){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(i)}function Ec(i){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(i)}function Nd(i){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(i)}function Vg(i){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(i)}function Pg(i){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(i)}function zb(i){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(i)}function Cp(i){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(i)}function S4(i){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"6"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"2"},child:[]}]})(i)}function w4(i){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"5",width:"22",height:"14",rx:"7",ry:"7"},child:[]},{tag:"circle",attr:{cx:"8",cy:"12",r:"3"},child:[]}]})(i)}function A4(i){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"5",width:"22",height:"14",rx:"7",ry:"7"},child:[]},{tag:"circle",attr:{cx:"16",cy:"12",r:"3"},child:[]}]})(i)}function Bb(i){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(i)}function x4(i){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 18 13.5 8.5 8.5 13.5 1 6"},child:[]},{tag:"polyline",attr:{points:"17 18 23 18 23 12"},child:[]}]})(i)}function Tc(i){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(i)}function lr(i){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(i)}function Jh(i){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(i)}function Yn(i){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(i)}const R4=({onToggleSidebar:i,sidebarCollapsed:e})=>{const{user:n,logout:s}=xd(),[o,c]=rr.useState(!1),d=async()=>{try{await s()}catch(p){console.error("Erro ao fazer logout:",p)}};return f.jsxs("header",{className:"app-header",children:[f.jsxs("div",{className:"header-left",children:[f.jsx(Jt,{variant:"ghost",className:"sidebar-toggle",onClick:i,children:f.jsxs("div",{className:`hamburger ${e?"collapsed":""}`,children:[f.jsx("span",{}),f.jsx("span",{}),f.jsx("span",{})]})}),f.jsxs("div",{className:"search-container",children:[f.jsx(Pg,{className:"search-icon",size:18}),f.jsx("input",{type:"text",placeholder:"Buscar...",className:"search-input"})]})]}),f.jsxs("div",{className:"header-right",children:[f.jsxs(Jt,{variant:"ghost",className:"notification-btn",children:[f.jsx(g4,{size:18}),f.jsx("span",{className:"notification-badge",children:"3"})]}),f.jsxs("div",{className:"user-menu-container",children:[f.jsxs(Jt,{variant:"ghost",className:"user-menu-trigger",onClick:()=>c(!o),children:[f.jsx("div",{className:"user-avatar",children:f.jsx(lr,{size:16})}),f.jsxs("div",{className:"user-info",children:[f.jsx("span",{className:"user-name",children:n?.name||"Usuário"}),f.jsx("span",{className:"user-role",children:"Administrador"})]}),f.jsx(y4,{size:16,className:`chevron ${o?"rotated":""}`})]}),o&&f.jsxs("div",{className:"user-dropdown",children:[f.jsxs("div",{className:"dropdown-header",children:[f.jsx("div",{className:"user-avatar large",children:f.jsx(lr,{size:20})}),f.jsxs("div",{className:"user-details",children:[f.jsx("span",{className:"name",children:n?.name||"Usuário"}),f.jsx("span",{className:"email",children:n?.email||"email@exemplo.com"})]})]}),f.jsx("div",{className:"dropdown-divider"}),f.jsxs("div",{className:"dropdown-items",children:[f.jsxs("button",{className:"dropdown-item",children:[f.jsx(lr,{size:16}),f.jsx("span",{children:"Meu Perfil"})]}),f.jsxs("button",{className:"dropdown-item",children:[f.jsx(zb,{size:16}),f.jsx("span",{children:"Configurações"})]})]}),f.jsx("div",{className:"dropdown-divider"}),f.jsxs("button",{className:"dropdown-item logout",onClick:d,children:[f.jsx(T4,{size:16}),f.jsx("span",{children:"Sair"})]})]})]})]})]})},N4=[{id:"dashboard",label:"Dashboard",icon:E4,path:"/dashboard"},{id:"vendas",label:"Vendas",icon:Cp,items:[{id:"nova-venda",label:"Nova Venda",icon:Cp,path:"/vendas/nova"},{id:"historico-vendas",label:"Histórico",icon:Og,path:"/vendas/historico"},{id:"relatorios-vendas",label:"Relatórios",icon:Tc,path:"/vendas/relatorios"}]},{id:"estoque",label:"Estoque",icon:aa,path:"/estoque"},{id:"clientes",label:"Clientes",icon:Jh,path:"/clients",badge:"124"},{id:"agenda",label:"Agenda",icon:Pc,path:"/agenda"},{id:"financeiro",label:"Financeiro",icon:QE,items:[{id:"contas-receber",label:"Contas a Receber",icon:Tc,path:"/financeiro/receber"},{id:"contas-pagar",label:"Contas a Pagar",icon:QE,path:"/financeiro/pagar"},{id:"fluxo-caixa",label:"Fluxo de Caixa",icon:Np,path:"/financeiro/fluxo"}]},{id:"relatorios",label:"Relatórios",icon:Np,path:"/relatorios"},{id:"configuracoes",label:"Configurações",icon:zb,path:"/configuracoes"}],C4=({collapsed:i,items:e=N4})=>{const n=Sc(),s=mr(),[o,c]=rr.useState(new Set),d=b=>{i||c(w=>{const D=new Set(w);return D.has(b)?D.delete(b):D.add(b),D})},p=b=>{b.path?n(b.path):b.items&&d(b.id)},g=b=>b?s.pathname===b||s.pathname.startsWith(b+"/"):!1,y=b=>b.path&&g(b.path)?!0:b.items?b.items.some(w=>g(w.path)):!1,E=(b,w=0)=>{const D=b.items&&b.items.length>0,q=o.has(b.id),Q=g(b.path),V=y(b);return f.jsxs("div",{className:"menu-item-container",children:[f.jsx("button",{className:`menu-item ${Q?"active":""} ${V?"parent-active":""} ${w>0?"sub-item":""}`,onClick:()=>p(b),title:i?b.label:void 0,children:f.jsxs("div",{className:"menu-item-content",children:[f.jsx("div",{className:"menu-icon",children:f.jsx(b.icon,{size:18})}),!i&&f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"menu-label",children:b.label}),f.jsxs("div",{className:"menu-item-end",children:[b.badge&&f.jsx("span",{className:"menu-badge",children:b.badge}),D&&f.jsx(v4,{size:14,className:`chevron ${q?"expanded":""}`})]})]})]})}),D&&!i&&q&&f.jsx("div",{className:"sub-menu",children:b.items.map(F=>E(F,w+1))})]},b.id)};return f.jsxs("aside",{className:`sidebar ${i?"collapsed":""}`,children:[f.jsx("div",{className:"sidebar-header",children:f.jsxs("div",{className:"logo",children:[f.jsx("div",{className:"logo-icon",children:f.jsx(Ig,{})}),!i&&f.jsxs("div",{className:"logo-text",children:[f.jsx("span",{className:"logo-title",children:"Huff Life"}),f.jsx("span",{className:"logo-subtitle",children:"Sistema de Gestão"})]})]})}),f.jsx("nav",{className:"sidebar-nav",children:f.jsx("div",{className:"nav-section",children:e.map(b=>E(b))})}),!i&&f.jsx("div",{className:"sidebar-footer",children:f.jsx("div",{className:"footer-content",children:f.jsx("div",{className:"version-info",children:f.jsx("span",{children:"Versão 1.0.0"})})})})]})},Lg=({children:i,sidebarItems:e})=>{const[n,s]=U.useState(!1),[o,c]=U.useState(!1),[d,p]=U.useState(!1);U.useEffect(()=>{const E=()=>{const b=window.innerWidth<=1024;c(b),b&&(s(!1),p(!1))};return E(),window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)},[]);const g=()=>{o?p(!d):s(!n)},y=()=>{o&&p(!1)};return f.jsxs("div",{className:"app-layout",children:[f.jsx("div",{className:`sidebar-container ${o&&d?"open":""}`,children:f.jsx(C4,{collapsed:!o&&n,items:e})}),o&&d&&f.jsx("div",{className:"sidebar-overlay",onClick:y}),f.jsxs("div",{className:`main-content ${n&&!o?"sidebar-collapsed":""}`,children:[f.jsx(R4,{onToggleSidebar:g,sidebarCollapsed:n}),f.jsx("main",{className:"content-area",children:f.jsx("div",{className:"content-wrapper",children:i})})]})]})},I4=()=>{const[i]=U.useState({dailySales:2500,monthlySales:45e3,monthlyGoal:6e4,salesByVendor:[{name:"João Silva",sales:15e3},{name:"Maria Santos",sales:12e3},{name:"Carlos Lima",sales:8e3},{name:"Ana Costa",sales:1e4}],recentSales:[{id:"001",client:"Empresa ABC",value:850,date:"2024-01-15"},{id:"002",client:"João Oliveira",value:320.5,date:"2024-01-15"},{id:"003",client:"Loja XYZ",value:1200,date:"2024-01-14"}]}),[e,n]=U.useState("today"),s=i.monthlySales/i.monthlyGoal*100,o=[{icon:Cp,label:"Nova Venda",color:"#059669",path:"/nova-venda"},{icon:aa,label:"Estoque",color:"#dc2626",path:"/estoque"},{icon:Pc,label:"Agenda",color:"#2563eb",path:"/agenda"},{icon:Jh,label:"Clientes",color:"#7c3aed",path:"/clientes"},{icon:Np,label:"Financeiro",color:"#ea580c",path:"/financeiro"}];return f.jsx(Lg,{children:f.jsxs("div",{className:"dashboard-page",children:[f.jsx("div",{className:"dashboard-header",children:f.jsxs("div",{className:"header-content",children:[f.jsxs("div",{className:"header-title-group",children:[f.jsx("h1",{className:"dashboard-title",children:"Dashboard"}),f.jsx("p",{className:"dashboard-subtitle",children:"Bem-vindo de volta! Aqui está o resumo do seu negócio"})]}),f.jsxs("div",{className:"header-actions",children:[f.jsxs(Jt,{variant:"ghost",className:"refresh-btn",children:[f.jsx(Nd,{size:16}),"Atualizar"]}),f.jsxs("div",{className:"filter-group",children:[f.jsx(Rd,{size:16}),f.jsxs("select",{value:e,onChange:c=>n(c.target.value),className:"filter-select",children:[f.jsx("option",{value:"today",children:"Hoje"}),f.jsx("option",{value:"week",children:"Esta Semana"}),f.jsx("option",{value:"month",children:"Este Mês"}),f.jsx("option",{value:"year",children:"Este Ano"})]})]})]})]})}),f.jsxs("div",{className:"stats-grid",children:[f.jsx(_i,{className:"stat-card stat-card-primary",children:f.jsx(Ei,{children:f.jsxs("div",{className:"stat-content",children:[f.jsxs("div",{className:"stat-header",children:[f.jsx("div",{className:"stat-icon-wrapper",children:f.jsx("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #059669, #10b981)"},children:f.jsx(Dg,{size:24,color:"white"})})}),f.jsx(Jt,{variant:"ghost",className:"stat-menu",children:f.jsx(vh,{size:16})})]}),f.jsxs("div",{className:"stat-info",children:[f.jsx("h3",{className:"stat-label",children:"Vendas do Dia"}),f.jsxs("p",{className:"stat-value",children:["R$"," ",i.dailySales.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),f.jsx("div",{className:"stat-change-wrapper",children:f.jsxs("span",{className:"stat-change positive",children:[f.jsx(yh,{size:14}),"12% vs ontem"]})})]})]})})}),f.jsx(_i,{className:"stat-card stat-card-blue",children:f.jsx(Ei,{children:f.jsxs("div",{className:"stat-content",children:[f.jsxs("div",{className:"stat-header",children:[f.jsx("div",{className:"stat-icon-wrapper",children:f.jsx("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #2563eb, #3b82f6)"},children:f.jsx(Tc,{size:24,color:"white"})})}),f.jsx(Jt,{variant:"ghost",className:"stat-menu",children:f.jsx(vh,{size:16})})]}),f.jsxs("div",{className:"stat-info",children:[f.jsx("h3",{className:"stat-label",children:"Vendas do Mês"}),f.jsxs("p",{className:"stat-value",children:["R$"," ",i.monthlySales.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),f.jsx("div",{className:"stat-change-wrapper",children:f.jsxs("span",{className:"stat-change positive",children:[f.jsx(yh,{size:14}),"8% vs mês anterior"]})})]})]})})}),f.jsx(_i,{className:"stat-card stat-card-red",children:f.jsx(Ei,{children:f.jsxs("div",{className:"stat-content",children:[f.jsxs("div",{className:"stat-header",children:[f.jsx("div",{className:"stat-icon-wrapper",children:f.jsx("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #dc2626, #ef4444)"},children:f.jsx(S4,{size:24,color:"white"})})}),f.jsx(Jt,{variant:"ghost",className:"stat-menu",children:f.jsx(vh,{size:16})})]}),f.jsxs("div",{className:"stat-info",children:[f.jsx("h3",{className:"stat-label",children:"Meta do Mês"}),f.jsxs("p",{className:"stat-value",children:[s.toFixed(1),"%"]}),f.jsxs("div",{className:"progress-bar-modern",children:[f.jsx("div",{className:"progress-track",children:f.jsx("div",{className:"progress-fill-modern",style:{width:`${Math.min(s,100)}%`}})}),f.jsxs("span",{className:"progress-label",children:[i.monthlyGoal.toLocaleString("pt-BR")," meta"]})]})]})]})})}),f.jsx(_i,{className:"stat-card stat-card-purple",children:f.jsx(Ei,{children:f.jsxs("div",{className:"stat-content",children:[f.jsxs("div",{className:"stat-header",children:[f.jsx("div",{className:"stat-icon-wrapper",children:f.jsx("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #7c3aed, #8b5cf6)"},children:f.jsx(Jh,{size:24,color:"white"})})}),f.jsx(Jt,{variant:"ghost",className:"stat-menu",children:f.jsx(vh,{size:16})})]}),f.jsxs("div",{className:"stat-info",children:[f.jsx("h3",{className:"stat-label",children:"Clientes Ativos"}),f.jsx("p",{className:"stat-value",children:"847"}),f.jsx("div",{className:"stat-change-wrapper",children:f.jsxs("span",{className:"stat-change positive",children:[f.jsx(yh,{size:14}),"15 novos"]})})]})]})})})]}),f.jsxs(_i,{className:"quick-actions-card modern-card",children:[f.jsxs(go,{children:[f.jsx(yo,{children:"Ações Rápidas"}),f.jsx(Cg,{children:"Acesse rapidamente as principais funcionalidades"})]}),f.jsx(Ei,{children:f.jsx("div",{className:"quick-actions-grid-modern",children:o.map((c,d)=>f.jsxs("div",{className:"quick-action-card",onClick:()=>console.log(`Navegando para: ${c.path}`),children:[f.jsxs("div",{className:"action-content",children:[f.jsx("div",{className:"action-icon-modern",style:{background:`linear-gradient(135deg, ${c.color}, ${c.color}dd)`,boxShadow:`0 4px 20px ${c.color}33`},children:f.jsx(c.icon,{size:24,color:"white"})}),f.jsxs("div",{className:"action-info",children:[f.jsx("span",{className:"action-label",children:c.label}),f.jsxs("span",{className:"action-description",children:["Gerenciar ",c.label.toLowerCase()]})]})]}),f.jsx("div",{className:"action-arrow",children:f.jsx(yh,{size:16,style:{transform:"rotate(45deg)"}})})]},d))})})]}),f.jsxs("div",{className:"dashboard-content",children:[f.jsxs(_i,{className:"chart-card",children:[f.jsx(go,{children:f.jsx(yo,{children:"Vendas por Vendedor"})}),f.jsx(Ei,{children:f.jsx("div",{className:"vendor-chart",children:i.salesByVendor.map((c,d)=>{const p=c.sales/Math.max(...i.salesByVendor.map(g=>g.sales))*100;return f.jsxs("div",{className:"vendor-item",children:[f.jsxs("div",{className:"vendor-info",children:[f.jsx("span",{className:"vendor-name",children:c.name}),f.jsxs("span",{className:"vendor-value",children:["R$"," ",c.sales.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),f.jsx("div",{className:"vendor-bar",children:f.jsx("div",{className:"vendor-progress",style:{width:`${p}%`}})})]},d)})})})]}),f.jsxs(_i,{className:"recent-sales-card",children:[f.jsx(go,{children:f.jsx(yo,{children:"Vendas Recentes"})}),f.jsx(Ei,{children:f.jsx("div",{className:"sales-list",children:i.recentSales.map((c,d)=>f.jsxs("div",{className:"sale-item",children:[f.jsxs("div",{className:"sale-info",children:[f.jsx("span",{className:"sale-client",children:c.client}),f.jsxs("span",{className:"sale-id",children:["#",c.id]})]}),f.jsxs("div",{className:"sale-details",children:[f.jsxs("span",{className:"sale-value",children:["R$"," ",c.value.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),f.jsx("span",{className:"sale-date",children:new Date(c.date).toLocaleDateString("pt-BR")})]})]},d))})})]})]})]})})},D4=({searchTerm:i,onSearchChange:e,statusFilter:n,onStatusChange:s,periodFilter:o,onPeriodChange:c,onClearFilters:d,totalClients:p,filteredClients:g})=>{const y=i||n!=="all"||o!=="all";return f.jsxs("div",{className:"client-filters",children:[f.jsxs("div",{className:"filters-header",children:[f.jsx("div",{className:"filters-header-icon",children:f.jsx(Rd,{size:16})}),f.jsx("h3",{children:"Filtros"}),f.jsx("div",{className:"results-info",children:f.jsxs("span",{children:[g," de ",p," clientes"]})})]}),f.jsxs("div",{className:"filters-content",children:[f.jsxs("div",{className:"filter-group",children:[f.jsxs("label",{className:"filter-label",children:[f.jsx(Pg,{size:16}),"Buscar"]}),f.jsx(Ln,{type:"text",placeholder:"Nome, email ou telefone...",value:i,onChange:e,className:"search-input"})]}),f.jsxs("div",{className:"filter-group",children:[f.jsxs("label",{className:"filter-label",children:[f.jsx(lr,{size:16}),"Status"]}),f.jsxs("select",{className:"filter-select",value:n,onChange:E=>s(E.target.value),children:[f.jsx("option",{value:"all",children:"Todos"}),f.jsx("option",{value:"active",children:"Ativos"}),f.jsx("option",{value:"inactive",children:"Inativos"})]})]}),f.jsxs("div",{className:"filter-group",children:[f.jsxs("label",{className:"filter-label",children:[f.jsx(Pc,{size:16}),"Período"]}),f.jsxs("select",{className:"filter-select",value:o,onChange:E=>c(E.target.value),children:[f.jsx("option",{value:"all",children:"Todos"}),f.jsx("option",{value:"last-month",children:"Ultimo mês"}),f.jsx("option",{value:"last-quarter",children:"Ultimo trimestre"}),f.jsx("option",{value:"last-year",children:"Ultimo ano"})]})]}),f.jsx("div",{className:"filter-actions",children:y&&f.jsxs(Jt,{variant:"ghost",onClick:d,className:"clear-btn",children:[f.jsx(Yn,{size:16}),"Limpar filtros"]})})]})]})},j4=({client:i,onView:e,onEdit:n,onDelete:s,onToggleStatus:o})=>{const c=p=>new Date(p).toLocaleDateString("pt-BR"),d=p=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(p);return f.jsxs("div",{className:`client-card ${i.status}`,children:[f.jsxs("div",{className:"client-header",children:[f.jsx("div",{className:"client-avatar",children:f.jsx(lr,{size:20})}),f.jsxs("div",{className:"client-info",children:[f.jsx("h3",{className:"client-name",children:i.name}),f.jsxs("div",{className:"client-status",children:[f.jsx("span",{className:`status-badge ${i.status}`,children:i.status==="active"?"Ativo":"Inativo"}),f.jsx("button",{className:"status-toggle",onClick:()=>o(i),title:`${i.status==="active"?"Desativar":"Ativar"} cliente`,children:i.status==="active"?f.jsx(A4,{size:16}):f.jsx(w4,{size:16})})]})]}),f.jsxs("div",{className:"client-actions",children:[f.jsx(Jt,{variant:"ghost",onClick:()=>e(i),children:f.jsx(_c,{size:16})}),f.jsx(Jt,{variant:"ghost",onClick:()=>n(i),children:f.jsx(jg,{size:16})}),f.jsx(Jt,{variant:"ghost",onClick:()=>s(i),children:f.jsx(b4,{size:16})})]})]}),f.jsxs("div",{className:"client-details",children:[f.jsxs("div",{className:"detail-item",children:[f.jsx(Mg,{size:14}),f.jsx("span",{children:i.email})]}),f.jsxs("div",{className:"detail-item",children:[f.jsx(kg,{size:14}),f.jsx("span",{children:i.phone})]}),i.lastPurchase&&f.jsxs("div",{className:"detail-item",children:[f.jsx(Pc,{size:14}),f.jsxs("span",{children:["Ultima compra: ",c(i.lastPurchase)]})]})]}),f.jsxs("div",{className:"client-footer",children:[f.jsxs("div",{className:"purchase-info",children:[f.jsx(Dg,{size:14}),f.jsxs("span",{children:["Total gasto: ",d(i.totalPurchases||0)]})]}),f.jsx("div",{className:"client-notes",children:i.notes&&f.jsx("span",{className:"notes-preview",children:i.notes.length>50?`${i.notes.substring(0,50)}...`:i.notes})})]})]})},ac={async createClient(i){try{const e=new Date,n={...i,createdAt:Be.fromDate(e),updatedAt:Be.fromDate(e),totalPurchases:0};return{id:(await qE(ph(Qn,"clients"),n)).id,...i,createdAt:e,updatedAt:e,totalPurchases:0}}catch(e){throw new Error("Erro ao criar cliente: "+e)}},async getAllClients(){try{const i=ph(Qn,"clients");return(await UE(i)).docs.map(s=>{const o=s.data();return{id:s.id,name:o.name,email:o.email,phone:o.phone,address:o.address,notes:o.notes,createdAt:o.createdAt.toDate()||new Date,updatedAt:o.updatedAt.toDate()||new Date,lastPurchase:o.lastPurchase?.toDate()||null,totalPurchases:o.totalPurchases||0,status:o.status||"active"}})}catch(i){throw new Error("Erro ao buscar todos os clientes: "+i)}},async updateClient(i,e){try{const n=Wr(Qn,"clients",i);if(!(await sc(n)).exists())throw new Error("Cliente não encontrado");const o={...e,updatedAt:Be.fromDate(new Date)};delete o.id,delete o.createdAt,delete o.totalPurchases,o.lastPurchase instanceof Date&&(o.lastPurchase=Be.fromDate(o.lastPurchase)),await BE(n,o)}catch(n){throw new Error("Erro ao atualizar cliente: "+n)}},async deleteClient(i){try{const e=Wr(Qn,"clients",i);if(!(await sc(e)).exists())throw new Error("Cliente não encontrado");await r4(e)}catch(e){throw new Error("Erro ao deletar cliente: "+e)}},async addPurchase(i,e){try{const n=ph(Qn,"clients_purchases"),s={...e,clientId:i,date:Be.fromDate(new Date)};await qE(n,s);const o=Wr(Qn,"clients",i),c=await sc(o);if(!c.exists())throw new Error("Cliente não encontrado");const p=(c.data().totalPurchases||0)+e.value;await BE(o,{totalPurchases:p,lastPurchase:Be.fromDate(new Date),updatedAt:Be.fromDate(new Date)})}catch(n){throw new Error("Erro ao adicionar compra ao cliente: "+n)}},async getClientPurchases(i){try{const e=ph(Qn,"clients_purchases"),n=JD(e,e4("clientId","==",i),t4("date","desc"));return(await UE(n)).docs.map(c=>{const d=c.data();return{id:c.id,clientId:d.clientId,date:d.date.toDate()||new Date,value:d.value,products:d.products,status:d.status}})}catch(e){throw new Error("Erro ao buscar histórico de compras do cliente: "+e)}}},O4=({searchTerm:i,statusFilter:e,periodFilter:n,onEditClient:s,onViewClient:o,onDeleteClient:c,refreshTrigger:d})=>{const[p,g]=U.useState([]),[y,E]=U.useState([]),[b,w]=U.useState(!0),[D,q]=U.useState(null),[Q,V]=U.useState(1),[F]=U.useState(12);U.useEffect(()=>{j()},[]),U.useEffect(()=>{d&&d>0&&j()},[d]),U.useEffect(()=>{(()=>{let M=[...p];if(i&&(M=M.filter(z=>z.name.toLowerCase().includes(i.toLowerCase())||z.email.toLowerCase().includes(i.toLowerCase()))),e!=="all"&&(M=M.filter(z=>z.status===e)),n!=="all"){const z=new Date,C=n==="7days"?7:n==="30days"?30:90,wt=new Date(z.getTime()-C*24*60*60*1e3);M=M.filter(it=>it.lastPurchase?it.lastPurchase>=wt:!1)}E(M),V(1)})()},[p,i,e,n]);const j=async()=>{try{w(!0),q(null);const I=await ac.getAllClients();g(I)}catch(I){q("Erro ao carregar clientes"),console.error("Erro ao carregar clientes:",I)}finally{w(!1)}},L=async I=>{if(window.confirm("Tem certeza que deseja excluir este cliente?"))try{await ac.deleteClient(I),await j(),c(I)}catch(M){q("Erro ao excluir cliente"),console.error("Erro ao excluir cliente:",M)}},ae=async I=>{try{const M=I.status==="active"?"inactive":"active";await ac.updateClient(I.id,{status:M}),await j()}catch(M){q("Erro ao alterar status do cliente"),console.error("Erro ao alterar status:",M)}},ce=Math.ceil(y.length/F),Ae=(Q-1)*F,P=Ae+F,x=y.slice(Ae,P),R=I=>{V(Math.max(1,Math.min(I,ce)))};return b?f.jsxs("div",{className:"client-list-loading",children:[f.jsx("div",{className:"loading-spinner"}),f.jsx("p",{children:"Carregando clientes..."})]}):D?f.jsxs("div",{className:"client-list-error",children:[f.jsx("p",{children:D}),f.jsx("button",{onClick:j,className:"retry-button",children:"Tentar novamente"})]}):f.jsxs("div",{className:"client-list",children:[f.jsxs("div",{className:"client-list-header",children:[f.jsxs("div",{className:"client-list-info",children:[f.jsx("h3",{children:"Clientes"}),f.jsxs("span",{className:"client-count",children:[y.length," de ",p.length," clientes"]})]}),f.jsx("div",{className:"client-list-actions",children:f.jsxs("button",{onClick:j,className:"refresh-button",children:[f.jsx(Nd,{size:16}),f.jsx("span",{children:"Atualizar"})]})})]}),y.length===0?f.jsxs("div",{className:"client-list-empty",children:[f.jsx("div",{className:"empty-icon",children:f.jsx(Jh,{size:48})}),f.jsx("h4",{children:"Nenhum cliente encontrado"}),f.jsx("p",{children:i||e!=="all"||n!=="all"?"Tente ajustar os filtros para encontrar clientes.":"Comece adicionando seu primeiro cliente."})]}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"client-grid",children:x.map(I=>f.jsx(j4,{client:I,onEdit:()=>s(I),onView:()=>o(I),onDelete:()=>L(I.id),onToggleStatus:()=>ae(I)},I.id))}),ce>1&&f.jsxs("div",{className:"client-pagination",children:[f.jsx("button",{onClick:()=>R(Q-1),disabled:Q===1,className:"pagination-button",children:"Anterior"}),f.jsx("div",{className:"pagination-pages",children:Array.from({length:ce},(I,M)=>M+1).map(I=>f.jsx("button",{onClick:()=>R(I),className:`pagination-page ${I===Q?"active":""}`,children:I},I))}),f.jsx("button",{onClick:()=>R(Q+1),disabled:Q===ce,className:"pagination-button",children:"Próxima"})]})]})]})},M4=({client:i,onSave:e,onCancel:n,loading:s})=>{const[o,c]=U.useState({name:"",email:"",phone:"",address:"",notes:"",status:"active"}),[d,p]=U.useState({});U.useEffect(()=>{i&&c({name:i.name,email:i.email,phone:i.phone,address:i.address||"",notes:i.notes||"",status:i.status})},[i]);const g=(w,D)=>{c(q=>({...q,[w]:D})),d[w]&&p(q=>({...q,[w]:""}))},y=()=>{const w={};return o.name.trim()||(w.name="Nome é obrigatório"),o.email.trim()?/\S+@\S+\.\S+/.test(o.email)||(w.email="Email inválido"):w.email="Email é obrigatório",o.phone.trim()||(w.phone="Telefone é obrigatório"),p(w),Object.keys(w).length===0},E=w=>{w.preventDefault(),y()&&e(o)},b=!!i;return f.jsxs(_i,{className:"client-form-card",children:[f.jsx(go,{children:f.jsx(yo,{children:b?"Editar Cliente":"Novo Cliente"})}),f.jsx(Ei,{children:f.jsxs("form",{onSubmit:E,className:"client-form",children:[f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsxs("label",{className:"form-label",children:[f.jsx(lr,{size:16}),"Nome *"]}),f.jsx(Ln,{type:"text",value:o.name,onChange:w=>g("name",w),required:!0,placeholder:"Nome completo",className:d.name?"error":""}),d.name&&f.jsx("div",{className:"error-message",children:d.name})]}),f.jsxs("div",{className:"form-group",children:[f.jsxs("label",{className:"form-label",children:[f.jsx(Mg,{size:16}),"Email *"]}),f.jsx(Ln,{type:"email",value:o.email,onChange:w=>g("email",w),required:!0,placeholder:"seu@email.com",className:d.email?"error":""}),d.email&&f.jsx("div",{className:"error-message",children:d.email})]}),f.jsxs("div",{className:"form-group",children:[f.jsxs("label",{className:"form-label",children:[f.jsx(kg,{size:16}),"Telefone *"]}),f.jsx(Ln,{type:"tel",value:o.phone,onChange:w=>g("phone",w),required:!0,placeholder:"(11) 99999-9999",className:d.phone?"error":""}),d.phone&&f.jsx("div",{className:"error-message",children:d.phone})]}),f.jsxs("div",{className:"form-group",children:[f.jsxs("label",{className:"form-label",children:[f.jsx(Ub,{size:16}),"Endereço"]}),f.jsx(Ln,{type:"text",value:o.address,onChange:w=>g("address",w),placeholder:"Endereço completo"})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsxs("label",{className:"form-label",children:[f.jsx(Og,{size:16}),"Observações"]}),f.jsx("textarea",{value:o.notes,onChange:w=>g("notes",w.target.value),placeholder:"Observações sobre o cliente",className:"form-textarea",rows:3})]}),f.jsx("div",{className:"form-row",children:f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"Status"}),f.jsxs("select",{value:o.status,onChange:w=>g("status",w.target.value),className:"form-select",children:[f.jsx("option",{value:"active",children:"Ativo"}),f.jsx("option",{value:"inactive",children:"Inativo"})]})]})}),f.jsxs("div",{className:"form-actions",children:[f.jsxs(Jt,{type:"button",variant:"ghost",onClick:n,disabled:s,children:[f.jsx(Yn,{size:16}),"Cancelar"]}),f.jsxs(Jt,{type:"submit",disabled:s,children:[f.jsx(Vg,{size:16}),s?"Salvando...":b?"Atualizar":"Criar cliente"]})]})]})})]})},k4=()=>{const[i,e]=U.useState(""),[n,s]=U.useState("all"),[o,c]=U.useState("all"),[d,p]=U.useState(!1),[g,y]=U.useState(null),[E,b]=U.useState(null),[w,D]=U.useState(!1),[q,Q]=U.useState(null),[V,F]=U.useState(0),j=()=>{y(null),p(!0)},L=R=>{y(R),p(!0)},ae=R=>{b(R),console.log("Visualizar cliente:",R)},ce=R=>{console.log("Cliente excluído:",R)},Ae=()=>{p(!1),y(null),Q(null)},P=async R=>{try{D(!0),Q(null),g?await ac.updateClient(g.id,R):await ac.createClient(R),p(!1),y(null),F(I=>I+1)}catch(I){console.error("Erro ao salvar cliente:",I),Q("Erro ao salvar cliente. Tente novamente.")}finally{D(!1)}},x=()=>{b(null)};return f.jsx(Lg,{children:f.jsxs("div",{className:"clients-page",children:[f.jsxs("div",{className:"clients-header",children:[f.jsx("div",{className:"clients-title-section",children:f.jsxs("div",{className:"clients-title-group",children:[f.jsx(lr,{className:"page-icon"}),f.jsxs("div",{children:[f.jsx("h1",{className:"clients-title",children:"Clientes"}),f.jsx("p",{className:"clients-subtitle",children:"Gerencie seus clientes e acompanhe suas compras"})]})]})}),f.jsxs("button",{onClick:j,className:"add-client-button",children:[f.jsx(Ec,{size:20}),f.jsx("span",{children:"Novo Cliente"})]})]}),f.jsxs("div",{className:"clients-content",children:[f.jsx(D4,{searchTerm:i,statusFilter:n,periodFilter:o,onSearchChange:e,onStatusChange:s,onPeriodChange:c,onAddClient:j,onClearFilters:()=>{e(""),s("all"),c("all")},totalClients:0,filteredClients:0}),f.jsx(O4,{searchTerm:i,statusFilter:n,periodFilter:o,onEditClient:L,onViewClient:ae,onDeleteClient:ce,refreshTrigger:V})]}),d&&f.jsx("div",{className:"modal-overlay",children:f.jsxs("div",{className:"modal-content",children:[q&&f.jsxs("div",{className:"form-error-banner",children:[f.jsx("p",{children:q}),f.jsx("button",{onClick:()=>Q(null),className:"error-close",children:f.jsx(Yn,{size:16})})]}),f.jsx(M4,{client:g||void 0,onSave:P,onCancel:Ae,loading:w})]})}),E&&f.jsx("div",{className:"modal-overlay",children:f.jsx("div",{className:"modal-content",children:f.jsxs("div",{className:"client-details",children:[f.jsxs("div",{className:"client-details-header",children:[f.jsxs("div",{className:"details-title-group",children:[f.jsx(_c,{className:"details-icon"}),f.jsx("h2",{children:"Detalhes do Cliente"})]}),f.jsx("button",{onClick:x,className:"close-button",children:f.jsx(Yn,{size:20})})]}),f.jsxs("div",{className:"client-details-content",children:[f.jsxs("div",{className:"detail-group",children:[f.jsxs("div",{className:"detail-label",children:[f.jsx(lr,{size:16}),f.jsx("label",{children:"Nome"})]}),f.jsx("span",{children:E.name})]}),f.jsxs("div",{className:"detail-group",children:[f.jsxs("div",{className:"detail-label",children:[f.jsx(Mg,{size:16}),f.jsx("label",{children:"Email"})]}),f.jsx("span",{children:E.email})]}),f.jsxs("div",{className:"detail-group",children:[f.jsxs("div",{className:"detail-label",children:[f.jsx(kg,{size:16}),f.jsx("label",{children:"Telefone"})]}),f.jsx("span",{children:E.phone})]}),E.address&&f.jsxs("div",{className:"detail-group",children:[f.jsxs("div",{className:"detail-label",children:[f.jsx(Ub,{size:16}),f.jsx("label",{children:"Endereço"})]}),f.jsx("span",{children:E.address})]}),f.jsxs("div",{className:"detail-group",children:[f.jsxs("div",{className:"detail-label",children:[f.jsx(lr,{size:16}),f.jsx("label",{children:"Status"})]}),f.jsx("span",{className:`status-badge ${E.status}`,children:E.status==="active"?"Ativo":"Inativo"})]}),f.jsxs("div",{className:"detail-group",children:[f.jsxs("div",{className:"detail-label",children:[f.jsx(Dg,{size:16}),f.jsx("label",{children:"Total de Compras"})]}),f.jsxs("span",{className:"currency-value",children:["R$ ",E.totalPurchases?.toFixed(2)]})]}),E.lastPurchase&&f.jsxs("div",{className:"detail-group",children:[f.jsxs("div",{className:"detail-label",children:[f.jsx(Pc,{size:16}),f.jsx("label",{children:"Última Compra"})]}),f.jsx("span",{children:E.lastPurchase.toLocaleDateString("pt-BR")})]}),E.notes&&f.jsxs("div",{className:"detail-group",children:[f.jsxs("div",{className:"detail-label",children:[f.jsx(Og,{size:16}),f.jsx("label",{children:"Observações"})]}),f.jsx("span",{children:E.notes})]})]}),f.jsxs("div",{className:"client-details-actions",children:[f.jsxs("button",{onClick:()=>{x(),L(E)},className:"edit-button",children:[f.jsx(jg,{size:16}),f.jsx("span",{children:"Editar"})]}),f.jsxs("button",{onClick:x,className:"close-details-button",children:[f.jsx(Yn,{size:16}),f.jsx("span",{children:"Fechar"})]})]})]})})})]})})},cn=[{id:"1",name:"Arroz Integral",unit:"kg",totalQuantity:150,batches:[{id:"1-1",productId:"1",batchNumber:"LOT001",quantity:100,expirationDate:new Date("2024-12-31"),purchasePrice:4.5,salePrice:6,supplier:"Fornecedor A",createdAt:new Date("2024-01-15")},{id:"1-2",productId:"1",batchNumber:"LOT002",quantity:50,expirationDate:new Date("2025-03-15"),purchasePrice:4.3,salePrice:6,supplier:"Fornecedor B",createdAt:new Date("2024-02-10")}],category:"Grãos",description:"Arroz integral orgânico",createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-02-10")},{id:"2",name:"Leite Desnatado",unit:"litro",totalQuantity:80,batches:[{id:"2-1",productId:"2",batchNumber:"LOT003",quantity:80,expirationDate:new Date("2024-11-20"),purchasePrice:3.2,salePrice:4.5,supplier:"Laticínios XYZ",createdAt:new Date("2024-01-20")}],category:"Laticínios",description:"Leite desnatado UHT",createdAt:new Date("2024-01-20"),updatedAt:new Date("2024-01-20")}],Zm=[],V4=[];class P4{async getProducts(e){let n=[...cn];if(e){if(e.unit&&(n=n.filter(s=>s.unit===e.unit)),e.category&&(n=n.filter(s=>s.category===e.category)),e.search){const s=e.search.toLowerCase();n=n.filter(o=>o.name.toLowerCase().includes(s)||o.description?.toLowerCase().includes(s))}if(e.lowStock&&(n=n.filter(s=>s.totalQuantity<50)),e.expiringSoon){const s=new Date;s.setDate(s.getDate()+30),n=n.filter(o=>o.batches.some(c=>c.expirationDate<=s))}}return n}async getProductById(e){return cn.find(n=>n.id===e)||null}async createProduct(e){const n={...e,id:Date.now().toString(),totalQuantity:0,batches:[],createdAt:new Date,updatedAt:new Date};return cn.push(n),n}async updateProduct(e,n){const s=cn.findIndex(o=>o.id===e);return s===-1?null:(cn[s]={...cn[s],...n,updatedAt:new Date},cn[s])}async deleteProduct(e){const n=cn.findIndex(s=>s.id===e);return n===-1?!1:(cn.splice(n,1),!0)}async addBatch(e,n){const s=cn.find(c=>c.id===e);if(!s)throw new Error("Produto não encontrado");const o={...n,id:`${e}-${Date.now()}`,productId:e,createdAt:new Date};return s.batches.push(o),s.totalQuantity+=o.quantity,s.updatedAt=new Date,o}async updateBatch(e,n,s){const o=cn.find(g=>g.id===e);if(!o)return null;const c=o.batches.findIndex(g=>g.id===n);if(c===-1)return null;const d=o.batches[c].quantity;o.batches[c]={...o.batches[c],...s};const p=o.batches[c].quantity;return o.totalQuantity=o.totalQuantity-d+p,o.updatedAt=new Date,o.batches[c]}async createMovement(e){const n={...e,id:Date.now().toString(),createdAt:new Date},s=cn.find(o=>o.id===e.productId);if(s){const o=s.batches.find(c=>c.id===e.batchId);o&&(e.type==="entrada"?o.quantity+=e.quantity:o.quantity-=e.quantity,s.totalQuantity=s.batches.reduce((c,d)=>c+d.quantity,0),s.updatedAt=new Date)}return Zm.push(n),n}async getMovements(e){return e?Zm.filter(n=>n.productId===e):[...Zm]}async getAlerts(){const e=[],n=new Date,s=new Date;s.setDate(n.getDate()+30);for(const o of cn)for(const c of o.batches)c.quantity<20&&e.push({id:`low-${c.id}`,productId:o.id,batchId:c.id,type:"low_stock",message:`${o.name} (Lote ${c.batchNumber}) está com estoque baixo: ${c.quantity} unidades`,severity:c.quantity<10?"high":"medium",isRead:!1,createdAt:new Date}),c.expirationDate<=s&&c.expirationDate>n&&e.push({id:`expiring-${c.id}`,productId:o.id,batchId:c.id,type:"expiring_soon",message:`${o.name} (Lote ${c.batchNumber}) vence em ${Math.ceil((c.expirationDate.getTime()-n.getTime())/(1e3*60*60*24))} dias`,severity:c.expirationDate<=new Date(n.getTime()+10080*60*1e3)?"high":"medium",isRead:!1,createdAt:new Date}),c.expirationDate<=n&&e.push({id:`expired-${c.id}`,productId:o.id,batchId:c.id,type:"expired",message:`${o.name} (Lote ${c.batchNumber}) está vencido desde ${c.expirationDate.toLocaleDateString()}`,severity:"high",isRead:!1,createdAt:new Date});return e}async markAlertAsRead(e){const n=V4.find(s=>s.id===e);return n?(n.isRead=!0,!0):!1}async getStockStats(){const e=await this.getProducts(),n=await this.getAlerts(),s=e.reduce((o,c)=>o+c.batches.reduce((d,p)=>d+p.quantity*(p.purchasePrice||0),0),0);return{totalProducts:e.length,totalValue:s,lowStockCount:n.filter(o=>o.type==="low_stock").length,expiringSoonCount:n.filter(o=>o.type==="expiring_soon").length,expiredCount:n.filter(o=>o.type==="expired").length}}async getCategories(){const e=new Set;return cn.forEach(n=>{n.category&&e.add(n.category)}),Array.from(e)}getUnits(){return["unidade","kg","litro","metro","caixa","pacote"]}}const bn=new P4,L4=({product:i,onDelete:e})=>{const[n,s]=U.useState(!1),o=Q=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Q),c=Q=>new Intl.DateTimeFormat("pt-BR").format(new Date(Q)),d=()=>i.batches.filter(Q=>Q.quantity<20),p=()=>{const Q=new Date;return Q.setDate(Q.getDate()+30),i.batches.filter(V=>V.expirationDate<=Q&&V.expirationDate>new Date)},g=()=>{const Q=new Date;return i.batches.filter(V=>V.expirationDate<=Q)},y=()=>i.batches.reduce((Q,V)=>Q+V.quantity*(V.purchasePrice||0),0),E=()=>{window.confirm(`Tem certeza que deseja excluir o produto "${i.name}"?`)&&e(i.id)},b=d(),w=p(),D=g(),q=b.length>0||w.length>0||D.length>0;return f.jsxs("div",{className:`product-card ${q?"has-alerts":""}`,children:[f.jsxs("div",{className:"card-header",children:[f.jsxs("div",{className:"product-info",children:[f.jsx("h3",{className:"product-name",children:i.name}),f.jsxs("div",{className:"product-meta",children:[f.jsx("span",{className:"product-unit",children:i.unit}),i.category&&f.jsx("span",{className:"product-category",children:i.category})]})]}),f.jsxs("div",{className:"card-actions",children:[f.jsx("button",{className:"action-btn",onClick:()=>s(!n),title:"Ver detalhes",children:f.jsx(_c,{})}),f.jsx("button",{className:"action-btn",onClick:()=>{},title:"Editar produto",children:f.jsx(jg,{})}),f.jsx("button",{className:"action-btn danger",onClick:E,title:"Excluir produto",children:f.jsx(Bb,{})})]})]}),f.jsxs("div",{className:"card-stats",children:[f.jsxs("div",{className:"stat",children:[f.jsx("div",{className:"stat-value",children:i.totalQuantity}),f.jsx("div",{className:"stat-label",children:"Quantidade Total"})]}),f.jsxs("div",{className:"stat",children:[f.jsx("div",{className:"stat-value",children:i.batches.length}),f.jsx("div",{className:"stat-label",children:"Lotes"})]}),f.jsxs("div",{className:"stat",children:[f.jsx("div",{className:"stat-value",children:o(y())}),f.jsx("div",{className:"stat-label",children:"Valor Total"})]})]}),q&&f.jsxs("div",{className:"card-alerts",children:[b.length>0&&f.jsxs("div",{className:"alert low-stock",children:[f.jsx(Ti,{}),f.jsxs("span",{children:[b.length," lote(s) com estoque baixo"]})]}),w.length>0&&f.jsxs("div",{className:"alert expiring",children:[f.jsx(vc,{}),f.jsxs("span",{children:[w.length," lote(s) próximo(s) do vencimento"]})]}),D.length>0&&f.jsxs("div",{className:"alert expired",children:[f.jsx(Ti,{}),f.jsxs("span",{children:[D.length," lote(s) vencido(s)"]})]})]}),n&&f.jsxs("div",{className:"card-details",children:[f.jsxs("div",{className:"details-section",children:[f.jsx("h4",{children:"Lotes"}),f.jsx("div",{className:"batches-list",children:i.batches.map(Q=>{const V=Q.quantity<20,F=Q.expirationDate<=new Date(Date.now()+720*60*60*1e3),j=Q.expirationDate<=new Date;return f.jsxs("div",{className:`batch-item ${V?"low-stock":""} ${F?"expiring":""} ${j?"expired":""}`,children:[f.jsxs("div",{className:"batch-header",children:[f.jsx("span",{className:"batch-number",children:Q.batchNumber}),f.jsxs("span",{className:"batch-quantity",children:[Q.quantity," ",i.unit]})]}),f.jsxs("div",{className:"batch-details",children:[f.jsxs("div",{className:"batch-date",children:["Vence: ",c(Q.expirationDate)]}),Q.purchasePrice&&f.jsxs("div",{className:"batch-price",children:["Preço: ",o(Q.purchasePrice)]})]})]},Q.id)})})]}),i.description&&f.jsxs("div",{className:"details-section",children:[f.jsx("h4",{children:"Descrição"}),f.jsx("p",{children:i.description})]})]})]})},U4=({filters:i,onFiltersChange:e,onClose:n})=>{const[s,o]=U.useState(i),[c,d]=U.useState([]),[p,g]=U.useState([]),[y,E]=U.useState(!1);U.useEffect(()=>{b()},[]);const b=async()=>{E(!0);try{const[V,F]=await Promise.all([bn.getCategories(),Promise.resolve(bn.getUnits())]);d(V),g(F)}catch(V){console.error("Erro ao carregar opções de filtro:",V)}finally{E(!1)}},w=(V,F)=>{const j={...s,[V]:F};o(j)},D=()=>{e(s)},q=()=>{const V={};o(V),e(V)},Q=Object.values(s).some(V=>V!==void 0&&V!==""&&V!==!1);return f.jsxs("div",{className:"product-filters",children:[f.jsxs("div",{className:"filters-header",children:[f.jsxs("div",{className:"filters-title",children:[f.jsx(Rd,{}),f.jsx("h3",{children:"Filtros"})]}),f.jsx("button",{className:"close-btn",onClick:n,children:f.jsx(Yn,{})})]}),f.jsxs("div",{className:"filters-content",children:[f.jsxs("div",{className:"filter-group",children:[f.jsx("label",{className:"filter-label",children:"Unidade"}),f.jsxs("select",{value:s.unit||"",onChange:V=>w("unit",V.target.value||void 0),className:"filter-select",children:[f.jsx("option",{value:"",children:"Todas as unidades"}),p.map(V=>f.jsx("option",{value:V,children:V.charAt(0).toUpperCase()+V.slice(1)},V))]})]}),f.jsxs("div",{className:"filter-group",children:[f.jsx("label",{className:"filter-label",children:"Categoria"}),f.jsxs("select",{value:s.category||"",onChange:V=>w("category",V.target.value||void 0),className:"filter-select",children:[f.jsx("option",{value:"",children:"Todas as categorias"}),c.map(V=>f.jsx("option",{value:V,children:V},V))]})]}),f.jsxs("div",{className:"filter-group",children:[f.jsx("label",{className:"filter-label",children:"Número do Lote"}),f.jsx("input",{type:"text",value:s.batchNumber||"",onChange:V=>w("batchNumber",V.target.value||void 0),placeholder:"Digite o número do lote",className:"filter-input"})]}),f.jsx("div",{className:"filter-group",children:f.jsxs("label",{className:"filter-checkbox",children:[f.jsx("input",{type:"checkbox",checked:s.lowStock||!1,onChange:V=>w("lowStock",V.target.checked)}),f.jsx("span",{className:"checkmark"}),"Estoque baixo"]})}),f.jsx("div",{className:"filter-group",children:f.jsxs("label",{className:"filter-checkbox",children:[f.jsx("input",{type:"checkbox",checked:s.expiringSoon||!1,onChange:V=>w("expiringSoon",V.target.checked)}),f.jsx("span",{className:"checkmark"}),"Próximos do vencimento"]})})]}),f.jsxs("div",{className:"filters-footer",children:[f.jsx("button",{className:"btn btn-secondary",onClick:q,disabled:!Q,children:"Limpar Filtros"}),f.jsx("button",{className:"btn btn-primary",onClick:D,disabled:y,children:y?"Aplicando...":"Aplicar Filtros"})]})]})},z4=({products:i,onRefresh:e,onAddMovement:n})=>{const[s,o]=U.useState(i),[c,d]=U.useState({}),[p,g]=U.useState(!1),[y,E]=U.useState(""),[b,w]=U.useState(!1);U.useEffect(()=>{o(i)},[i]);const D=async j=>{E(j),w(!0);try{const L={...c,search:j},ae=await bn.getProducts(L);o(ae)}catch(L){console.error("Erro ao buscar produtos:",L)}finally{w(!1)}},q=async j=>{d(j),w(!0);try{const L={...j,search:y},ae=await bn.getProducts(L);o(ae)}catch(L){console.error("Erro ao filtrar produtos:",L)}finally{w(!1)}},Q=async j=>{if(window.confirm("Tem certeza que deseja excluir este produto?"))try{await bn.deleteProduct(j),e()}catch(L){console.error("Erro ao excluir produto:",L),alert("Erro ao excluir produto")}},V=()=>i.filter(j=>j.totalQuantity<50).length,F=()=>{const j=new Date;return j.setDate(j.getDate()+30),i.filter(L=>L.batches.some(ae=>ae.expirationDate<=j)).length};return f.jsxs("div",{className:"product-list",children:[f.jsxs("div",{className:"list-header",children:[f.jsxs("div",{className:"header-info",children:[f.jsx("h2",{children:"Produtos em Estoque"}),f.jsxs("div",{className:"product-count",children:[s.length," de ",i.length," produtos"]})]}),f.jsxs("div",{className:"header-actions",children:[f.jsxs("button",{className:"btn btn-secondary",onClick:()=>g(!p),children:[f.jsx(Rd,{}),"Filtros"]}),f.jsxs("button",{className:"btn btn-primary",onClick:n,children:[f.jsx(Ec,{}),"Movimentação"]})]})]}),p&&f.jsx(U4,{filters:c,onFiltersChange:q,onClose:()=>g(!1)}),f.jsxs("div",{className:"search-section",children:[f.jsxs("div",{className:"search-input-container",children:[f.jsx(Pg,{className:"search-icon"}),f.jsx("input",{type:"text",placeholder:"Buscar produtos...",value:y,onChange:j=>D(j.target.value),className:"search-input"})]}),f.jsxs("div",{className:"quick-filters",children:[f.jsxs("button",{className:`quick-filter ${c.lowStock?"active":""}`,onClick:()=>q({...c,lowStock:!c.lowStock}),children:[f.jsx(Ti,{}),"Estoque Baixo (",V(),")"]}),f.jsxs("button",{className:`quick-filter ${c.expiringSoon?"active":""}`,onClick:()=>q({...c,expiringSoon:!c.expiringSoon}),children:[f.jsx(vc,{}),"Próximos do Vencimento (",F(),")"]})]})]}),b?f.jsxs("div",{className:"loading-container",children:[f.jsx("div",{className:"loading-spinner"}),f.jsx("p",{children:"Carregando produtos..."})]}):s.length===0?f.jsxs("div",{className:"empty-state",children:[f.jsx(aa,{className:"empty-icon"}),f.jsx("h3",{children:"Nenhum produto encontrado"}),f.jsx("p",{children:y||Object.keys(c).length>0?"Tente ajustar os filtros de busca":"Comece adicionando seu primeiro produto"})]}):f.jsx("div",{className:"products-grid",children:s.map(j=>f.jsx(L4,{product:j,onDelete:Q},j.id))})]})},B4=({onProductCreated:i,onCancel:e})=>{const[n,s]=U.useState({name:"",unit:"unidade",category:"",description:""}),[o,c]=U.useState([{batchNumber:"",quantity:0,expirationDate:new Date,purchasePrice:0,salePrice:0,supplier:""}]),[d,p]=U.useState(!1),[g,y]=U.useState({}),E=bn.getUnits(),b=()=>{const F={};return n.name.trim()||(F.name="Nome do produto é obrigatório"),n.unit||(F.unit="Unidade é obrigatória"),o.forEach((j,L)=>{j.batchNumber.trim()||(F[`batch_${L}_number`]="Número do lote é obrigatório"),j.quantity<=0&&(F[`batch_${L}_quantity`]="Quantidade deve ser maior que zero"),j.expirationDate<=new Date&&(F[`batch_${L}_expiration`]="Data de vencimento deve ser futura")}),y(F),Object.keys(F).length===0},w=(F,j)=>{s(L=>({...L,[F]:j})),g[F]&&y(L=>({...L,[F]:""}))},D=(F,j,L)=>{const ae=[...o];j==="quantity"||j==="purchasePrice"||j==="salePrice"?ae[F]={...ae[F],[j]:parseFloat(L)||0}:j==="expirationDate"?ae[F]={...ae[F],[j]:new Date(L)}:ae[F]={...ae[F],[j]:L},c(ae);const ce=`batch_${F}_${j}`;g[ce]&&y(Ae=>({...Ae,[ce]:""}))},q=()=>{c(F=>[...F,{batchNumber:"",quantity:0,expirationDate:new Date,purchasePrice:0,salePrice:0,supplier:""}])},Q=F=>{o.length>1&&c(j=>j.filter((L,ae)=>ae!==F))},V=async F=>{if(F.preventDefault(),!!b()){p(!0);try{const j=await bn.createProduct(n);for(const L of o)await bn.addBatch(j.id,L);i()}catch(j){console.error("Erro ao criar produto:",j),alert("Erro ao criar produto. Tente novamente.")}finally{p(!1)}}};return f.jsxs("div",{className:"product-form",children:[f.jsxs("div",{className:"form-header",children:[f.jsx("h2",{children:"Cadastrar Novo Produto"}),f.jsx("button",{className:"close-btn",onClick:e,children:f.jsx(Yn,{})})]}),f.jsxs("form",{onSubmit:V,className:"form-content",children:[f.jsxs("div",{className:"form-section",children:[f.jsx("h3",{children:"Informações do Produto"}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"Nome do Produto *"}),f.jsx("input",{type:"text",value:n.name,onChange:F=>w("name",F.target.value),className:`form-input ${g.name?"error":""}`,placeholder:"Ex: Arroz Integral"}),g.name&&f.jsx("span",{className:"error-message",children:g.name})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"Unidade *"}),f.jsx("select",{value:n.unit,onChange:F=>w("unit",F.target.value),className:`form-select ${g.unit?"error":""}`,children:E.map(F=>f.jsx("option",{value:F,children:F.charAt(0).toUpperCase()+F.slice(1)},F))}),g.unit&&f.jsx("span",{className:"error-message",children:g.unit})]})]}),f.jsx("div",{className:"form-row",children:f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"Categoria"}),f.jsx("input",{type:"text",value:n.category,onChange:F=>w("category",F.target.value),className:"form-input",placeholder:"Ex: Grãos, Laticínios"})]})}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"Descrição"}),f.jsx("textarea",{value:n.description,onChange:F=>w("description",F.target.value),className:"form-textarea",placeholder:"Descrição detalhada do produto",rows:3})]})]}),f.jsxs("div",{className:"form-section",children:[f.jsxs("div",{className:"section-header",children:[f.jsx("h3",{children:"Lotes de Estoque"}),f.jsxs("button",{type:"button",className:"btn btn-secondary",onClick:q,children:[f.jsx(Ec,{}),"Adicionar Lote"]})]}),o.map((F,j)=>f.jsxs("div",{className:"batch-form",children:[f.jsxs("div",{className:"batch-header",children:[f.jsxs("h4",{children:["Lote ",j+1]}),o.length>1&&f.jsx("button",{type:"button",className:"remove-batch-btn",onClick:()=>Q(j),children:f.jsx(Bb,{})})]}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"Número do Lote *"}),f.jsx("input",{type:"text",value:F.batchNumber,onChange:L=>D(j,"batchNumber",L.target.value),className:`form-input ${g[`batch_${j}_number`]?"error":""}`,placeholder:"Ex: LOT001"}),g[`batch_${j}_number`]&&f.jsx("span",{className:"error-message",children:g[`batch_${j}_number`]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"Quantidade *"}),f.jsx("input",{type:"number",min:"0",step:"0.01",value:F.quantity,onChange:L=>D(j,"quantity",L.target.value),className:`form-input ${g[`batch_${j}_quantity`]?"error":""}`,placeholder:"0"}),g[`batch_${j}_quantity`]&&f.jsx("span",{className:"error-message",children:g[`batch_${j}_quantity`]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"Data de Vencimento *"}),f.jsx("input",{type:"date",value:F.expirationDate.toISOString().split("T")[0],onChange:L=>D(j,"expirationDate",L.target.value),className:`form-input ${g[`batch_${j}_expiration`]?"error":""}`}),g[`batch_${j}_expiration`]&&f.jsx("span",{className:"error-message",children:g[`batch_${j}_expiration`]})]})]}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"Preço de Compra"}),f.jsx("input",{type:"number",min:"0",step:"0.01",value:F.purchasePrice||"",onChange:L=>D(j,"purchasePrice",L.target.value),className:"form-input",placeholder:"0,00"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"Preço de Venda"}),f.jsx("input",{type:"number",min:"0",step:"0.01",value:F.salePrice||"",onChange:L=>D(j,"salePrice",L.target.value),className:"form-input",placeholder:"0,00"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"Fornecedor"}),f.jsx("input",{type:"text",value:F.supplier||"",onChange:L=>D(j,"supplier",L.target.value),className:"form-input",placeholder:"Nome do fornecedor"})]})]})]},j))]}),f.jsxs("div",{className:"form-footer",children:[f.jsx("button",{type:"button",className:"btn btn-secondary",onClick:e,disabled:d,children:"Cancelar"}),f.jsxs("button",{type:"submit",className:"btn btn-primary",disabled:d,children:[f.jsx(Vg,{}),d?"Salvando...":"Salvar Produto"]})]})]})]})},q4=({products:i,onMovementCreated:e,onCancel:n})=>{const[s,o]=U.useState({productId:"",batchId:"",type:"entrada",quantity:0,reason:"",notes:""}),[c,d]=U.useState(null),[p,g]=U.useState([]),[y,E]=U.useState(!1),[b,w]=U.useState({}),D={entrada:["Compra de fornecedor","Devolução de cliente","Ajuste de inventário","Transferência entre filiais","Outros"],saida:["Venda","Perda/Quebra","Transferência entre filiais","Ajuste de inventário","Uso interno","Outros"]};U.useEffect(()=>{if(s.productId){const L=i.find(ae=>ae.id===s.productId);d(L||null),L&&(g(L.batches),o(ae=>({...ae,batchId:""})))}else d(null),g([])},[s.productId,i]);const q=()=>{const L={};if(s.productId||(L.productId="Produto é obrigatório"),s.batchId||(L.batchId="Lote é obrigatório"),s.quantity<=0&&(L.quantity="Quantidade deve ser maior que zero"),s.reason.trim()||(L.reason="Motivo é obrigatório"),s.type==="saida"&&s.batchId){const ae=p.find(ce=>ce.id===s.batchId);ae&&s.quantity>ae.quantity&&(L.quantity=`Quantidade disponível: ${ae.quantity}`)}return w(L),Object.keys(L).length===0},Q=(L,ae)=>{o(L==="quantity"?ce=>({...ce,[L]:parseFloat(ae)||0}):ce=>({...ce,[L]:ae})),b[L]&&w(ce=>({...ce,[L]:""}))},V=async L=>{if(L.preventDefault(),!!q()){E(!0);try{const ae={...s,userId:"current-user-id"};await bn.createMovement(ae),e()}catch(ae){console.error("Erro ao criar movimentação:",ae),alert("Erro ao criar movimentação. Tente novamente.")}finally{E(!1)}}},F=()=>{if(s.type==="entrada")return;const L=p.find(ae=>ae.id===s.batchId);return L?L.quantity:0},j=()=>{if(!c||!s.batchId)return 0;const L=p.find(ae=>ae.id===s.batchId);return L?s.type==="entrada"?L.quantity+s.quantity:Math.max(0,L.quantity-s.quantity):0};return f.jsxs("div",{className:"movement-form",children:[f.jsxs("div",{className:"form-header",children:[f.jsx("h2",{children:"Movimentação de Estoque"}),f.jsx("button",{className:"close-btn",onClick:n,children:f.jsx(Yn,{})})]}),f.jsxs("form",{onSubmit:V,className:"form-content",children:[f.jsxs("div",{className:"movement-type-selector",children:[f.jsxs("button",{type:"button",className:`type-btn ${s.type==="entrada"?"active":""}`,onClick:()=>Q("type","entrada"),children:[f.jsx(Tc,{}),"Entrada"]}),f.jsxs("button",{type:"button",className:`type-btn ${s.type==="saida"?"active":""}`,onClick:()=>Q("type","saida"),children:[f.jsx(x4,{}),"Saída"]})]}),f.jsxs("div",{className:"form-section",children:[f.jsx("h3",{children:"Informações da Movimentação"}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"Produto *"}),f.jsxs("select",{value:s.productId,onChange:L=>Q("productId",L.target.value),className:`form-select ${b.productId?"error":""}`,children:[f.jsx("option",{value:"",children:"Selecione um produto"}),i.map(L=>f.jsxs("option",{value:L.id,children:[L.name," (",L.totalQuantity," ",L.unit,")"]},L.id))]}),b.productId&&f.jsx("span",{className:"error-message",children:b.productId})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"Lote *"}),f.jsxs("select",{value:s.batchId,onChange:L=>Q("batchId",L.target.value),className:`form-select ${b.batchId?"error":""}`,disabled:!c,children:[f.jsx("option",{value:"",children:"Selecione um lote"}),p.map(L=>f.jsxs("option",{value:L.id,children:[L.batchNumber," - ",L.quantity," ",c?.unit,"(Vence:"," ",new Date(L.expirationDate).toLocaleDateString("pt-BR"),")"]},L.id))]}),b.batchId&&f.jsx("span",{className:"error-message",children:b.batchId})]})]}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"Quantidade *"}),f.jsx("input",{type:"number",min:"0",max:F(),step:"0.01",value:s.quantity,onChange:L=>Q("quantity",L.target.value),className:`form-input ${b.quantity?"error":""}`,placeholder:"0"}),b.quantity&&f.jsx("span",{className:"error-message",children:b.quantity}),s.type==="saida"&&s.batchId&&f.jsxs("div",{className:"input-hint",children:["Disponível:"," ",p.find(L=>L.id===s.batchId)?.quantity||0," ",c?.unit]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"Motivo *"}),f.jsxs("select",{value:s.reason,onChange:L=>Q("reason",L.target.value),className:`form-select ${b.reason?"error":""}`,children:[f.jsx("option",{value:"",children:"Selecione um motivo"}),D[s.type].map(L=>f.jsx("option",{value:L,children:L},L))]}),b.reason&&f.jsx("span",{className:"error-message",children:b.reason})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"Observações"}),f.jsx("textarea",{value:s.notes,onChange:L=>Q("notes",L.target.value),className:"form-textarea",placeholder:"Observações adicionais sobre a movimentação",rows:3})]})]}),c&&s.batchId&&f.jsxs("div",{className:"movement-summary",children:[f.jsx("h3",{children:"Resumo da Movimentação"}),f.jsxs("div",{className:"summary-content",children:[f.jsxs("div",{className:"summary-item",children:[f.jsx("span",{className:"summary-label",children:"Produto:"}),f.jsx("span",{className:"summary-value",children:c.name})]}),f.jsxs("div",{className:"summary-item",children:[f.jsx("span",{className:"summary-label",children:"Lote:"}),f.jsx("span",{className:"summary-value",children:p.find(L=>L.id===s.batchId)?.batchNumber})]}),f.jsxs("div",{className:"summary-item",children:[f.jsx("span",{className:"summary-label",children:"Quantidade Atual:"}),f.jsxs("span",{className:"summary-value",children:[p.find(L=>L.id===s.batchId)?.quantity," ",c.unit]})]}),f.jsxs("div",{className:"summary-item",children:[f.jsx("span",{className:"summary-label",children:"Movimentação:"}),f.jsxs("span",{className:`summary-value ${s.type==="entrada"?"positive":"negative"}`,children:[s.type==="entrada"?"+":"-",s.quantity," ",c.unit]})]}),f.jsxs("div",{className:"summary-item",children:[f.jsx("span",{className:"summary-label",children:"Quantidade Final:"}),f.jsxs("span",{className:"summary-value",children:[j()," ",c.unit]})]})]})]}),f.jsxs("div",{className:"form-footer",children:[f.jsx("button",{type:"button",className:"btn btn-secondary",onClick:n,disabled:y,children:"Cancelar"}),f.jsxs("button",{type:"submit",className:"btn btn-primary",disabled:y,children:[f.jsx(Vg,{}),y?"Salvando...":"Salvar Movimentação"]})]})]})]})},F4=({alerts:i,onAlertRead:e,onRefresh:n})=>{const[s,o]=U.useState("all"),[c,d]=U.useState(!1),p=i.filter(j=>!c&&j.isRead?!1:s==="unread"?!j.isRead:s==="all"?!0:j.type===s),g=j=>{switch(j){case"low_stock":return f.jsx(Ti,{className:"alert-icon low-stock"});case"expiring_soon":return f.jsx(vc,{className:"alert-icon expiring"});case"expired":return f.jsx(Yn,{className:"alert-icon expired"});default:return f.jsx(Ti,{className:"alert-icon"})}},y=j=>{switch(j){case"high":return"high";case"medium":return"medium";case"low":return"low";default:return"low"}},E=j=>{switch(j){case"low_stock":return"Estoque Baixo";case"expiring_soon":return"Próximo do Vencimento";case"expired":return"Vencido";default:return"Alerta"}},b=j=>new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(j)),w=async j=>{await e(j)},D=async()=>{const j=i.filter(L=>!L.isRead);for(const L of j)await e(L.id)},q=i.filter(j=>!j.isRead).length,Q=i.filter(j=>j.type==="low_stock").length,V=i.filter(j=>j.type==="expiring_soon").length,F=i.filter(j=>j.type==="expired").length;return f.jsxs("div",{className:"stock-alerts",children:[f.jsxs("div",{className:"alerts-header",children:[f.jsxs("div",{className:"header-info",children:[f.jsx("h2",{children:"Alertas de Estoque"}),f.jsxs("div",{className:"alerts-count",children:[p.length," de ",i.length," alertas"]})]}),f.jsxs("div",{className:"header-actions",children:[f.jsxs("button",{className:"btn btn-secondary",onClick:()=>d(!c),title:c?"Ocultar lidos":"Mostrar lidos",children:[c?f.jsx(_4,{}):f.jsx(_c,{}),c?"Ocultar Lidos":"Mostrar Lidos"]}),q>0&&f.jsx("button",{className:"btn btn-primary",onClick:D,children:"Marcar Todos como Lidos"}),f.jsxs("button",{className:"btn btn-secondary",onClick:n,children:[f.jsx(Nd,{}),"Atualizar"]})]})]}),f.jsx("div",{className:"alerts-filters",children:f.jsxs("div",{className:"filter-tabs",children:[f.jsxs("button",{className:`filter-tab ${s==="all"?"active":""}`,onClick:()=>o("all"),children:["Todos (",i.length,")"]}),f.jsxs("button",{className:`filter-tab ${s==="unread"?"active":""}`,onClick:()=>o("unread"),children:["Não Lidos (",q,")"]}),f.jsxs("button",{className:`filter-tab ${s==="low_stock"?"active":""}`,onClick:()=>o("low_stock"),children:[f.jsx(Ti,{}),"Estoque Baixo (",Q,")"]}),f.jsxs("button",{className:`filter-tab ${s==="expiring_soon"?"active":""}`,onClick:()=>o("expiring_soon"),children:[f.jsx(vc,{}),"Próximos do Vencimento (",V,")"]}),f.jsxs("button",{className:`filter-tab ${s==="expired"?"active":""}`,onClick:()=>o("expired"),children:[f.jsx(Yn,{}),"Vencidos (",F,")"]})]})}),p.length===0?f.jsxs("div",{className:"empty-state",children:[f.jsx(Ti,{className:"empty-icon"}),f.jsx("h3",{children:"Nenhum alerta encontrado"}),f.jsx("p",{children:s==="unread"?"Todos os alertas foram lidos":"Não há alertas para os filtros selecionados"})]}):f.jsx("div",{className:"alerts-list",children:p.map(j=>f.jsxs("div",{className:`alert-card ${j.isRead?"read":""} ${y(j.severity)}`,children:[f.jsxs("div",{className:"alert-content",children:[f.jsx("div",{className:"alert-icon-container",children:g(j.type)}),f.jsxs("div",{className:"alert-details",children:[f.jsxs("div",{className:"alert-header",children:[f.jsx("span",{className:"alert-type",children:E(j.type)}),f.jsx("span",{className:"alert-severity",children:j.severity==="high"?"Alto":j.severity==="medium"?"Médio":"Baixo"})]}),f.jsx("p",{className:"alert-message",children:j.message}),f.jsxs("div",{className:"alert-meta",children:[f.jsx("span",{className:"alert-date",children:b(j.createdAt)}),j.isRead&&f.jsx("span",{className:"alert-status",children:"Lido"})]})]})]}),!j.isRead&&f.jsx("div",{className:"alert-actions",children:f.jsx("button",{className:"mark-read-btn",onClick:()=>w(j.id),title:"Marcar como lido",children:f.jsx(_c,{})})})]},j.id))})]})},H4=({stats:i,onRefresh:e,refreshing:n})=>{const s=o=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(o);return f.jsxs("div",{className:"stock-stats",children:[f.jsxs("div",{className:"stats-header",children:[f.jsx("h2",{children:"Resumo do Estoque"}),f.jsx("button",{className:`refresh-btn ${n?"refreshing":""}`,onClick:e,disabled:n,children:f.jsx(Nd,{})})]}),f.jsxs("div",{className:"stats-grid",children:[f.jsxs("div",{className:"stat-card",children:[f.jsx("div",{className:"stat-icon",children:f.jsx(aa,{})}),f.jsxs("div",{className:"stat-content",children:[f.jsx("div",{className:"stat-value",children:i.totalProducts}),f.jsx("div",{className:"stat-label",children:"Total de Produtos"})]})]}),f.jsxs("div",{className:"stat-card",children:[f.jsx("div",{className:"stat-icon value",children:f.jsx(aa,{})}),f.jsxs("div",{className:"stat-content",children:[f.jsx("div",{className:"stat-value",children:s(i.totalValue)}),f.jsx("div",{className:"stat-label",children:"Valor Total"})]})]}),f.jsxs("div",{className:"stat-card warning",children:[f.jsx("div",{className:"stat-icon",children:f.jsx(Ti,{})}),f.jsxs("div",{className:"stat-content",children:[f.jsx("div",{className:"stat-value",children:i.lowStockCount}),f.jsx("div",{className:"stat-label",children:"Estoque Baixo"})]})]}),f.jsxs("div",{className:"stat-card danger",children:[f.jsx("div",{className:"stat-icon",children:f.jsx(vc,{})}),f.jsxs("div",{className:"stat-content",children:[f.jsx("div",{className:"stat-value",children:i.expiringSoonCount}),f.jsx("div",{className:"stat-label",children:"Próximos do Vencimento"})]})]}),f.jsxs("div",{className:"stat-card critical",children:[f.jsx("div",{className:"stat-icon",children:f.jsx(Yn,{})}),f.jsxs("div",{className:"stat-content",children:[f.jsx("div",{className:"stat-value",children:i.expiredCount}),f.jsx("div",{className:"stat-label",children:"Vencidos"})]})]})]})]})},G4=()=>{const[i,e]=U.useState("list"),[n,s]=U.useState([]),[o,c]=U.useState(null),[d,p]=U.useState([]),[g,y]=U.useState(!0),[E,b]=U.useState(!1),w=async()=>{try{y(!0);const[F,j,L]=await Promise.all([bn.getProducts(),bn.getStockStats(),bn.getAlerts()]);s(F),c(j),p(L)}catch(F){console.error("Erro ao carregar dados do estoque:",F)}finally{y(!1)}},D=async()=>{b(!0),await w(),b(!1)};U.useEffect(()=>{w()},[]);const q=()=>{D(),e("list")},Q=()=>{D(),e("list")},V=async F=>{await bn.markAlertAsRead(F),D()};return g?f.jsx("div",{className:"stock-page",children:f.jsxs("div",{className:"loading-container",children:[f.jsx("div",{className:"loading-spinner"}),f.jsx("p",{children:"Carregando estoque..."})]})}):f.jsx(Lg,{children:f.jsxs("div",{className:"stock-page",children:[f.jsxs("div",{className:"stock-header",children:[f.jsxs("div",{className:"header-title",children:[f.jsx(aa,{className:"header-icon"}),f.jsx("h1",{children:"Gestão de Estoque"})]}),f.jsxs("div",{className:"header-actions",children:[f.jsxs("button",{className:"btn btn-secondary",onClick:()=>e("alerts"),title:"Ver alertas",children:[f.jsx(Ti,{}),d.filter(F=>!F.isRead).length>0&&f.jsx("span",{className:"alert-badge",children:d.filter(F=>!F.isRead).length})]}),f.jsxs("button",{className:"btn btn-primary",onClick:()=>e("add-product"),children:[f.jsx(Ec,{}),"Novo Produto"]})]})]}),o&&f.jsx(H4,{stats:o,onRefresh:D,refreshing:E}),f.jsxs("div",{className:"stock-content",children:[f.jsx("div",{className:"content-sidebar",children:f.jsxs("div",{className:"sidebar-section",children:[f.jsx("h3",{children:"Navegação"}),f.jsxs("nav",{className:"sidebar-nav",children:[f.jsxs("button",{className:`nav-item ${i==="list"?"active":""}`,onClick:()=>e("list"),children:[f.jsx(aa,{}),"Lista de Produtos"]}),f.jsxs("button",{className:`nav-item ${i==="add-product"?"active":""}`,onClick:()=>e("add-product"),children:[f.jsx(Ec,{}),"Cadastrar Produto"]}),f.jsxs("button",{className:`nav-item ${i==="add-movement"?"active":""}`,onClick:()=>e("add-movement"),children:[f.jsx(Tc,{}),"Movimentação"]}),f.jsxs("button",{className:`nav-item ${i==="alerts"?"active":""}`,onClick:()=>e("alerts"),children:[f.jsx(Ti,{}),"Alertas",d.filter(F=>!F.isRead).length>0&&f.jsx("span",{className:"nav-badge",children:d.filter(F=>!F.isRead).length})]})]})]})}),f.jsxs("div",{className:"content-main",children:[i==="list"&&f.jsx(z4,{products:n,onRefresh:D,onAddMovement:()=>e("add-movement")}),i==="add-product"&&f.jsx(B4,{onProductCreated:q,onCancel:()=>e("list")}),i==="add-movement"&&f.jsx(q4,{products:n,onMovementCreated:Q,onCancel:()=>e("list")}),i==="alerts"&&f.jsx(F4,{alerts:d,onAlertRead:V,onRefresh:D})]})]})]})})},Q4=()=>f.jsx(VA,{children:f.jsxs(fA,{children:[f.jsx(Xs,{path:$n.home,element:f.jsx(GE,{})}),f.jsx(Xs,{path:$n.login,element:f.jsx(GE,{})}),f.jsx(Xs,{path:$n.register,element:f.jsx(p4,{})}),f.jsx(Xs,{path:$n.dashboard,element:f.jsx(Wm,{children:f.jsx(I4,{})})}),f.jsx(Xs,{path:$n.clients,element:f.jsx(Wm,{children:f.jsx(k4,{})})}),f.jsx(Xs,{path:$n.stock,element:f.jsx(Wm,{children:f.jsx(G4,{})})})]})});function $4(){return f.jsx(o4,{children:f.jsx(Q4,{})})}bw.createRoot(document.getElementById("root")).render(f.jsx(U.StrictMode,{children:f.jsx($4,{})}));
